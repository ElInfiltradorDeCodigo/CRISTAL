"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3457],{3457:(C,c,i)=>{i.r(c),i.d(c,{ActualizarEmpleadoPageModule:()=>A});var g=i(6814),s=i(95),l=i(7027),p=i(2891),m=i(5861),e=i(5879),h=i(7523);const M=[{path:"",component:(()=>{var a;class u{constructor(o,n,t,r){this.toastController=o,this.route=n,this.db=t,this.router=r}datosCambiados(){var o=this;return(0,m.Z)(function*(){(yield o.toastController.create({message:"Los Datos Se Actualizaron Correctamente!",duration:2e3,cssClass:"toast-custom"})).present()})()}ngOnInit(){const o=this.route.snapshot.paramMap.get("id");o?this.loadEmpleadoData(o):console.error("empleadoUid is undefined or null")}loadEmpleadoData(o){this.db.object(`EMPLEADOS/${o}`).valueChanges().subscribe(t=>{t&&(this.nombre=t.nombre,this.apellido_p=t.apellido_p,this.apellido_m=t.apellido_m,this.telefono=t.telefono,this.sucursal=t.sucursal,this.departamento=t.departamento)},t=>{console.error("Error al cargar empleado:",t)})}guardarCambios(){const o=this.route.snapshot.paramMap.get("id");o?(this.actualizarDatosEmpleado(o),this.router.navigate(["/empleados"])):console.error("empleadoUid is undefined or null")}actualizarDatosEmpleado(o){this.db.object(`EMPLEADOS/${o}`).update({nombre:this.nombre,apellido_p:this.apellido_p,apellido_m:this.apellido_m,telefono:this.telefono,sucursal:this.sucursal,departamento:this.departamento}).then(()=>{this.datosCambiados()}).catch(n=>{console.error("Error al actualizar datos del empleado:",n)})}}return(a=u).\u0275fac=function(o){return new(o||a)(e.Y36(l.yF),e.Y36(p.gz),e.Y36(h.KQ),e.Y36(p.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-actualizar-empleado"]],decls:26,vars:13,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/empleados","color","secondary"],["fullscreen",""],[1,"datosCambio"],["label","Nombre:","maxlength","45","required","",3,"ngModel","counter","ngModelChange"],["label","Apellido Paterno:","maxlength","45","required","",3,"ngModel","counter","ngModelChange"],["label","Apellido Materno:","maxlength","45","required","",3,"ngModel","counter","ngModelChange"],["label","Tel\xe9fono:","onkeypress","return (event.charCode >= 48 && event.charCode <= 57)","maxlength","10","required","",3,"ngModel","counter","ngModelChange"],["label","Sucursal:","maxlength","50","required","",3,"ngModel","counter","ngModelChange"],["label","Departamento:","maxlength","50","required","",3,"ngModel","counter","ngModelChange"],["expand","block","color","secondary",2,"max-width","200px","margin","0 auto",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Actualizar Empleado"),e.qZA()()(),e.TgZ(6,"ion-content",4)(7,"h1"),e._uU(8,"Actualizaci\xf3n Datos Empleado"),e.qZA(),e.TgZ(9,"div",5)(10,"ion-list")(11,"ion-list")(12,"ion-item")(13,"ion-input",6),e.NdJ("ngModelChange",function(r){return n.nombre=r}),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-input",7),e.NdJ("ngModelChange",function(r){return n.apellido_p=r}),e.qZA()(),e.TgZ(16,"ion-item")(17,"ion-input",8),e.NdJ("ngModelChange",function(r){return n.apellido_m=r}),e.qZA()(),e.TgZ(18,"ion-item")(19,"ion-input",9),e.NdJ("ngModelChange",function(r){return n.telefono=r}),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-input",10),e.NdJ("ngModelChange",function(r){return n.sucursal=r}),e.qZA()(),e.TgZ(22,"ion-item")(23,"ion-input",11),e.NdJ("ngModelChange",function(r){return n.departamento=r}),e.qZA()()()(),e.TgZ(24,"ion-button",12),e.NdJ("click",function(){return n.guardarCambios()}),e._uU(25,"Actualizar"),e.qZA()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(13),e.Q6J("ngModel",n.nombre)("counter",!0),e.xp6(2),e.Q6J("ngModel",n.apellido_p)("counter",!0),e.xp6(2),e.Q6J("ngModel",n.apellido_m)("counter",!0),e.xp6(2),e.Q6J("ngModel",n.telefono)("counter",!0),e.xp6(2),e.Q6J("ngModel",n.sucursal)("counter",!0),e.xp6(2),e.Q6J("ngModel",n.departamento)("counter",!0))},dependencies:[s.JJ,s.Q7,s.nD,s.On,l.oU,l.YG,l.Sm,l.W2,l.Gu,l.pK,l.Ie,l.q_,l.wd,l.sr,l.j9,l.cs],styles:[".btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:10px;text-align:center}.toast-custom[_ngcontent-%COMP%]{background-color:#333;color:#fff;font-size:26px;border-radius:10px;padding:16px}"]}),u})()}];let f=(()=>{var a;class u{}return(a=u).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.Bz.forChild(M),p.Bz]}),u})(),A=(()=>{var a;class u{}return(a=u).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[g.ez,s.u5,l.Pc,f]}),u})()}}]);