"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8314],{8314:(y,m,s)=>{s.r(m),s.d(m,{ActualizarInsumoPageModule:()=>_});var f=s(6814),d=s(95),i=s(7027),g=s(2891),u=s(5861),I=s(4716),e=s(5879),C=s(7523),M=s(6240);const A=function(){return["/insumos"]},b=[{path:"",component:(()=>{var o;class l{constructor(n,t,a,r){this.toastController=n,this.route=t,this.db=a,this.storage=r}datosCambiados(){var n=this;return(0,u.Z)(function*(){if(n.imagenSeleccionada){const a=`insumoImages/${Math.random().toString(36).substring(2)}`,r=n.storage.ref(a);n.storage.upload(a,n.imagenSeleccionada).snapshotChanges().pipe((0,I.x)(()=>{r.getDownloadURL().subscribe(function(){var Z=(0,u.Z)(function*(p){n.imagenInsumo=p,n.db.object(`INSUMOS/${n.route.snapshot.params.id}`).update({nombre:n.nombre,clave:n.apellido_p,unidad:n.apellido_m,precio:n.telefono,existencia:n.existencia,imageUrl:n.imagenInsumo}).then((0,u.Z)(function*(){(yield n.toastController.create({message:"Insumo Actualizado Exitosamente!",duration:2e3,cssClass:"toast-custom"})).present()})).catch(function(){var h=(0,u.Z)(function*(v){(yield n.toastController.create({message:"Error al actualizar el insumo",duration:2e3,cssClass:"toast-custom-danger"})).present()});return function(v){return h.apply(this,arguments)}}())});return function(p){return Z.apply(this,arguments)}}())})).subscribe()}else n.db.object(`INSUMOS/${n.route.snapshot.params.id}`).update({nombre:n.nombre,clave:n.apellido_p,unidad:n.apellido_m,precio:n.telefono,existencia:n.existencia}).then((0,u.Z)(function*(){(yield n.toastController.create({message:"Insumo Actualizado Exitosamente!",duration:2e3,cssClass:"toast-custom"})).present()})).catch(function(){var t=(0,u.Z)(function*(a){(yield n.toastController.create({message:"Error al actualizar el insumo",duration:2e3,cssClass:"toast-custom-danger"})).present()});return function(a){return t.apply(this,arguments)}}())})()}ngOnInit(){this.route.params.subscribe(n=>{this.db.object(`INSUMOS/${n.id}`).valueChanges().subscribe(a=>{this.nombre=a.nombre,this.apellido_p=a.clave,this.apellido_m=a.unidad,this.telefono=a.precio,this.existencia=a.existencia,this.imagenInsumo=a.imageUrl})})}cargarImagen(n){const t=n.target.files[0];t&&(this.imagenSeleccionada=t)}}return(o=l).\u0275fac=function(n){return new(n||o)(e.Y36(i.yF),e.Y36(g.gz),e.Y36(C.KQ),e.Y36(M.Q1))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-actualizar-insumo"]],decls:28,vars:14,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/insumos","color","secondary"],["fullscreen",""],[1,"datosCambio"],[2,"height","95px","width","95px","margin","0 auto",3,"src"],["type","file",3,"change"],["label","Nombre:","maxlength","50","required","",3,"ngModel","counter","ngModelChange"],["label","Clave:","maxlength","45","required","",3,"ngModel","counter","ngModelChange"],["label","Unidad:","maxlength","5","required","",3,"ngModel","counter","ngModelChange"],["label","Precio:","onkeypress","return (event.charCode >= 48 && event.charCode <= 57)","maxlength","5","required","",3,"ngModel","counter","ngModelChange"],["label","Existencia:","onkeypress","return (event.charCode >= 48 && event.charCode <= 57)","maxlength","5","required","",3,"ngModel","counter","ngModelChange"],[1,"btn"],["expand","block","color","secondary",2,"max-width","200px","margin","0 auto",3,"routerLink","click"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Actualizar Insumo"),e.qZA()()(),e.TgZ(6,"ion-content",4)(7,"h1"),e._uU(8,"Actualizaci\xf3n De Insumo"),e.qZA(),e.TgZ(9,"div",5)(10,"ion-list")(11,"ion-list")(12,"ion-item"),e._UZ(13,"ion-img",6),e.TgZ(14,"ion-input",7),e.NdJ("change",function(r){return t.cargarImagen(r)}),e.qZA()(),e.TgZ(15,"ion-item")(16,"ion-input",8),e.NdJ("ngModelChange",function(r){return t.nombre=r}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-input",9),e.NdJ("ngModelChange",function(r){return t.apellido_p=r}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-input",10),e.NdJ("ngModelChange",function(r){return t.apellido_m=r}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-input",11),e.NdJ("ngModelChange",function(r){return t.telefono=r}),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-input",12),e.NdJ("ngModelChange",function(r){return t.existencia=r}),e.qZA()()()(),e.TgZ(25,"div",13)(26,"ion-button",14),e.NdJ("click",function(){return t.datosCambiados()}),e._uU(27,"Actualizar"),e.qZA()()()()),2&n&&(e.Q6J("translucent",!0),e.xp6(13),e.Q6J("src",t.imagenInsumo),e.xp6(3),e.Q6J("ngModel",t.nombre)("counter",!0),e.xp6(2),e.Q6J("ngModel",t.apellido_p)("counter",!0),e.xp6(2),e.Q6J("ngModel",t.apellido_m)("counter",!0),e.xp6(2),e.Q6J("ngModel",t.telefono)("counter",!0),e.xp6(2),e.Q6J("ngModel",t.existencia)("counter",!0),e.xp6(2),e.Q6J("routerLink",e.DdM(13,A)))},dependencies:[d.JJ,d.Q7,d.nD,d.On,i.oU,i.YG,i.Sm,i.W2,i.Gu,i.Xz,i.pK,i.Ie,i.q_,i.wd,i.sr,i.j9,i.cs,i.YI,g.rH]}),l})()}];let z=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(b),g.Bz]}),l})(),_=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[f.ez,d.u5,i.Pc,z]}),l})()}}]);