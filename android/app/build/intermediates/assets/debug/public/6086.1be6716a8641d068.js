"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6086],{6086:(f,c,s)=>{s.r(c),s.d(c,{CambiarDatosPageModule:()=>M});var m=s(6814),d=s(95),r=s(7027),g=s(2891),p=s(5861),e=s(5879),C=s(7523),h=s(6796);const _=[{path:"",component:(()=>{var n;class l{constructor(t,o,i,a){this.toastController=t,this.router=o,this.db=i,this.auth=a}datosCambiados(){var t=this;return(0,p.Z)(function*(){try{const o=yield t.auth.currentUser,i=null==o?void 0:o.uid;i?(yield t.db.object(`EMPLEADOS/${i}`).update({nombre:t.nombre,apellido_p:t.apellido_p,apellido_m:t.apellido_m,telefono:t.telefono}),(yield t.toastController.create({message:"Datos Actualizados Correctamente!",duration:2e3,cssClass:"toast-custom"})).present(),t.router.navigateByUrl("/perfil")):(yield t.toastController.create({message:"No hay usuario autenticado",duration:2e3,cssClass:"toast-error"})).present()}catch(o){(yield t.toastController.create({message:`Error al actualizar: ${o}`,duration:2e3,cssClass:"toast-error"})).present()}})()}ngOnInit(){const t=this.router.getCurrentNavigation();t&&t.extras&&t.extras.state&&this.setFormValues(t.extras.state.perfil)}setFormValues(t){t&&(this.nombre=t.nombre,this.apellido_p=t.apellido_p,this.apellido_m=t.apellido_m,this.telefono=t.telefono,this.correo=t.correo,this.sucursal=t.sucursal,this.departamento=t.departamento)}numericOnly(t){const o=t.which?t.which:t.keyCode;return o>=48&&o<=57}}return(n=l).\u0275fac=function(t){return new(t||n)(e.Y36(r.yF),e.Y36(g.F0),e.Y36(C.KQ),e.Y36(h.zQ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cambiar-datos"]],decls:42,vars:15,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/perfil","color","secondary"],["fullscreen",""],[1,"datosCambio"],["position","stacked"],["maxlength","45","required","",3,"ngModel","counter","ngModelChange"],["maxlength","10","required","",3,"ngModel","counter","ngModelChange","keypress"],["maxlength","50","required","","readonly","",3,"ngModel","counter","ngModelChange"],[1,"btn"],["expand","block","color","secondary",2,"max-width","200px","margin","0 auto",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Actualizar Mis Datos"),e.qZA()()(),e.TgZ(6,"ion-content",4)(7,"h1"),e._uU(8,"Actualizaci\xf3n Datos:"),e.qZA(),e.TgZ(9,"div",5)(10,"ion-list")(11,"ion-item")(12,"ion-label",6),e._uU(13,"Nombre:"),e.qZA(),e.TgZ(14,"ion-input",7),e.NdJ("ngModelChange",function(a){return o.nombre=a}),e.qZA()(),e.TgZ(15,"ion-item")(16,"ion-label",6),e._uU(17,"Apellido Paterno:"),e.qZA(),e.TgZ(18,"ion-input",7),e.NdJ("ngModelChange",function(a){return o.apellido_p=a}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-label",6),e._uU(21,"Apellido Materno:"),e.qZA(),e.TgZ(22,"ion-input",7),e.NdJ("ngModelChange",function(a){return o.apellido_m=a}),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-label",6),e._uU(25,"Tel\xe9fono:"),e.qZA(),e.TgZ(26,"ion-input",8),e.NdJ("ngModelChange",function(a){return o.telefono=a})("keypress",function(a){return o.numericOnly(a)}),e.qZA()(),e.TgZ(27,"ion-item")(28,"ion-label",6),e._uU(29,"Correo:"),e.qZA(),e.TgZ(30,"ion-input",9),e.NdJ("ngModelChange",function(a){return o.correo=a}),e.qZA()(),e.TgZ(31,"ion-item")(32,"ion-label",6),e._uU(33,"Sucursal:"),e.qZA(),e.TgZ(34,"ion-input",9),e.NdJ("ngModelChange",function(a){return o.sucursal=a}),e.qZA()(),e.TgZ(35,"ion-item")(36,"ion-label",6),e._uU(37,"Departamento:"),e.qZA(),e.TgZ(38,"ion-input",9),e.NdJ("ngModelChange",function(a){return o.departamento=a}),e.qZA()()(),e.TgZ(39,"div",10)(40,"ion-button",11),e.NdJ("click",function(){return o.datosCambiados()}),e._uU(41,"Actualizar"),e.qZA()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(14),e.Q6J("ngModel",o.nombre)("counter",!0),e.xp6(4),e.Q6J("ngModel",o.apellido_p)("counter",!0),e.xp6(4),e.Q6J("ngModel",o.apellido_m)("counter",!0),e.xp6(4),e.Q6J("ngModel",o.telefono)("counter",!0),e.xp6(4),e.Q6J("ngModel",o.correo)("counter",!0),e.xp6(4),e.Q6J("ngModel",o.sucursal)("counter",!0),e.xp6(4),e.Q6J("ngModel",o.departamento)("counter",!0))},dependencies:[d.JJ,d.Q7,d.nD,d.On,r.oU,r.YG,r.Sm,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.q_,r.wd,r.sr,r.j9,r.cs],styles:["h1[_ngcontent-%COMP%]{text-align:center;align-items:center;margin-top:15px;margin-bottom:15px}.datosCambio[_ngcontent-%COMP%]{text-align:center;align-items:center}h3[_ngcontent-%COMP%]{text-align:center;align-items:center;margin-top:15px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:10px;text-align:center}.toast-custom[_ngcontent-%COMP%]{background-color:#333;color:#fff;font-size:26px;border-radius:10px;padding:16px}"]}),l})()}];let b=(()=>{var n;class l{}return(n=l).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(_),g.Bz]}),l})(),M=(()=>{var n;class l{}return(n=l).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,d.u5,r.Pc,b]}),l})()}}]);