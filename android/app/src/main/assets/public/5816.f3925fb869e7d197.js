"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5816],{5816:(Yt,j,y)=>{y.r(j),y.d(j,{AgregarVentaPageModule:()=>kt});var I=y(6814),g=y(95),v=y(7027),V=y(2891),Q=y(5861),B=y(1002);function p(r,a){if(a.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+a.length+" present")}function _(r){p(1,arguments);var a=Object.prototype.toString.call(r);return r instanceof Date||"object"===(0,B.Z)(r)&&"[object Date]"===a?new Date(r.getTime()):"number"==typeof r||"[object Number]"===a?new Date(r):(("string"==typeof r||"[object String]"===a)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function P(r){if(null===r||!0===r||!1===r)return NaN;var a=Number(r);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}function Y(r){p(1,arguments);var e=_(r),t=e.getUTCDay(),n=(t<1?7:0)+t-1;return e.setUTCDate(e.getUTCDate()-n),e.setUTCHours(0,0,0,0),e}function K(r){p(1,arguments);var a=_(r),e=a.getUTCFullYear(),t=new Date(0);t.setUTCFullYear(e+1,0,4),t.setUTCHours(0,0,0,0);var n=Y(t),i=new Date(0);i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0);var u=Y(i);return a.getTime()>=n.getTime()?e+1:a.getTime()>=u.getTime()?e:e-1}var z={};function N(){return z}function Z(r,a){var e,t,n,i,u,s,d,l;p(1,arguments);var m=N(),f=P(null!==(e=null!==(t=null!==(n=null!==(i=null==a?void 0:a.weekStartsOn)&&void 0!==i?i:null==a||null===(u=a.locale)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==n?n:m.weekStartsOn)&&void 0!==t?t:null===(d=m.locale)||void 0===d||null===(l=d.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==e?e:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=_(r),h=b.getUTCDay(),T=(h<f?7:0)+h-f;return b.setUTCDate(b.getUTCDate()-T),b.setUTCHours(0,0,0,0),b}function $(r,a){var e,t,n,i,u,s,d,l;p(1,arguments);var m=_(r),f=m.getUTCFullYear(),b=N(),h=P(null!==(e=null!==(t=null!==(n=null!==(i=null==a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:null==a||null===(u=a.locale)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:b.firstWeekContainsDate)&&void 0!==t?t:null===(d=b.locale)||void 0===d||null===(l=d.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==e?e:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(f+1,0,h),T.setUTCHours(0,0,0,0);var S=Z(T,a),D=new Date(0);D.setUTCFullYear(f,0,h),D.setUTCHours(0,0,0,0);var A=Z(D,a);return m.getTime()>=S.getTime()?f+1:m.getTime()>=A.getTime()?f:f-1}function c(r,a){for(var e=r<0?"-":"",t=Math.abs(r).toString();t.length<a;)t="0"+t;return e+t}const C_y=function(a,e){var t=a.getUTCFullYear(),n=t>0?t:1-t;return c("yy"===e?n%100:n,e.length)},C_M=function(a,e){var t=a.getUTCMonth();return"M"===e?String(t+1):c(t+1,2)},C_d=function(a,e){return c(a.getUTCDate(),e.length)},C_h=function(a,e){return c(a.getUTCHours()%12||12,e.length)},C_H=function(a,e){return c(a.getUTCHours(),e.length)},C_m=function(a,e){return c(a.getUTCMinutes(),e.length)},C_s=function(a,e){return c(a.getUTCSeconds(),e.length)},C_S=function(a,e){var t=e.length,n=a.getUTCMilliseconds();return c(Math.floor(n*Math.pow(10,t-3)),e.length)};function ee(r,a){var e=r>0?"-":"+",t=Math.abs(r),n=Math.floor(t/60),i=t%60;if(0===i)return e+String(n);var u=a||"";return e+String(n)+u+c(i,2)}function te(r,a){return r%60==0?(r>0?"-":"+")+c(Math.abs(r)/60,2):O(r,a)}function O(r,a){var e=a||"",t=r>0?"-":"+",n=Math.abs(r);return t+c(Math.floor(n/60),2)+e+c(n%60,2)}const we={G:function(a,e,t){var n=a.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(a,e,t){if("yo"===e){var n=a.getUTCFullYear();return t.ordinalNumber(n>0?n:1-n,{unit:"year"})}return C_y(a,e)},Y:function(a,e,t,n){var i=$(a,n),u=i>0?i:1-i;return"YY"===e?c(u%100,2):"Yo"===e?t.ordinalNumber(u,{unit:"year"}):c(u,e.length)},R:function(a,e){return c(K(a),e.length)},u:function(a,e){return c(a.getUTCFullYear(),e.length)},Q:function(a,e,t){var n=Math.ceil((a.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return c(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(a,e,t){var n=Math.ceil((a.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return c(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(a,e,t){var n=a.getUTCMonth();switch(e){case"M":case"MM":return C_M(a,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(a,e,t){var n=a.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return c(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(a,e,t,n){var i=function he(r,a){p(1,arguments);var e=_(r),t=Z(e,a).getTime()-function ge(r,a){var e,t,n,i,u,s,d,l;p(1,arguments);var m=N(),f=P(null!==(e=null!==(t=null!==(n=null!==(i=null==a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:null==a||null===(u=a.locale)||void 0===u||null===(s=u.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:m.firstWeekContainsDate)&&void 0!==t?t:null===(d=m.locale)||void 0===d||null===(l=d.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==e?e:1),b=$(r,a),h=new Date(0);return h.setUTCFullYear(b,0,f),h.setUTCHours(0,0,0,0),Z(h,a)}(e,a).getTime();return Math.round(t/6048e5)+1}(a,n);return"wo"===e?t.ordinalNumber(i,{unit:"week"}):c(i,e.length)},I:function(a,e,t){var n=function fe(r){p(1,arguments);var a=_(r),e=Y(a).getTime()-function ce(r){p(1,arguments);var a=K(r),e=new Date(0);return e.setUTCFullYear(a,0,4),e.setUTCHours(0,0,0,0),Y(e)}(a).getTime();return Math.round(e/6048e5)+1}(a);return"Io"===e?t.ordinalNumber(n,{unit:"week"}):c(n,e.length)},d:function(a,e,t){return"do"===e?t.ordinalNumber(a.getUTCDate(),{unit:"date"}):C_d(a,e)},D:function(a,e,t){var n=function de(r){p(1,arguments);var a=_(r),e=a.getTime();a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0);var t=a.getTime();return Math.floor((e-t)/864e5)+1}(a);return"Do"===e?t.ordinalNumber(n,{unit:"dayOfYear"}):c(n,e.length)},E:function(a,e,t){var n=a.getUTCDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(a,e,t,n){var i=a.getUTCDay(),u=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return c(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(a,e,t,n){var i=a.getUTCDay(),u=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return c(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(a,e,t){var n=a.getUTCDay(),i=0===n?7:n;switch(e){case"i":return String(i);case"ii":return c(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(a,e,t){var i=a.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(a,e,t){var i,n=a.getUTCHours();switch(i=12===n?"noon":0===n?"midnight":n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(a,e,t){var i,n=a.getUTCHours();switch(i=n>=17?"evening":n>=12?"afternoon":n>=4?"morning":"night",e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(a,e,t){if("ho"===e){var n=a.getUTCHours()%12;return 0===n&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return C_h(a,e)},H:function(a,e,t){return"Ho"===e?t.ordinalNumber(a.getUTCHours(),{unit:"hour"}):C_H(a,e)},K:function(a,e,t){var n=a.getUTCHours()%12;return"Ko"===e?t.ordinalNumber(n,{unit:"hour"}):c(n,e.length)},k:function(a,e,t){var n=a.getUTCHours();return 0===n&&(n=24),"ko"===e?t.ordinalNumber(n,{unit:"hour"}):c(n,e.length)},m:function(a,e,t){return"mo"===e?t.ordinalNumber(a.getUTCMinutes(),{unit:"minute"}):C_m(a,e)},s:function(a,e,t){return"so"===e?t.ordinalNumber(a.getUTCSeconds(),{unit:"second"}):C_s(a,e)},S:function(a,e){return C_S(a,e)},X:function(a,e,t,n){var u=(n._originalDate||a).getTimezoneOffset();if(0===u)return"Z";switch(e){case"X":return te(u);case"XXXX":case"XX":return O(u);default:return O(u,":")}},x:function(a,e,t,n){var u=(n._originalDate||a).getTimezoneOffset();switch(e){case"x":return te(u);case"xxxx":case"xx":return O(u);default:return O(u,":")}},O:function(a,e,t,n){var u=(n._originalDate||a).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ee(u,":");default:return"GMT"+O(u,":")}},z:function(a,e,t,n){var u=(n._originalDate||a).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ee(u,":");default:return"GMT"+O(u,":")}},t:function(a,e,t,n){return c(Math.floor((n._originalDate||a).getTime()/1e3),e.length)},T:function(a,e,t,n){return c((n._originalDate||a).getTime(),e.length)}};var ae=function(a,e){switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},re=function(a,e){switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}};const _e={p:re,P:function(a,e){var u,t=a.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return ae(a,e);switch(n){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"})}return u.replace("{{date}}",ae(n,e)).replace("{{time}}",re(i,e))}};var xe=["D","DD"],Pe=["YY","YYYY"];function ne(r,a,e){if("YYYY"===r)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(a,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===r)throw new RangeError("Use `yy` instead of `YY` (in `".concat(a,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===r)throw new RangeError("Use `d` instead of `D` (in `".concat(a,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===r)throw new RangeError("Use `dd` instead of `DD` (in `".concat(a,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Me={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function J(r){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=a.width?String(a.width):r.defaultWidth;return r.formats[e]||r.formats[r.defaultWidth]}}var Ee={date:J({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:J({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:J({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function k(r){return function(a,e){var n;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,u=null!=e&&e.width?String(e.width):i;n=r.formattingValues[u]||r.formattingValues[i]}else{var s=r.defaultWidth,d=null!=e&&e.width?String(e.width):r.defaultWidth;n=r.values[d]||r.values[s]}return n[r.argumentCallback?r.argumentCallback(a):a]}}function U(r){return function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.width,i=a.match(t&&r.matchPatterns[t]||r.matchPatterns[r.defaultMatchWidth]);if(!i)return null;var l,u=i[0],s=t&&r.parsePatterns[t]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(s)?function je(r,a){for(var e=0;e<r.length;e++)if(a(r[e]))return e}(s,function(f){return f.test(u)}):function Xe(r,a){for(var e in r)if(r.hasOwnProperty(e)&&a(r[e]))return e}(s,function(f){return f.test(u)});return l=r.valueCallback?r.valueCallback(d):d,{value:l=e.valueCallback?e.valueCallback(l):l,rest:a.slice(u.length)}}}const ct={code:"en-US",formatDistance:function(a,e,t){var n,i=Me[a];return n="string"==typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!=t&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n},formatLong:Ee,formatRelative:function(a,e,t,n){return Ne[a]},localize:{ordinalNumber:function(a,e){var t=Number(a),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:k({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:k({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(a){return a-1}}),month:k({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:k({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:k({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function Be(r){return function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.match(r.matchPattern);if(!t)return null;var n=t[0],i=a.match(r.parsePattern);if(!i)return null;var u=r.valueCallback?r.valueCallback(i[0]):i[0];return{value:u=e.valueCallback?e.valueCallback(u):u,rest:a.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(a){return parseInt(a,10)}}),era:U({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:U({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:U({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:U({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:U({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var mt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ft=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gt=/^'([^]*?)'?$/,vt=/''/g,ht=/[a-zA-Z]/;function pt(r,a,e){var t,n,i,u,s,d,l,m,f,b,h,T,S,D,A,L,R,H;p(2,arguments);var Ut=String(a),W=N(),E=null!==(t=null!==(n=null==e?void 0:e.locale)&&void 0!==n?n:W.locale)&&void 0!==t?t:ct,G=P(null!==(i=null!==(u=null!==(s=null!==(d=null==e?void 0:e.firstWeekContainsDate)&&void 0!==d?d:null==e||null===(l=e.locale)||void 0===l||null===(m=l.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==s?s:W.firstWeekContainsDate)&&void 0!==u?u:null===(f=W.locale)||void 0===f||null===(b=f.options)||void 0===b?void 0:b.firstWeekContainsDate)&&void 0!==i?i:1);if(!(G>=1&&G<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var X=P(null!==(h=null!==(T=null!==(S=null!==(D=null==e?void 0:e.weekStartsOn)&&void 0!==D?D:null==e||null===(A=e.locale)||void 0===A||null===(L=A.options)||void 0===L?void 0:L.weekStartsOn)&&void 0!==S?S:W.weekStartsOn)&&void 0!==T?T:null===(R=W.locale)||void 0===R||null===(H=R.options)||void 0===H?void 0:H.weekStartsOn)&&void 0!==h?h:0);if(!(X>=0&&X<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var F=_(r);if(!function ie(r){if(p(1,arguments),!function oe(r){return p(1,arguments),r instanceof Date||"object"===(0,B.Z)(r)&&"[object Date]"===Object.prototype.toString.call(r)}(r)&&"number"!=typeof r)return!1;var a=_(r);return!isNaN(Number(a))}(F))throw new RangeError("Invalid time value");var St=function Ce(r){var a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),r.getTime()-a.getTime()}(F),At=function se(r,a){return p(2,arguments),function ue(r,a){p(2,arguments);var e=_(r).getTime(),t=P(a);return new Date(e+t)}(r,-P(a))}(F,St),Wt={firstWeekContainsDate:G,weekStartsOn:X,locale:E,_originalDate:F},Et=Ut.match(ft).map(function(w){var x=w[0];return"p"===x||"P"===x?(0,_e[x])(w,E.formatLong):w}).join("").match(mt).map(function(w){if("''"===w)return"'";var x=w[0];if("'"===x)return function bt(r){var a=r.match(gt);return a?a[1].replace(vt,"'"):r}(w);var q=we[x];if(q)return!(null!=e&&e.useAdditionalWeekYearTokens)&&function De(r){return-1!==Pe.indexOf(r)}(w)&&ne(w,a,String(r)),!(null!=e&&e.useAdditionalDayOfYearTokens)&&function Oe(r){return-1!==xe.indexOf(r)}(w)&&ne(w,a,String(r)),q(At,w,E.localize,Wt);if(x.match(ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return w}).join("");return Et}var o=y(5879),wt=y(7523),yt=y(6796);function Tt(r,a){if(1&r&&(o.TgZ(0,"ion-select-option",24),o._uU(1),o.qZA()),2&r){const e=a.$implicit;o.Q6J("value",e),o.xp6(1),o.lnq(" ",e.nombre," ",e.apellido_p," ",e.apellido_m," ")}}function _t(r,a){if(1&r&&(o.TgZ(0,"ion-select-option",24),o._uU(1),o.qZA()),2&r){const e=a.$implicit;o.Q6J("value",e.nombre),o.xp6(1),o.hij(" ",e.nombre," ")}}function Ct(r,a){1&r&&(o.TgZ(0,"p",33),o._uU(1,"Ingrese un n\xfamero v\xe1lido con hasta 2 decimales"),o.qZA())}function xt(r,a){1&r&&(o.TgZ(0,"p",33),o._uU(1,"La cantidad excede la existencia"),o.qZA())}function Pt(r,a){if(1&r&&(o.TgZ(0,"div"),o.YNc(1,Ct,2,0,"p",32),o.YNc(2,xt,2,0,"p",32),o.qZA()),2&r){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e.get("cantidad").hasError("pattern")),o.xp6(1),o.Q6J("ngIf",e.get("cantidad").hasError("excedeExistencia"))}}function Ot(r,a){if(1&r){const e=o.EpF();o.TgZ(0,"div",25)(1,"ion-item")(2,"ion-select",26),o.NdJ("ionChange",function(n){const u=o.CHM(e).index,s=o.oxw();return o.KtG(s.cargarPrecio(n,u))}),o.TgZ(3,"ion-select-option",7),o._uU(4,"Seleccione un insumo"),o.qZA(),o.YNc(5,_t,2,2,"ion-select-option",8),o.qZA()(),o.TgZ(6,"ion-item")(7,"ion-label"),o._uU(8,"Cantidad"),o.qZA(),o.TgZ(9,"ion-input",27),o.NdJ("ionChange",function(){const i=o.CHM(e).index,u=o.oxw();return o.KtG(u.verificarCantidad(i))})("ionInput",function(){o.CHM(e);const n=o.oxw();return o.KtG(n.calcularTotal())}),o.qZA()(),o.YNc(10,Pt,3,2,"div",28),o.TgZ(11,"ion-item")(12,"ion-label"),o._uU(13,"Precio"),o.qZA(),o._UZ(14,"ion-input",29),o.qZA(),o.TgZ(15,"div",14)(16,"ion-button",30),o.NdJ("click",function(){const i=o.CHM(e).index,u=o.oxw();return o.KtG(u.eliminarProducto(i))}),o._UZ(17,"ion-icon",31),o._uU(18," Eliminar Insumo "),o.qZA()()()}if(2&r){const e=a.$implicit,t=a.index,n=o.oxw();o.Q6J("formGroupName",t),o.xp6(5),o.Q6J("ngForOf",n.insumos),o.xp6(5),o.Q6J("ngIf",e.get("cantidad").hasError("pattern")||e.get("cantidad").hasError("excedeExistencia")),o.xp6(4),o.Q6J("readonly",!0)}}const Dt=[{path:"",component:(()=>{var r;class a{constructor(t,n,i,u,s,d){this.toastController=t,this.fb=n,this.db=i,this.afAuth=u,this.router=s,this.loadingController=d,this.productores=[],this.insumos=[],this.ventaForm=this.fb.group({nombre_cliente:["",[g.kI.required,g.kI.maxLength(50)]],telefono_cliente:["",[g.kI.required,g.kI.minLength(10),g.kI.maxLength(10),g.kI.pattern("^[0-9]*$")]],empleado:["",[g.kI.maxLength(50)]],productos:this.fb.array([this.crearProducto()]),total:["",[g.kI.required,g.kI.maxLength(10),g.kI.pattern("^[0-9]+(.[0-9]{1,2})?$")]],mostrarCampos:[!1],totalDiferir:[{value:"",disabled:!0},[g.kI.maxLength(10)]],meses:[{value:"",disabled:!0},[g.kI.maxLength(10)]],observaciones:["",[g.kI.maxLength(200)]]}),this.fechaFormateada=pt(new Date,"dd/MM/yyyy")}get productos(){return this.ventaForm.get("productos")}crearProducto(){return this.fb.group({nombre:[""],cantidad:["",[g.kI.required,g.kI.pattern("^[0-9]+(.[0-9]{1,2})?$")]],precio:[""]})}agregarProducto(){this.productos.push(this.crearProducto())}toggleCampos(){var t;if(null!==(t=this.ventaForm.get("mostrarCampos"))&&void 0!==t&&t.value){var n,i,u;const m=null===(n=this.ventaForm.get("total"))||void 0===n?void 0:n.value;null===(i=this.ventaForm.get("totalDiferir"))||void 0===i||i.setValue(m),null===(u=this.ventaForm.get("meses"))||void 0===u||u.setValue((m/3).toFixed(2))}else{var s,d,l;null===(s=this.ventaForm.get("totalDiferir"))||void 0===s||s.reset(),null===(d=this.ventaForm.get("meses"))||void 0===d||d.reset(),null===(l=this.ventaForm.get("observaciones"))||void 0===l||l.reset()}}datosCambiados(){var t=this;return(0,Q.Z)(function*(){if(t.ventaForm.valid){console.log(t.ventaForm.value);const n=yield t.loadingController.create({message:"Registrando...",backdropDismiss:!1});yield n.present();const i=t.ventaForm.getRawValue();try{yield t.db.list("/VENTAS").push({nombre_cliente:i.nombre_cliente,telefono_cliente:i.telefono_cliente,empleado:i.empleado,productos:i.productos,total:i.total,fecha:t.fechaFormateada});const s=[];if(i.mostrarCampos){yield t.db.list("/ADEUDOS").push({nombre_cliente:i.nombre_cliente,telefono_cliente:i.telefono_cliente,totalDiferir:i.totalDiferir,meses:i.meses,observaciones:i.observaciones,fecha:t.fechaFormateada,numero_pago:0});for(let l of i.productos)s.push(t.updateExistenciaProducto(l))}yield Promise.all(s),yield t.router.navigate(["/ventas"]),yield t.presentToast("Venta registrada exitosamente!","success")}catch(u){console.error("Error al registrar venta: ",u),yield t.presentToast("Error al registrar la venta. Intente nuevamente.","danger")}finally{yield n.dismiss()}}else t.presentToast("Formulario inv\xe1lido","danger"),console.log("Formulario inv\xe1lido")})()}updateExistenciaProducto(t){var n=this;return new Promise((i,u)=>{const d=this.db.list("/INSUMOS",l=>l.orderByChild("nombre").equalTo(t.nombre)).snapshotChanges().subscribe(function(){var l=(0,Q.Z)(function*(m){try{if(m.length>0&&null!==m[0].key){const f=m[0].key,h=m[0].payload.val().existencia;yield n.db.list("/INSUMOS").update(f,{existencia:h-t.cantidad}),i()}}catch(f){u(f)}finally{d.unsubscribe()}});return function(m){return l.apply(this,arguments)}}())})}presentToast(t,n){var i=this;return(0,Q.Z)(function*(){(yield i.toastController.create({message:t,duration:2e3,color:n})).present()})()}ngOnInit(){this.obtenerProductores(),this.cargarUsuarioActual(),this.cargarInsumos()}obtenerProductores(){this.db.list("/PRODUCTORES").valueChanges().subscribe(t=>{this.productores=t},t=>{console.log(t)})}productorSeleccionado(t){const n=t.detail.value;var i;n&&(null===(i=this.ventaForm.get("telefono_cliente"))||void 0===i||i.setValue(n.telefono))}cargarUsuarioActual(){this.afAuth.authState.subscribe(t=>{var n;t&&(null===(n=this.ventaForm.get("empleado"))||void 0===n||n.setValue(`${t.email}`))})}cargarInsumos(){this.db.list("/INSUMOS").valueChanges().subscribe(t=>{this.insumos=t},t=>{console.log(t)})}cargarPrecio(t,n){const i=t.detail.value,u=this.insumos.find(d=>d.nombre===i);var s;u&&(null===(s=this.productos.at(n).get("precio"))||void 0===s||s.setValue(u.precio))}calcularTotal(){var t;let n=0;this.productos.controls.forEach(i=>{var u,s;const d=(null===(u=i.get("cantidad"))||void 0===u?void 0:u.value)||0,l=(null===(s=i.get("precio"))||void 0===s?void 0:s.value)||0;n+=d*l}),null===(t=this.ventaForm.get("total"))||void 0===t||t.setValue(n.toFixed(2))}eliminarProducto(t){this.productos.removeAt(t),this.calcularTotal()}verificarCantidad(t){var n,i;const u=null===(n=this.productos.at(t).get("nombre"))||void 0===n?void 0:n.value,s=null===(i=this.productos.at(t).get("cantidad"))||void 0===i?void 0:i.value,d=this.insumos.find(f=>f.nombre===u);var l,m;d&&s>d.existencia?null===(l=this.productos.at(t).get("cantidad"))||void 0===l||l.setErrors({excedeExistencia:!0}):null===(m=this.productos.at(t).get("cantidad"))||void 0===m||m.setErrors(null),this.calcularTotal()}}return(r=a).\u0275fac=function(t){return new(t||r)(o.Y36(v.yF),o.Y36(g.qu),o.Y36(wt.KQ),o.Y36(yt.zQ),o.Y36(V.F0),o.Y36(v.HT))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-agregar-venta"]],decls:44,vars:18,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/ventas","color","secondary"],["fullscreen","true"],[3,"formGroup"],["formControlName","nombre_cliente",3,"ionChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","telefono_cliente","label","Telefono Productor:",3,"counter","readonly"],["formControlName","empleado","label","Empleado:",3,"readonly"],["disabled","true","label","Fecha Venta:","required","",3,"value","counter"],["formArrayName","productos"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"btn"],["color","success","fill","outline",2,"max-width","200px","margin","0 auto","text-align","center","font","1em sans-serif","margin-top","15px",3,"click"],["name","add"],["formControlName","total","label","Total:",3,"counter","readonly"],["formControlName","mostrarCampos",3,"ionChange"],[3,"hidden"],["formControlName","totalDiferir","label","Total A Diferir:",3,"readonly","counter"],["formControlName","meses","label","Pago Por Mes:",3,"readonly","counter"],["formControlName","observaciones","label","Observaciones:",3,"counter"],["expand","block","color","secondary",2,"max-width","200px","margin","0 auto",3,"disabled","click"],[3,"value"],[3,"formGroupName"],["formControlName","nombre",3,"ionChange"],["formControlName","cantidad",3,"ionChange","ionInput"],[4,"ngIf"],["formControlName","precio",3,"readonly"],["color","danger","fill","outline",2,"max-width","200px","margin","0 auto","text-align","center","font","1em sans-serif","margin-top","15px",3,"click"],["name","trash-outline"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(t,n){if(1&t&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o._UZ(3,"ion-back-button",3),o.qZA(),o.TgZ(4,"ion-title"),o._uU(5,"Registrar Venta"),o.qZA()()(),o.TgZ(6,"ion-content",4)(7,"h1"),o._uU(8,"Datos De La Venta"),o.qZA(),o.TgZ(9,"form",5)(10,"ion-item")(11,"ion-select",6),o.NdJ("ionChange",function(u){return n.productorSeleccionado(u)}),o.TgZ(12,"ion-select-option",7),o._uU(13,"Seleccione un productor"),o.qZA(),o.YNc(14,Tt,2,4,"ion-select-option",8),o.qZA()(),o.TgZ(15,"ion-item"),o._UZ(16,"ion-input",9),o.qZA(),o.TgZ(17,"ion-item"),o._UZ(18,"ion-input",10),o.qZA(),o.TgZ(19,"ion-item"),o._UZ(20,"ion-input",11),o.qZA(),o.TgZ(21,"div",12),o.YNc(22,Ot,19,4,"div",13),o.qZA(),o.TgZ(23,"div",14)(24,"ion-button",15),o.NdJ("click",function(){return n.agregarProducto()}),o._UZ(25,"ion-icon",16),o._uU(26," Agregar Insumo "),o.qZA()(),o.TgZ(27,"ion-item"),o._UZ(28,"ion-input",17),o.qZA(),o.TgZ(29,"ion-item")(30,"ion-label"),o._uU(31,"Venta A Credito"),o.qZA(),o.TgZ(32,"ion-checkbox",18),o.NdJ("ionChange",function(){return n.toggleCampos()}),o.qZA()(),o.TgZ(33,"ion-list")(34,"div",19)(35,"ion-item"),o._UZ(36,"ion-input",20),o.qZA(),o.TgZ(37,"ion-item"),o._UZ(38,"ion-input",21),o.qZA(),o.TgZ(39,"ion-item"),o._UZ(40,"ion-input",22),o.qZA()()(),o.TgZ(41,"div",14)(42,"ion-button",23),o.NdJ("click",function(){return n.datosCambiados()}),o._uU(43,"Registrar"),o.qZA()()()()),2&t){let i;o.Q6J("translucent",!0),o.xp6(9),o.Q6J("formGroup",n.ventaForm),o.xp6(5),o.Q6J("ngForOf",n.productores),o.xp6(2),o.Q6J("counter",!0)("readonly",!0),o.xp6(2),o.Q6J("readonly",!0),o.xp6(2),o.s9C("value",n.fechaFormateada),o.Q6J("counter",!0),o.xp6(2),o.Q6J("ngForOf",n.productos.controls),o.xp6(6),o.Q6J("counter",!0)("readonly",!0),o.xp6(6),o.Q6J("hidden",!(null!=(i=n.ventaForm.get("mostrarCampos"))&&i.value)),o.xp6(2),o.Q6J("readonly",!0)("counter",!0),o.xp6(2),o.Q6J("readonly",!0)("counter",!0),o.xp6(2),o.Q6J("counter",!0),o.xp6(2),o.Q6J("disabled",n.ventaForm.invalid)}},dependencies:[I.sg,I.O5,g._Y,g.JJ,g.JL,v.oU,v.YG,v.Sm,v.nz,v.W2,v.Gu,v.gu,v.pK,v.Ie,v.Q$,v.q_,v.t9,v.n0,v.wd,v.sr,v.w,v.QI,v.j9,v.cs,g.sg,g.u,g.x0,g.CE]}),a})()}];let Mt=(()=>{var r;class a{}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[V.Bz.forChild(Dt),V.Bz]}),a})(),kt=(()=>{var r;class a{}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[I.ez,g.u5,v.Pc,Mt,g.UX]}),a})()}}]);