(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8697:(en,nt,O)=>{"use strict";O.d(nt,{nm:()=>Ui});var g=O(8186);O(5879),O(3182);var ve=O(5861),ge=O(534),me=O(4537),Se=O(9058),ye=O(7879);const Me=new Map,Le={activated:!1,tokenObservers:[]},ze={initialized:!1,enabled:!1};function ct(Qe){return Me.get(Qe)||Object.assign({},Le)}function It(){return ze}const jt="https://content-firebaseappcheck.googleapis.com/v1",gt="exchangeDebugToken",ue={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Fe{constructor(Ye,st,Mt,Ht,Jt){if(this.operation=Ye,this.retryPolicy=st,this.getWaitDuration=Mt,this.lowerBound=Ht,this.upperBound=Jt,this.pending=null,this.nextErrorWaitInterval=Ht,Ht>Jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ye){var st=this;return(0,ve.Z)(function*(){st.stop();try{st.pending=new Se.BH,yield function Ze(Qe){return new Promise(Ye=>{setTimeout(Ye,Qe)})}(st.getNextRun(Ye)),st.pending.resolve(),yield st.pending.promise,st.pending=new Se.BH,yield st.operation(),st.pending.resolve(),yield st.pending.promise,st.process(!0).catch(()=>{})}catch(Mt){st.retryPolicy(Mt)?st.process(!1).catch(()=>{}):st.stop()}})()}getNextRun(Ye){if(Ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const st=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),st}}}const Xe=new Se.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yt(Qe){if(!ct(Qe).activated)throw Xe.create("use-before-activation",{appName:Qe.name})}function at(Qe,Ye){return St.apply(this,arguments)}function St(){return(St=(0,ve.Z)(function*({url:Qe,body:Ye},st){const Mt={"Content-Type":"application/json"},Ht=st.getImmediate({optional:!0});if(Ht){const ii=yield Ht.getHeartbeatsHeader();ii&&(Mt["X-Firebase-Client"]=ii)}const Jt={method:"POST",body:JSON.stringify(Ye),headers:Mt};let kn,$n;try{kn=yield fetch(Qe,Jt)}catch(ii){throw Xe.create("fetch-network-error",{originalErrorMessage:null==ii?void 0:ii.message})}if(200!==kn.status)throw Xe.create("fetch-status-error",{httpStatus:kn.status});try{$n=yield kn.json()}catch(ii){throw Xe.create("fetch-parse-error",{originalErrorMessage:null==ii?void 0:ii.message})}const cr=$n.ttl.match(/^([\d.]+)(s)$/);if(!cr||!cr[2]||isNaN(Number(cr[1])))throw Xe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$n.ttl}`});const ni=1e3*Number(cr[1]),so=Date.now();return{token:$n.token,expireTimeMillis:so+ni,issuedAtTimeMillis:so}})).apply(this,arguments)}function In(Qe,Ye){const{projectId:st,appId:Mt,apiKey:Ht}=Qe.options;return{url:`${jt}/projects/${st}/apps/${Mt}:${gt}?key=${Ht}`,body:{debug_token:Ye}}}const cn="firebase-app-check-database",xn=1,Sn="firebase-app-check-store";let On=null;function mr(){return(mr=(0,ve.Z)(function*(Qe,Ye){const Mt=(yield function Bn(){return On||(On=new Promise((Qe,Ye)=>{try{const st=indexedDB.open(cn,xn);st.onsuccess=Mt=>{Qe(Mt.target.result)},st.onerror=Mt=>{var Ht;Ye(Xe.create("storage-open",{originalErrorMessage:null===(Ht=Mt.target.error)||void 0===Ht?void 0:Ht.message}))},st.onupgradeneeded=Mt=>{0===Mt.oldVersion&&Mt.target.result.createObjectStore(Sn,{keyPath:"compositeKey"})}}catch(st){Ye(Xe.create("storage-open",{originalErrorMessage:null==st?void 0:st.message}))}}),On)}()).transaction(Sn,"readwrite"),Jt=Mt.objectStore(Sn).put({compositeKey:Qe,value:Ye});return new Promise((kn,$n)=>{Jt.onsuccess=cr=>{kn()},Mt.onerror=cr=>{var ni;$n(Xe.create("storage-set",{originalErrorMessage:null===(ni=cr.target.error)||void 0===ni?void 0:ni.message}))}})})).apply(this,arguments)}const Hn=new ye.Yd("@firebase/app-check");function li(Qe,Ye){return(0,Se.hl)()?function pr(Qe,Ye){return function Pn(Qe,Ye){return mr.apply(this,arguments)}(function Zt(Qe){return`${Qe.options.appId}-${Qe.name}`}(Qe),Ye)}(Qe,Ye).catch(st=>{Hn.warn(`Failed to write token to IndexedDB. Error: ${st}`)}):Promise.resolve()}function Pr(){return It().enabled}function ri(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,ve.Z)(function*(){const Qe=It();if(Qe.enabled&&Qe.token)return Qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ti={error:"UNKNOWN_ERROR"};function Kr(Qe){return Se.US.encodeString(JSON.stringify(Qe),!1)}function kr(Qe){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,ve.Z)(function*(Qe,Ye=!1){const st=Qe.app;Yt(st);const Mt=ct(st);let Jt,Ht=Mt.token;if(Ht&&!oe(Ht)&&(Mt.token=void 0,Ht=void 0),!Ht){const cr=yield Mt.cachedTokenPromise;cr&&(oe(cr)?Ht=cr:yield li(st,void 0))}if(!Ye&&Ht&&oe(Ht))return{token:Ht.token};let $n,kn=!1;if(Pr()){Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=at(In(st,yield ri()),Qe.heartbeatServiceProvider).finally(()=>{Mt.exchangeTokenPromise=void 0}),kn=!0);const cr=yield Mt.exchangeTokenPromise;return yield li(st,cr),Mt.token=cr,{token:cr.token}}try{Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=Mt.provider.getToken().finally(()=>{Mt.exchangeTokenPromise=void 0}),kn=!0),Ht=yield ct(st).exchangeTokenPromise}catch(cr){"appCheck/throttled"===cr.code?Hn.warn(cr.message):Hn.error(cr),Jt=cr}return Ht?Jt?$n=oe(Ht)?{token:Ht.token,internalError:Jt}:Ge(Jt):($n={token:Ht.token},Mt.token=Ht,yield li(st,Ht)):$n=Ge(Jt),kn&&function Pe(Qe,Ye){const st=ct(Qe).tokenObservers;for(const Mt of st)try{"EXTERNAL"===Mt.type&&null!=Ye.error?Mt.error(Ye.error):Mt.next(Ye)}catch{}}(st,$n),$n})).apply(this,arguments)}function vr(Qe){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,ve.Z)(function*(Qe){const Ye=Qe.app;Yt(Ye);const{provider:st}=ct(Ye);if(Pr()){const Mt=yield ri(),{token:Ht}=yield at(In(Ye,Mt),Qe.heartbeatServiceProvider);return{token:Ht}}{const{token:Mt}=yield st.getToken();return{token:Mt}}})).apply(this,arguments)}function Ve(Qe,Ye){const st=ct(Qe),Mt=st.tokenObservers.filter(Ht=>Ht.next!==Ye);0===Mt.length&&st.tokenRefresher&&st.tokenRefresher.isRunning()&&st.tokenRefresher.stop(),st.tokenObservers=Mt}function re(Qe){const{app:Ye}=Qe,st=ct(Ye);let Mt=st.tokenRefresher;Mt||(Mt=function J(Qe){const{app:Ye}=Qe;return new Fe((0,ve.Z)(function*(){let Mt;if(Mt=ct(Ye).token?yield kr(Qe,!0):yield kr(Qe),Mt.error)throw Mt.error;if(Mt.internalError)throw Mt.internalError}),()=>!0,()=>{const st=ct(Ye);if(st.token){let Mt=st.token.issuedAtTimeMillis+.5*(st.token.expireTimeMillis-st.token.issuedAtTimeMillis)+3e5;return Mt=Math.min(Mt,st.token.expireTimeMillis-3e5),Math.max(0,Mt-Date.now())}return 0},ue.RETRIAL_MIN_WAIT,ue.RETRIAL_MAX_WAIT)}(Qe),st.tokenRefresher=Mt),!Mt.isRunning()&&st.isTokenAutoRefreshEnabled&&Mt.start()}function oe(Qe){return Qe.expireTimeMillis-Date.now()>0}function Ge(Qe){return{token:Kr(ti),error:Qe}}class Et{constructor(Ye,st){this.app=Ye,this.heartbeatServiceProvider=st}_delete(){const{tokenObservers:Ye}=ct(this.app);for(const st of Ye)Ve(this.app,st.next);return Promise.resolve()}}const lr="app-check-internal";!function Fi(){(0,ge._registerComponent)(new me.wA("app-check",Qe=>function Bt(Qe,Ye){return new Et(Qe,Ye)}(Qe.getProvider("app").getImmediate(),Qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Qe,Ye,st)=>{Qe.getProvider(lr).initialize()})),(0,ge._registerComponent)(new me.wA(lr,Qe=>function on(Qe){return{getToken:Ye=>kr(Qe,Ye),getLimitedUseToken:()=>vr(Qe),addTokenListener:Ye=>function qn(Qe,Ye,st,Mt){const{app:Ht}=Qe,Jt=ct(Ht);if(Jt.tokenObservers=[...Jt.tokenObservers,{next:st,error:Mt,type:Ye}],Jt.token&&oe(Jt.token)){const $n=Jt.token;Promise.resolve().then(()=>{st({token:$n.token}),re(Qe)}).catch(()=>{})}Jt.cachedTokenPromise.then(()=>re(Qe))}(Qe,"INTERNAL",Ye),removeTokenListener:Ye=>Ve(Qe.app,Ye)}}(Qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)("@firebase/app-check","0.8.0")}();class Ui{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},6796:(en,nt,O)=>{"use strict";O.d(nt,{zQ:()=>jt,ww:()=>Tn,rT:()=>ze,f7:()=>ht,L6:()=>Me,_Q:()=>Le,lh:()=>ct,Qv:()=>ye,nw:()=>It});var g=O(5879),p=O(8645),Q=O(2096),le=O(5592),we=O(2459),Ce=O(3019),fe=O(3093),qe=O(4664),Ue=O(7398),_e=O(4552);class se extends p.x{constructor(gt=1/0,ue=1/0,Ie=_e.l){super(),this._bufferSize=gt,this._windowTime=ue,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,gt),this._windowTime=Math.max(1,ue)}next(gt){const{isStopped:ue,_buffer:Ie,_infiniteTimeWindow:Fe,_timestampProvider:Ze,_windowTime:tt}=this;ue||(Ie.push(gt),!Fe&&Ie.push(Ze.now()+tt)),this._trimBuffer(),super.next(gt)}_subscribe(gt){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(gt),{_infiniteTimeWindow:Ie,_buffer:Fe}=this,Ze=Fe.slice();for(let tt=0;tt<Ze.length&&!gt.closed;tt+=Ie?1:2)gt.next(Ze[tt]);return this._checkFinalizedStatuses(gt),ue}_trimBuffer(){const{_bufferSize:gt,_timestampProvider:ue,_buffer:Ie,_infiniteTimeWindow:Fe}=this,Ze=(Fe?1:2)*gt;if(gt<1/0&&Ze<Ie.length&&Ie.splice(0,Ie.length-Ze),!Fe){const tt=ue.now();let Xe=0;for(let $t=1;$t<Ie.length&&Ie[$t]<=tt;$t+=2)Xe=$t;Xe&&Ie.splice(0,Xe+1)}}}var Oe=O(3020);function xe(Qt,gt,ue){let Ie,Fe=!1;return Qt&&"object"==typeof Qt?({bufferSize:Ie=1/0,windowTime:gt=1/0,refCount:Fe=!1,scheduler:ue}=Qt):Ie=null!=Qt?Qt:1/0,(0,Oe.B)({connector:()=>new se(Ie,gt,ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Fe})}var ke=O(1374),Ke=O(4674);function lt(Qt,gt){return(0,Ke.m)(gt)?(0,qe.w)(()=>Qt,gt):(0,qe.w)(()=>Qt)}var Re=O(5137),Ae=O(2181),pe=O(8186),_t=O(6304),ve=O(6814),ge=O(8697),me=O(7142);const ye=new g.OlP("angularfire2.auth.use-emulator"),Me=new g.OlP("angularfire2.auth.settings"),Le=new g.OlP("angularfire2.auth.tenant-id"),ze=new g.OlP("angularfire2.auth.langugage-code"),ct=new g.OlP("angularfire2.auth.use-device-language"),ht=new g.OlP("angularfire.auth.persistence"),It=(Qt,gt,ue,Ie,Fe,Ze,tt,Xe)=>(0,_t.cc)(`${Qt.name}.auth`,"AngularFireAuth",Qt.name,()=>{const $t=gt.runOutsideAngular(()=>Qt.auth());if(ue&&$t.useEmulator(...ue),Ie&&($t.tenantId=Ie),$t.languageCode=Fe,Ze&&$t.useDeviceLanguage(),tt)for(const[Yt,ft]of Object.entries(tt))$t.settings[Yt]=ft;return Xe&&$t.setPersistence(Xe),$t},[ue,Ie,Fe,Ze,tt,Xe]);let jt=(()=>{class Qt{constructor(ue,Ie,Fe,Ze,tt,Xe,$t,Yt,ft,Te,at,St){const Ct=new p.x,qt=(0,Q.of)(void 0).pipe((0,fe.Q)(tt.outsideAngular),(0,qe.w)(()=>Ze.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5967)))),(0,Ue.U)(()=>(0,_t.on)(ue,Ze,Ie)),(0,Ue.U)(In=>It(In,Ze,Xe,Yt,ft,Te,$t,at)),xe({bufferSize:1,refCount:!1}));if((0,ve.PM)(Fe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{qt.pipe((0,ke.P)()).subscribe();const cn=qt.pipe((0,qe.w)(wn=>wn.getRedirectResult().then(On=>On,()=>null)),pe.iC,xe({bufferSize:1,refCount:!1})),xn=qt.pipe((0,qe.w)(wn=>new le.y(On=>({unsubscribe:Ze.runOutsideAngular(()=>wn.onAuthStateChanged(Bn=>On.next(Bn),Bn=>On.error(Bn),()=>On.complete()))})))),Sn=qt.pipe((0,qe.w)(wn=>new le.y(On=>({unsubscribe:Ze.runOutsideAngular(()=>wn.onIdTokenChanged(Bn=>On.next(Bn),Bn=>On.error(Bn),()=>On.complete()))}))));this.authState=cn.pipe(lt(xn),(0,Re.R)(tt.outsideAngular),(0,fe.Q)(tt.insideAngular)),this.user=cn.pipe(lt(Sn),(0,Re.R)(tt.outsideAngular),(0,fe.Q)(tt.insideAngular)),this.idToken=this.user.pipe((0,qe.w)(wn=>wn?(0,we.D)(wn.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,qe.w)(wn=>wn?(0,we.D)(wn.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,Ce.T)(cn,Ct,this.authState.pipe((0,Ae.h)(wn=>!wn))).pipe((0,Ue.U)(wn=>null!=wn&&wn.user?wn:null),(0,Re.R)(tt.outsideAngular),(0,fe.Q)(tt.insideAngular))}return(0,_t.pX)(this,qt,Ze,{spy:{apply:(In,cn,xn)=>{(In.startsWith("signIn")||In.startsWith("createUser"))&&xn.then(Sn=>Ct.next(Sn))}}})}}return Qt.\u0275fac=function(ue){return new(ue||Qt)(g.LFG(_t.Dh),g.LFG(_t.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(pe.HU),g.LFG(ye,8),g.LFG(Me,8),g.LFG(Le,8),g.LFG(ze,8),g.LFG(ct,8),g.LFG(ht,8),g.LFG(ge.nm,8))},Qt.\u0275prov=g.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"any"}),Qt})(),Tn=(()=>{class Qt{constructor(){me.Z.registerVersion("angularfire",pe.q4.full,"auth-compat")}}return Qt.\u0275fac=function(ue){return new(ue||Qt)},Qt.\u0275mod=g.oAB({type:Qt}),Qt.\u0275inj=g.cJS({providers:[jt]}),Qt})()},8330:(en,nt,O)=>{"use strict";O.d(nt,{ST:()=>qm,yb:()=>c_});var g=O(5879),p=O(6321),Q=O(5592),le=O(2459),we=O(2096),Ce=O(8186),fe=O(7921),qe=O(9360),Ue=O(8251);function _e(){return(0,qe.e)((i,e)=>{let t,s=!1;i.subscribe((0,Ue.x)(e,l=>{const u=t;t=l,s&&e.next([u,l]),s=!0}))})}var Me,se=O(7398),Oe=O(6699),xe=O(3997),ke=O(2181),Ke=O(6304),lt=O(6814),Ae=(O(5967),O(3106)),pe=O(5861),_t=O(534),ve=O(4537),ge=O(7879),me=O(9058),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={},Le=Le||{},ze=Se||self;function ct(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ht(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var jt="closure_uid_"+(1e9*Math.random()>>>0),Tn=0;function Qt(i,e,t){return i.call.apply(i.bind,arguments)}function gt(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function ue(i,e,t){return(ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qt:gt).apply(null,arguments)}function Ie(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Fe(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,l,u){for(var m=Array(arguments.length-2),x=2;x<arguments.length;x++)m[x-2]=arguments[x];return e.prototype[l].apply(s,m)}}function Ze(){this.s=this.s,this.o=this.o}Ze.prototype.s=!1,Ze.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function It(i){Object.prototype.hasOwnProperty.call(i,jt)&&i[jt]||(i[jt]=++Tn)}(this)},Ze.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function $t(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Yt(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ct(s)){const l=i.length||0,u=s.length||0;i.length=l+u;for(let m=0;m<u;m++)i[l+m]=s[m]}else i.push(s)}}function ft(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ze.addEventListener("test",()=>{},e),ze.removeEventListener("test",()=>{},e)}catch{}return i}();function at(i){return/^[\s\xa0]*$/.test(i)}function St(){var i=ze.navigator;return i&&(i=i.userAgent)?i:""}function Ct(i){return-1!=St().indexOf(i)}function qt(i){return qt[" "](i),i}qt[" "]=function(){};var pr,i,cn=Ct("Opera"),xn=Ct("Trident")||Ct("MSIE"),Sn=Ct("Edge"),wn=Sn||xn,On=Ct("Gecko")&&!(-1!=St().toLowerCase().indexOf("webkit")&&!Ct("Edge"))&&!(Ct("Trident")||Ct("MSIE"))&&!Ct("Edge"),Bn=-1!=St().toLowerCase().indexOf("webkit")&&!Ct("Edge");function Or(){var i=ze.document;return i?i.documentMode:void 0}e:{var gr="",un=(i=St(),On?/rv:([^\);]+)(\)|;)/.exec(i):Sn?/Edge\/([\d\.]+)/.exec(i):xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Bn?/WebKit\/(\S+)/.exec(i):cn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(un&&(gr=un?un[1]:""),xn){var Pn=Or();if(null!=Pn&&Pn>parseFloat(gr)){pr=String(Pn);break e}}pr=gr}var Lr=ze.document&&xn&&(Or()||parseInt(pr,10))||void 0;function Zt(i,e){if(ft.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(On){e:{try{qt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Hn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Zt.$.h.call(this)}}Fe(Zt,ft);var Hn={2:"touch",3:"pen",4:"mouse"};Zt.prototype.h=function(){Zt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),ir=0;function li(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=l,this.key=++ir,this.fa=this.ia=!1}function Un(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function mi(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function ri(i){const e={};for(const t in i)e[t]=i[t];return e}const Nr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vi(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let u=0;u<Nr.length;u++)t=Nr[u],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function ti(i){this.src=i,this.g={},this.h=0}function Kr(i,e){var t=e.type;if(t in i.g){var u,s=i.g[t],l=Xe(s,e);(u=0<=l)&&Array.prototype.splice.call(s,l,1),u&&(Un(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function kr(i,e,t,s){for(var l=0;l<i.length;++l){var u=i[l];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==s)return l}return-1}ti.prototype.add=function(i,e,t,s,l){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var m=kr(i,e,s,l);return-1<m?(e=i[m],t||(e.ia=!1)):((e=new li(e,this.src,u,!!s,l)).ia=t,i.push(e)),e};var Wr="closure_lm_"+(1e6*Math.random()|0),vr={};function Ar(i,e,t,s,l){if(s&&s.once)return re(i,e,t,s,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ar(i,e[u],t,s,l);return null}return t=on(t),i&&i[Ut]?i.O(e,t,ht(s)?!!s.capture:!!s,l):qn(i,e,t,!1,s,l)}function qn(i,e,t,s,l,u){if(!e)throw Error("Invalid event type");var m=ht(l)?!!l.capture:!!l,x=Et(i);if(x||(i[Wr]=x=new ti(i)),(t=x.add(e,t,s,m,u)).proxy)return t;if(s=function Ve(){const e=Ge;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Te||(l=m),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(oe(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function re(i,e,t,s,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)re(i,e[u],t,s,l);return null}return t=on(t),i&&i[Ut]?i.P(e,t,ht(s)?!!s.capture:!!s,l):qn(i,e,t,!0,s,l)}function J(i,e,t,s,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)J(i,e[u],t,s,l);else s=ht(s)?!!s.capture:!!s,t=on(t),i&&i[Ut]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=kr(u=i.g[e],t,s,l))&&(Un(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=Et(i))&&(e=i.g[e.toString()],i=-1,e&&(i=kr(e,t,s,l)),(t=-1<i?e[i]:null)&&Pe(t))}function Pe(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ut])Kr(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(oe(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Et(e))?(Kr(t,i),0==t.h&&(t.src=null,e[Wr]=null)):Un(i)}}}function oe(i){return i in vr?vr[i]:vr[i]="on"+i}function Ge(i,e){if(i.fa)i=!0;else{e=new Zt(e,this);var t=i.listener,s=i.la||i.src;i.ia&&Pe(i),i=t.call(s,e)}return i}function Et(i){return(i=i[Wr])instanceof ti?i:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(i){return"function"==typeof i?i:(i[Bt]||(i[Bt]=function(e){return i.handleEvent(e)}),i[Bt])}function vn(){Ze.call(this),this.i=new ti(this),this.S=this,this.J=null}function ln(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new ft(e,i);else if(e instanceof ft)e.target=e.target||i;else{var l=e;vi(e=new ft(s,i),l)}if(l=!0,t)for(var u=t.length-1;0<=u;u--){var m=e.g=t[u];l=Fn(m,s,!0,e)&&l}if(l=Fn(m=e.g=i,s,!0,e)&&l,l=Fn(m,s,!1,e)&&l,t)for(u=0;u<t.length;u++)l=Fn(m=e.g=t[u],s,!1,e)&&l}function Fn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.fa&&m.capture==t){var x=m.listener,U=m.la||m.src;m.ia&&Kr(i.i,m),l=!1!==x.call(U,s)&&l}}return l&&!s.defaultPrevented}Fe(vn,Ze),vn.prototype[Ut]=!0,vn.prototype.removeEventListener=function(i,e,t,s){J(this,i,e,t,s)},vn.prototype.N=function(){if(vn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Un(t[s]);delete i.g[e],i.h--}}this.J=null},vn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},vn.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var br=ze.JSON.stringify;function yi(){var i=Qn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var bt=new class fr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rt,i=>i.reset());class rt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ot(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function hn(i){ze.setTimeout(()=>{throw i},0)}let yn,Xt=!1,Qn=new class Ai{constructor(){this.h=this.g=null}add(e,t){const s=bt.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},yr=()=>{const i=ze.Promise.resolve(void 0);yn=()=>{i.then(_r)}};var _r=()=>{for(var i;i=yi();){try{i.h.call(i.g)}catch(t){hn(t)}var e=bt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Xt=!1};function Mr(i,e){vn.call(this),this.h=i||1,this.g=e||ze,this.j=ue(this.qb,this),this.l=Date.now()}function $r(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Er(i,e,t){if("function"==typeof i)t&&(i=ue(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ue(i.handleEvent,i)}return 2147483647<Number(e)?-1:ze.setTimeout(i,e||0)}function ar(i){i.g=Er(()=>{i.g=null,i.i&&(i.i=!1,ar(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Fe(Mr,vn),(Me=Mr.prototype).ga=!1,Me.T=null,Me.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ln(this,"tick"),this.ga&&($r(this),this.start()))}},Me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Me.N=function(){Mr.$.N.call(this),$r(this),delete this.g};class Ns extends Ze{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ar(this)}N(){super.N(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(i){Ze.call(this),this.h=i,this.g={}}Fe(ki,Ze);var _i=[];function rs(i,e,t,s){Array.isArray(t)||(t&&(_i[0]=t.toString()),t=_i);for(var l=0;l<t.length;l++){var u=Ar(e,t[l],s||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function Ci(i){mi(i.g,function(e,t){this.g.hasOwnProperty(t)&&Pe(e)},i),i.g={}}function Ti(){this.g=!0}function ci(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ui(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<l.length;m++)l[m]=""}}}return br(t)}catch{return e}}(i,t)+(s?" "+s:"")})}ki.prototype.N=function(){ki.$.N.call(this),Ci(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ti.prototype.Ea=function(){this.g=!1},Ti.prototype.info=function(){};var Cr={},ee=null;function K(){return ee=ee||new vn}function Ee(i){ft.call(this,Cr.Ta,i)}function Ne(i){const e=K();ln(e,new Ee(e))}function mt(i,e){ft.call(this,Cr.STAT_EVENT,i),this.stat=e}function et(i){const e=K();ln(e,new mt(e,i))}function At(i,e){ft.call(this,Cr.Ua,i),this.size=e}function Nt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){i()},e)}Cr.Ta="serverreachability",Fe(Ee,ft),Cr.STAT_EVENT="statevent",Fe(mt,ft),Cr.Ua="timingevent",Fe(At,ft);var Rt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dn(){}function Gn(){}dn.prototype.h=null;var st,nr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qe(){ft.call(this,"d")}function Ye(){ft.call(this,"c")}function Mt(){}function Ht(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new ki(this),this.P=kn,this.V=new Mr(i=wn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}Fe(Qe,ft),Fe(Ye,ft),Fe(Mt,dn),Mt.prototype.g=function(){return new XMLHttpRequest},Mt.prototype.i=function(){return{}},st=new Mt;var kn=45e3,$n={},cr={};function ni(i,e,t){i.L=1,i.v=Vs(Rn(e)),i.s=t,i.S=!0,so(i,null)}function so(i,e){i.G=Date.now(),zi(i),i.A=Rn(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),qr(t.i,"t",s),i.C=0,t=i.l.J,i.h=new Jt,i.g=qa(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Ns(ue(i.Pa,i,i.g),i.O)),rs(i.U,i.g,"readystatechange",i.nb),e=i.I?ri(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ne(),function lr(i,e,t,s,l,u){i.info(function(){if(i.g)if(u)for(var m="",x=u.split("&"),U=0;U<x.length;U++){var Y=x[U].split("=");if(1<Y.length){var ae=Y[0];Y=Y[1];var je=ae.split("_");m=2<=je.length&&"type"==je[1]?m+(ae+"=")+Y+"&":m+(ae+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ii(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Cs(i,e,t){let l,s=!0;for(;!i.J&&i.C<t.length;){if(l=ls(i,t),l==cr){4==e&&(i.o=4,et(14),s=!1),ci(i.j,i.m,null,"[Incomplete Response]");break}if(l==$n){i.o=4,et(15),ci(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}ci(i.j,i.m,l,null),Li(i,l)}ii(i)&&l!=cr&&l!=$n&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,et(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),la(e),e.M=!0,et(11))):(ci(i.j,i.m,t,"[Invalid Chunked Response]"),dr(i),Kn(i))}function ls(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?cr:(t=Number(e.substring(t,s)),isNaN(t)?$n:(s+=1)+t>e.length?cr:(e=e.slice(s,s+t),i.C=s+t,e))}function zi(i){i.Y=Date.now()+i.P,Yr(i,i.P)}function Yr(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Nt(ue(i.lb,i),e)}function tn(i){i.B&&(ze.clearTimeout(i.B),i.B=null)}function Kn(i){0==i.l.H||i.J||Ya(i.l,i)}function dr(i){tn(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,$r(i.V),Ci(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Li(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||oo(t.i,i)))if(!i.K&&oo(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;xo(t),Vr(t)}aa(t),et(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Nt(ue(t.ib,t),6e3));if(1>=Ii(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else po(t,11)}else if((i.K||t.g==i)&&xo(t),!at(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let Y=l[e];if(t.V=Y[0],Y=Y[1],2==t.H)if("c"==Y[0]){t.K=Y[1],t.pa=Y[2];const ae=Y[3];null!=ae&&(t.ra=ae,t.l.info("VER="+t.ra));const je=Y[4];null!=je&&(t.Ga=je,t.l.info("SVER="+t.Ga));const Dt=Y[5];null!=Dt&&"number"==typeof Dt&&0<Dt&&(t.L=s=1.5*Dt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ft=i.g;if(Ft){const fn=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fn){var u=s.i;u.g||-1==fn.indexOf("spdy")&&-1==fn.indexOf("quic")&&-1==fn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(xi(u,u.h),u.h=null))}if(s.F){const Nn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Nn&&(s.Da=Nn,sr(s.I,s.F,Nn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var m=i;if((s=t).wa=Ia(s,s.J?s.pa:null,s.Y),m.K){ds(s.i,m);var x=m,U=s.L;U&&x.setTimeout(U),x.B&&(tn(x),zi(x)),s.g=m}else fl(s);0<t.j.length&&Gi(t)}else"stop"!=Y[0]&&"close"!=Y[0]||po(t,7);else 3==t.H&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?po(t,7):Hr(t):"noop"!=Y[0]&&t.h&&t.h.Aa(Y),t.A=0)}Ne()}catch{}}function cs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ct(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ji(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ct(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Ji(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ct(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length,u=0;u<l;u++)e.call(void 0,s[u],t&&t[u],i)}(Me=Ht.prototype).setTimeout=function(i){this.P=i},Me.nb=function(i){i=i.target;const e=this.M;e&&3==ie(i)?e.l():this.Pa(i)},Me.Pa=function(i){try{if(i==this.g)e:{const ae=ie(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ae)&&(3!=ae||wn||this.g&&(this.h.h||this.g.ja()||pt(this.g)))){this.J||4!=ae||7==e||Ne(),tn(this);var t=this.g.da();this.ca=t;t:if(ii(this)){var s=pt(this.g);i="";var l=s.length,u=4==ie(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),Kn(this);var m="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:u&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==t,function Fi(i,e,t,s,l,u,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.W,ae,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(x)){var Y=x;break t}}Y=null}if(!(t=Y)){this.i=!1,this.o=3,et(12),dr(this),Kn(this);break e}ci(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Li(this,t)}this.S?(Cs(this,ae,m),wn&&this.i&&3==ae&&(rs(this.U,this.V,"tick",this.mb),this.V.start())):(ci(this.j,this.m,m,null),Li(this,m)),4==ae&&dr(this),this.i&&!this.J&&(4==ae?Ya(this.l,this):(this.i=!1,zi(this)))}else(function Gt(i){const e={};i=(i.g&&2<=ie(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(at(i[s]))continue;var t=Ot(i[s]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[l]||[];e[l]=u,u.push(t)}!function Pr(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<m.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),dr(this),Kn(this)}}}catch{}},Me.mb=function(){if(this.g){var i=ie(this.g),e=this.g.ja();this.C<e.length&&(tn(this),Cs(this,i,e),this.i&&4!=i&&zi(this))}},Me.cancel=function(){this.J=!0,dr(this)},Me.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Qi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ne(),et(17)),dr(this),this.o=2,Kn(this)):Yr(this,this.Y-i)};var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof fi){this.h=i.h,$s(this,i.j),this.s=i.s,this.g=i.g,eo(this,i.m),this.l=i.l;var e=i.i,t=new or;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gs(this,t),this.o=i.o}else i&&(e=String(i).match(Zr))?(this.h=!1,$s(this,e[1]||"",!0),this.s=Si(e[2]||""),this.g=Si(e[3]||"",!0),eo(this,e[4]),this.l=Si(e[5]||"",!0),gs(this,e[6]||"",!0),this.o=Si(e[7]||"")):(this.h=!1,this.i=new or(null,this.h))}function Rn(i){return new fi(i)}function $s(i,e,t){i.j=t?Si(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function eo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function gs(i,e,t){e instanceof or?(i.i=e,function ss(i,e){e&&!i.j&&(ms(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(ks(this,s),qr(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=pi(e,ho)),i.i=new or(e,i.h))}function sr(i,e,t){i.i.set(e,t)}function Vs(i){return sr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Si(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function pi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,us),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function us(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}fi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(pi(e,wo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(pi(e,wo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(pi(t,"/"==t.charAt(0)?es:Ts,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",pi(t,Ss)),i.join("")};var wo=/[#\/\?@]/g,Ts=/[#\?:]/g,es=/[#\?]/g,ho=/[#\?@]/g,Ss=/#/g;function or(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ms(i){i.g||(i.g=new Map,i.h=0,i.i&&function qs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var u=i[t].substring(0,s);l=i[t].substring(s+1)}else u=i[t];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ks(i,e){ms(i),e=Br(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function is(i,e){return ms(i),e=Br(i,e),i.g.has(e)}function qr(i,e,t){ks(i,e),0<t.length&&(i.i=null,i.g.set(Br(i,e),$t(t)),i.h+=t.length)}function Br(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Mi(i){this.l=i||fo,i=ze.PerformanceNavigationTiming?0<(i=ze.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ze.g&&ze.g.Ka&&ze.g.Ka()&&ze.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Me=or.prototype).add=function(i,e){ms(this),this.i=null,i=Br(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Me.forEach=function(i,e){ms(this),this.g.forEach(function(t,s){t.forEach(function(l){i.call(e,l,s,this)},this)},this)},Me.ta=function(){ms(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const l=i[s];for(let u=0;u<l.length;u++)t.push(e[s])}return t},Me.Z=function(i){ms(this);let e=[];if("string"==typeof i)is(this,i)&&(e=e.concat(this.g.get(Br(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Me.set=function(i,e){return ms(this),this.i=null,is(this,i=Br(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Me.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const u=encodeURIComponent(String(s)),m=this.Z(s);for(s=0;s<m.length;s++){var l=u;""!==m[s]&&(l+="="+encodeURIComponent(String(m[s]))),i.push(l)}}return this.i=i.join("&")};var fo=10;function Hi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ii(i){return i.h?1:i.g?i.g.size:0}function oo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function xi(i,e){i.g?i.g.add(e):i.h=e}function ds(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ui(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return $t(i.i)}Mi.prototype.cancel=function(){if(this.i=ui(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ks=class{stringify(i){return ze.JSON.stringify(i,void 0)}parse(i){return ze.JSON.parse(i,void 0)}};function no(){this.g=new Ks}function ao(i,e,t){const s=t||"";try{cs(i,function(l,u){let m=l;ht(l)&&(m=br(l)),e.push(s+u+"="+encodeURIComponent(m))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function bo(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function Zs(i){this.l=i.fc||null,this.j=i.ob||!1}function ro(i,e){vn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fe(Zs,dn),Zs.prototype.g=function(){return new ro(this.l,this.j)},Zs.prototype.i=function(i){return function(){return i}}({}),Fe(ro,vn);var Ho=0;function _a(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Qr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,W(i)}function W(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Me=ro.prototype).open=function(i,e){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,W(this)},Me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qr(this)),this.readyState=Ho},Me.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,W(this)),this.g&&(this.readyState=3,W(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ze.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_a(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Me.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Qr(this):W(this),3==this.readyState&&_a(this)}},Me.Za=function(i){this.g&&(this.response=this.responseText=i,Qr(this))},Me.Ya=function(i){this.g&&(this.response=i,Qr(this))},Me.ka=function(){this.g&&Qr(this)},Me.setRequestHeader=function(i,e){this.v.append(i,e)},Me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ro.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var z=ze.JSON.parse;function D(i){vn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E,this.L=this.M=!1}Fe(D,vn);var E="",V=/^https?$/i,P=["POST","PUT"];function ut(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,v(i),_(i)}function v(i){i.F||(i.F=!0,ln(i,"complete"),ln(i,"error"))}function L(i){if(i.h&&typeof Le<"u"&&(!i.C[1]||4!=ie(i)||2!=i.da()))if(i.v&&4==ie(i))Er(i.La,0,i);else if(ln(i,"readystatechange"),4==ie(i)){i.h=!1;try{const m=i.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===m){var l=String(i.I).match(Zr)[1]||null;!l&&ze.self&&ze.self.location&&(l=ze.self.location.protocol.slice(0,-1)),s=!V.test(l?l.toLowerCase():"")}t=s}if(t)ln(i,"complete"),ln(i,"success");else{i.m=6;try{var u=2<ie(i)?i.g.statusText:""}catch{u=""}i.j=u+" ["+i.da()+"]",v(i)}}finally{_(i)}}}function _(i,e){if(i.g){B(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||ln(i,"ready");try{t.onreadystatechange=s}catch{}}}function B(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ze.clearTimeout(i.A),i.A=null)}function ie(i){return i.g?i.g.readyState:0}function pt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case E:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function an(i){let e="";return mi(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function An(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=an(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):sr(i,e,t))}function Jn(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Jr(i){this.Ga=0,this.j=[],this.l=new Ti,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jn("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jn("baseRetryDelayMs",5e3,i),this.hb=Jn("retryDelaySeedMs",1e4,i),this.eb=Jn("forwardChannelMaxRetries",2,i),this.xa=Jn("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Mi(i&&i.concurrentRequestLimit),this.Ja=new no,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hr(i){if(hs(i),3==i.H){var e=i.W++,t=Rn(i.I);if(sr(t,"SID",i.K),sr(t,"RID",e),sr(t,"TYPE","terminate"),Ei(i,t),(e=new Ht(i,i.l,e)).L=2,e.v=Vs(Rn(t)),t=!1,ze.navigator&&ze.navigator.sendBeacon)try{t=ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ze.Image&&((new Image).src=e.v,t=!0),t||(e.g=qa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zi(e)}da(i)}function Vr(i){i.g&&(la(i),i.g.cancel(),i.g=null)}function hs(i){Vr(i),i.u&&(ze.clearTimeout(i.u),i.u=null),xo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ze.clearTimeout(i.m),i.m=null)}function Gi(i){if(!Hi(i.i)&&!i.m){i.m=!0;var e=i.Na;yn||yr(),Xt||(yn(),Xt=!0),Qn.add(e,i),i.C=0}}function Fs(i,e){var t;t=e?e.m:i.W++;const s=Rn(i.I);sr(s,"SID",i.K),sr(s,"RID",t),sr(s,"AID",i.V),Ei(i,s),i.o&&i.s&&An(s,i.o,i.s),t=new Ht(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=fs(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),xi(i.i,t),ni(t,s,e)}function Ei(i,e){i.na&&mi(i.na,function(t,s){sr(e,s,t)}),i.h&&cs({},function(t,s){sr(e,s,t)})}function fs(i,e,t){t=Math.min(i.j.length,t);var s=i.h?ue(i.h.Va,i.h,i):null;e:{var l=i.j;let u=-1;for(;;){const m=["count="+t];-1==u?0<t?(u=l[0].g,m.push("ofs="+u)):u=0:m.push("ofs="+u);let x=!0;for(let U=0;U<t;U++){let Y=l[U].g;const ae=l[U].map;if(Y-=u,0>Y)u=Math.max(0,l[U].g-100),x=!1;else try{ao(ae,m,"req"+Y+"_")}catch{s&&s(ae)}}if(x){s=m.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function fl(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;yn||yr(),Xt||(yn(),Xt=!0),Qn.add(e,i),i.A=0}}function aa(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Nt(ue(i.Ma,i),ua(i,i.A)),i.A++,0))}function la(i){null!=i.B&&(ze.clearTimeout(i.B),i.B=null)}function ca(i){i.g=new Ht(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Rn(i.wa);sr(e,"RID","rpc"),sr(e,"SID",i.K),sr(e,"AID",i.V),sr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&sr(e,"TO",i.qa),sr(e,"TYPE","xmlhttp"),Ei(i,e),i.o&&i.s&&An(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=Vs(Rn(e)),t.s=null,t.S=!0,so(t,i)}function xo(i){null!=i.v&&(ze.clearTimeout(i.v),i.v=null)}function Ya(i,e){var t=null;if(i.g==e){xo(i),la(i),i.g=null;var s=2}else{if(!oo(i.i,e))return;t=e.F,ds(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;ln(s=K(),new At(s,t)),Gi(i)}else fl(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function Bi(i,e){return!(Ii(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Nt(ue(i.Na,i,e),ua(i,i.C)),i.C++,0)))}(i,e)||2==s&&aa(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:po(i,5);break;case 4:po(i,10);break;case 3:po(i,6);break;default:po(i,2)}}function ua(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function po(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=ue(i.pb,i);t||(t=new fi("//www.google.com/images/cleardot.gif"),ze.location&&"http"==ze.location.protocol||$s(t,"https"),Vs(t)),function lo(i,e){const t=new Ti;if(ze.Image){const s=new Image;s.onload=Ie(bo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ie(bo,t,s,"TestLoadImage: error",!1,e),s.onabort=Ie(bo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ie(bo,t,s,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else et(2);i.H=0,i.h&&i.h.za(e),da(i),hs(i)}function da(i){if(i.H=0,i.ma=[],i.h){const e=ui(i.i);(0!=e.length||0!=i.j.length)&&(Yt(i.ma,e),Yt(i.ma,i.j),i.i.i.length=0,$t(i.j),i.j.length=0),i.h.ya()}}function Ia(i,e,t){var s=t instanceof fi?Rn(t):new fi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),eo(s,s.m);else{var l=ze.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new fi(null);s&&$s(u,s),e&&(u.g=e),l&&eo(u,l),t&&(u.l=t),s=u}return e=i.Da,(t=i.F)&&e&&sr(s,t,e),sr(s,"VER",i.ra),Ei(i,s),s}function qa(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new D(t&&i.Ha&&!i.va?new Zs({ob:!0}):i.va)).Oa(i.J),e}function Gl(){}function Ea(){if(xn&&!(10<=Number(Lr)))throw Error("Environmental error: no available transport.")}function Xs(i,e){vn.call(this),this.g=new Jr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!at(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!at(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ro(this)}function Da(i){Qe.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function pl(){Ye.call(this),this.status=1}function Ro(i){this.g=i}function vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Zo(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)s[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=i.g[3],m=(e=i.g[0])+(u^(t=i.g[1])&((l=i.g[2])^u))+s[0]+3614090360&4294967295;m=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=t+(m<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+s[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+s[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(l^u))+s[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+s[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+s[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(l^u))+s[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+s[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+s[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(l^u))+s[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+s[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+s[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(l^u&(t^l))+s[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+s[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+s[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(t^l))+s[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+s[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+s[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(t^l))+s[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+s[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+s[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(t^l))+s[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+s[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+s[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(t^l^u)+s[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+s[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+s[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^u)+s[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+s[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+s[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^u)+s[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+s[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+s[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^u)+s[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+s[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+s[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+s[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(l^(t|~u))+s[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~t))+s[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(t|~u))+s[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~t))+s[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(t|~u))+s[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~t))+s[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((u=(e=t+((m=e+(l^(t|~u))+s[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((l=u+((m=l+(e^(u|~t))+s[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(m<<21&4294967295|m>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+u&4294967295}function si(i,e){this.h=e;for(var t=[],s=!0,l=i.length-1;0<=l;l--){var u=0|i[l];s&&u==e||(t[l]=u,s=!1)}this.g=t}(Me=D.prototype).Oa=function(i){this.M=i},Me.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=function zn(i){return i.h||(i.h=i.i())}(this.u?this.u:st),this.g.onreadystatechange=ue(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(u){return void ut(this,u)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)t.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const u of s.keys())t.set(u,s.get(u))}s=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),l=ze.FormData&&i instanceof ze.FormData,!(0<=Xe(P,e))||s||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,m]of t)this.g.setRequestHeader(u,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{B(this),0<this.B&&((this.L=function X(i){return xn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ue(this.ua,this)):this.A=Er(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){ut(this,u)}},Me.ua=function(){typeof Le<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))},Me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ln(this,"complete"),ln(this,"abort"),_(this))},Me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_(this,!0)),D.$.N.call(this)},Me.La=function(){this.s||(this.G||this.v||this.l?L(this):this.kb())},Me.kb=function(){L(this)},Me.isActive=function(){return!!this.g},Me.da=function(){try{return 2<ie(this)?this.g.status:-1}catch{return-1}},Me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Me.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),z(e)}},Me.Ia=function(){return this.m},Me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Me=Jr.prototype).ra=8,Me.H=1,Me.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Ht(this,this.l,i);let u=this.s;if(this.U&&(u?(u=ri(u),vi(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fs(this,l,e),sr(t=Rn(this.I),"RID",i),sr(t,"CVER",22),this.F&&sr(t,"X-HTTP-Session-Id",this.F),Ei(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(an(u)))+"&"+e:this.o&&An(t,this.o,u)),xi(this.i,l),this.bb&&sr(t,"TYPE","init"),this.P?(sr(t,"$req",e),sr(t,"SID","null"),l.aa=!0,ni(l,t,null)):ni(l,t,e),this.H=2}}else 3==this.H&&(i?Fs(this,i):0==this.j.length||Hi(this.i)||Fs(this))},Me.Ma=function(){if(this.u=null,ca(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Nt(ue(this.jb,this),i)}},Me.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,et(10),Vr(this),ca(this))},Me.ib=function(){null!=this.v&&(this.v=null,Vr(this),aa(this),et(19))},Me.pb=function(i){i?(this.l.info("Successfully pinged google.com"),et(2)):(this.l.info("Failed to ping google.com"),et(1))},Me.isActive=function(){return!!this.h&&this.h.isActive(this)},(Me=Gl.prototype).Ba=function(){},Me.Aa=function(){},Me.za=function(){},Me.ya=function(){},Me.isActive=function(){return!0},Me.Va=function(){},Ea.prototype.g=function(i,e){return new Xs(i,e)},Fe(Xs,vn),Xs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;et(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Ia(i,null,i.Y),Gi(i)},Xs.prototype.close=function(){Hr(this.g)},Xs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=br(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Gi(e)},Xs.prototype.N=function(){this.g.h=null,delete this.j,Hr(this.g),delete this.g,Xs.$.N.call(this)},Fe(Da,Qe),Fe(pl,Ye),Fe(Ro,Gl),Ro.prototype.Ba=function(){ln(this.g,"a")},Ro.prototype.Aa=function(i){ln(this.g,new Da(i))},Ro.prototype.za=function(i){ln(this.g,new pl)},Ro.prototype.ya=function(){ln(this.g,"b")},Fe(vs,function Ka(){this.blockSize=-1}),vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=t;)Zo(this,i,u),u+=this.blockSize;if("string"==typeof i){for(;u<e;)if(s[l++]=i.charCodeAt(u++),l==this.blockSize){Zo(this,s),l=0;break}}else for(;u<e;)if(s[l++]=i[u++],l==this.blockSize){Zo(this,s),l=0;break}}this.h=l,this.i+=e},vs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var S={};function j(i){return-128<=i&&128>i?function In(i,e){var t=S;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new si([0|e],0>e?-1:0)}):new si([0|i],0>i?-1:0)}function De(i){if(isNaN(i)||!isFinite(i))return Be;if(0>i)return er(De(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=ce;return new si(e,0)}var ce=4294967296,Be=j(0),Pt=j(1),nn=j(16777216);function bn(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function hr(i){return-1==i.h}function er(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new si(t,~i.h).add(Pt)}function Wn(i,e){return i.add(er(e))}function Di(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Tr(i,e){this.g=i,this.h=e}function ei(i,e){if(bn(e))throw Error("division by zero");if(bn(i))return new Tr(Be,Be);if(hr(i))return e=ei(er(i),e),new Tr(er(e.g),er(e.h));if(hr(e))return e=ei(i,er(e)),new Tr(er(e.g),e.h);if(30<i.g.length){if(hr(i)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Pt,s=e;0>=s.X(i);)t=Ri(t),s=Ri(s);var l=ps(t,1),u=ps(s,1);for(s=ps(s,2),t=ps(t,2);!bn(s);){var m=u.add(s);0>=m.X(i)&&(l=l.add(t),u=m),s=ps(s,1),t=ps(t,1)}return e=Wn(i,l.R(e)),new Tr(l,e)}for(l=Be;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),m=(u=De(t)).R(e);hr(m)||0<m.X(i);)m=(u=De(t-=s)).R(e);bn(u)&&(u=Pt),l=l.add(u),i=Wn(i,m)}return new Tr(l,i)}function Ri(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new si(t,i.h)}function ps(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,l=[],u=0;u<s;u++)l[u]=0<e?i.D(u+t)>>>e|i.D(u+t+1)<<32-e:i.D(u+t);return new si(l,i.h)}(Me=si.prototype).ea=function(){if(hr(this))return-er(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:ce+s)*e,e*=ce}return i},Me.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(bn(this))return"0";if(hr(this))return"-"+er(this).toString(i);for(var e=De(Math.pow(i,6)),t=this,s="";;){var l=ei(t,e).g,u=((0<(t=Wn(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(bn(t=l))return u+s;for(;6>u.length;)u="0"+u;s=u+s}},Me.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Me.X=function(i){return hr(i=Wn(this,i))?-1:bn(i)?0:1},Me.abs=function(){return hr(this)?er(this):this},Me.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,l=0;l<=e;l++){var u=s+(65535&this.D(l))+(65535&i.D(l)),m=(u>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=m>>>16,t[l]=(m&=65535)<<16|(u&=65535)}return new si(t,-2147483648&t[t.length-1]?-1:0)},Me.R=function(i){if(bn(this)||bn(i))return Be;if(hr(this))return hr(i)?er(this).R(er(i)):er(er(this).R(i));if(hr(i))return er(this.R(er(i)));if(0>this.X(nn)&&0>i.X(nn))return De(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var u=this.D(s)>>>16,m=65535&this.D(s),x=i.D(l)>>>16,U=65535&i.D(l);t[2*s+2*l]+=m*U,Di(t,2*s+2*l),t[2*s+2*l+1]+=u*U,Di(t,2*s+2*l+1),t[2*s+2*l+1]+=m*x,Di(t,2*s+2*l+1),t[2*s+2*l+2]+=u*x,Di(t,2*s+2*l+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new si(t,0)},Me.gb=function(i){return ei(this,i).h},Me.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new si(t,this.h&i.h)},Me.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new si(t,this.h|i.h)},Me.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new si(t,this.h^i.h)},Ea.prototype.createWebChannel=Ea.prototype.g,Xs.prototype.send=Xs.prototype.u,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,Vt.COMPLETE="complete",Gn.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",vn.prototype.listen=vn.prototype.O,D.prototype.listenOnce=D.prototype.P,D.prototype.getLastError=D.prototype.Sa,D.prototype.getLastErrorCode=D.prototype.Ia,D.prototype.getStatus=D.prototype.da,D.prototype.getResponseJson=D.prototype.Wa,D.prototype.getResponseText=D.prototype.ja,D.prototype.send=D.prototype.ha,D.prototype.setWithCredentials=D.prototype.Oa,vs.prototype.digest=vs.prototype.l,vs.prototype.reset=vs.prototype.reset,vs.prototype.update=vs.prototype.j,si.prototype.add=si.prototype.add,si.prototype.multiply=si.prototype.R,si.prototype.modulo=si.prototype.gb,si.prototype.compare=si.prototype.X,si.prototype.toNumber=si.prototype.ea,si.prototype.toString=si.prototype.toString,si.prototype.getBits=si.prototype.D,si.fromNumber=De,si.fromString=function $(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return er($(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=De(Math.pow(e,8)),s=Be,l=0;l<i.length;l+=8){var u=Math.min(8,i.length-l),m=parseInt(i.substring(l,l+u),e);8>u?(u=De(Math.pow(e,u)),s=s.R(u).add(De(m))):s=(s=s.R(t)).add(De(m))}return s};var Oo=ye.createWebChannelTransport=function(){return new Ea},go=ye.getStatEventTarget=function(){return K()},As=ye.ErrorCode=Rt,zo=ye.EventType=Vt,ha=ye.Event=Cr,Ms=ye.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Za=ye.FetchXmlHttpFactory=Zs,wa=ye.WebChannel=Gn,ba=ye.XhrIo=D,ur=ye.Md5=vs,Ca=ye.Integer=si;const Wl="@firebase/firestore";class ys{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ys.UNAUTHENTICATED=new ys(null),ys.GOOGLE_CREDENTIALS=new ys("google-credentials-uid"),ys.FIRST_PARTY=new ys("first-party-uid"),ys.MOCK_USER=new ys("mock-user");let gl="9.23.0";const mo=new ge.Yd("@firebase/firestore");function Xa(){return mo.logLevel}function rn(i,...e){if(mo.logLevel<=ge.in.DEBUG){const t=e.map(Ec);mo.debug(`Firestore (${gl}): ${i}`,...t)}}function Wi(i,...e){if(mo.logLevel<=ge.in.ERROR){const t=e.map(Ec);mo.error(`Firestore (${gl}): ${i}`,...t)}}function ts(i,...e){if(mo.logLevel<=ge.in.WARN){const t=e.map(Ec);mo.warn(`Firestore (${gl}): ${i}`,...t)}}function Ec(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function pn(i="Unexpected state"){const e=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: `+i;throw Wi(e),new Error(e)}function yt(i,e){i||pn()}function Dn(i,e){return i}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends me.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ta{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ns{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ys.UNAUTHENTICATED))}shutdown(){}}class Sa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qa{constructor(e){this.t=e,this.currentUser=ys.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const u=Y=>this.i!==l?(l=this.i,t(Y)):Promise.resolve();let m=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new zr,e.enqueueRetryable(()=>u(this.currentUser))};const x=()=>{const Y=m;e.enqueueRetryable((0,pe.Z)(function*(){yield Y.promise,yield u(s.currentUser)}))},U=Y=>{rn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Y=>U(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?U(Y):(rn("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new zr)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(rn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(yt("string"==typeof s.accessToken),new Ta(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new ys(e)}}class ml{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=ys.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Dc{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new ml(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ys.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Us{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=u=>{null!=u.error&&rn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.T;return this.T=u.token,rn("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{rn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):rn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),this.T=t.token,new wc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ja(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Xo{static A(){const t=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Ja(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<t&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return s}}function rr(i,e){return i<e?-1:i>e?1:0}function Aa(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function Yl(i){return i+"\0"}class Yi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yi.fromMillis(Date.now())}static fromDate(e){return Yi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Yi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zn(e)}static min(){return new Zn(new Yi(0,0))}static max(){return new Zn(new Yi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Co{constructor(e,t,s){void 0===t?t=0:t>e.length&&pn(),void 0===s?s=e.length-t:s>e.length-t&&pn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Co.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Co?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const u=e.get(l),m=t.get(l);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gr extends Co{construct(e,t,s){return new Gr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new kt(Tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new Gr(t)}static emptyPath(){return new Gr([])}}const ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends Co{construct(e,t,s){return new qi(e,t,s)}static isValidIdentifier(e){return ql.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const u=()=>{if(0===s.length)throw new kt(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;l<e.length;){const x=e[l];if("\\"===x){if(l+1===e.length)throw new kt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[l+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new kt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,l+=2}else"`"===x?(m=!m,l++):"."!==x||m?(s+=x,l++):(u(),l++)}if(u(),m)throw new kt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(t)}static emptyPath(){return new qi([])}}class En{constructor(e){this.path=e}static fromPath(e){return new En(Gr.fromString(e))}static fromName(e){return new En(Gr.fromString(e).popFirst(5))}static empty(){return new En(Gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new En(new Gr(e.slice()))}}class vl{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function Qo(i){return i.fields.find(e=>2===e.kind)}function fa(i){return i.fields.filter(e=>2!==e.kind)}vl.UNKNOWN_ID=-1;class yl{constructor(e,t){this.fieldPath=e,this.kind=t}}class M{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new M(0,F.min())}}function k(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Zn.fromTimestamp(1e9===s?new Yi(t+1,0):new Yi(t,s));return new F(l,En.empty(),e)}function T(i){return new F(i.readTime,i.key,-1)}class F{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new F(Zn.min(),En.empty(),-1)}static max(){return new F(Zn.max(),En.empty(),-1)}}function ne(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=En.comparator(i.documentKey,e.documentKey),0!==t?t:rr(i.largestBatchId,e.largestBatchId))}const de="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wt(i){return wt.apply(this,arguments)}function wt(){return wt=(0,pe.Z)(function*(i){if(i.code!==Tt.FAILED_PRECONDITION||i.message!==de)throw i;rn("LocalStore","Unexpectedly lost primary lease")}),wt.apply(this,arguments)}class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new He((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof He?t:He.resolve(t)}catch(t){return He.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):He.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):He.reject(t)}static resolve(e){return new He((t,s)=>{t(e)})}static reject(e){return new He((t,s)=>{s(e)})}static waitFor(e){return new He((t,s)=>{let l=0,u=0,m=!1;e.forEach(x=>{++l,x.next(()=>{++u,m&&u===l&&t()},U=>s(U))}),m=!0,u===l&&t()})}static or(e){let t=He.resolve(!1);for(const s of e)t=t.next(l=>l?He.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,u)=>{s.push(t.call(this,l,u))}),this.waitFor(s)}static mapArray(e,t){return new He((s,l)=>{const u=e.length,m=new Array(u);let x=0;for(let U=0;U<u;U++){const Y=U;t(e[Y]).next(ae=>{m[Y]=ae,++x,x===u&&s(m)},ae=>l(ae))}})}static doWhile(e,t){return new He((s,l)=>{const u=()=>{!0===e()?t().next(()=>{u()},l):s()};u()})}}class tr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new zr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ir(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const l=No(s.target.error);this.v.reject(new Ir(e,l))}}static open(e,t,s,l){try{return new tr(t,e.transaction(l,s))}catch(u){throw new Ir(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(rn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new co(t)}}class xr{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===xr.S((0,me.z$)())&&Wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return rn("SimpleDb","Removing database:",e),Ls(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(xr.C())return!0;const e=(0,me.z$)(),t=xr.S(e),s=0<t&&t<10,l=xr.N(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,pe.Z)(function*(){return t.db||(rn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{s(m.target.result)},u.onblocked=()=>{l(new Ir(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const x=m.target.error;l("VersionError"===x.name?new kt(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new kt(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Ir(e,x))},u.onupgradeneeded=m=>{rn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.V.O(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{rn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var u=this;return(0,pe.Z)(function*(){const m="readonly"===t;let x=0;for(;;){++x;try{u.db=yield u.$(e);const U=tr.open(u.db,e,m?"readonly":"readwrite",s),Y=l(U).next(ae=>(U.P(),ae)).catch(ae=>(U.abort(ae),He.reject(ae))).toPromise();return Y.catch(()=>{}),yield U.R,Y}catch(U){const Y=U,ae="FirebaseError"!==Y.name&&x<3;if(rn("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ae),u.close(),!ae)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xs{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ls(this.L.delete())}}class Ir extends kt{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $i(i){return"IndexedDbTransactionError"===i.name}class co{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(rn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(rn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ls(s)}add(e){return rn("SimpleDb","ADD",this.store.name,e,e),Ls(this.store.add(e))}get(e){return Ls(this.store.get(e)).next(t=>(void 0===t&&(t=null),rn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return rn("SimpleDb","DELETE",this.store.name,e),Ls(this.store.delete(e))}count(){return rn("SimpleDb","COUNT",this.store.name),Ls(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),u=[];return this.W(l,(m,x)=>{u.push(x)}).next(()=>u)}{const l=this.store.getAll(s.range);return new He((u,m)=>{l.onerror=x=>{m(x.target.error)},l.onsuccess=x=>{u(x.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new He((l,u)=>{s.onerror=m=>{u(m.target.error)},s.onsuccess=m=>{l(m.target.result)}})}J(e,t){rn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const l=this.cursor(s);return this.W(l,(u,m,x)=>x.delete())}X(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.W(l,t)}Z(e){const t=this.cursor({});return new He((s,l)=>{t.onerror=u=>{const m=No(u.target.error);l(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(x=>{x?m.continue():s()}):s()}})}W(e,t){const s=[];return new He((l,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const x=m.target.result;if(!x)return void l();const U=new xs(x),Y=t(x.primaryKey,x.value,U);if(Y instanceof He){const ae=Y.catch(je=>(U.done(),He.reject(je)));s.push(ae)}U.isDone?l():null===U.K?x.continue():x.continue(U.K)}}).next(()=>He.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ls(i){return new He((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=No(s.target.error);t(l)}})}let Po=!1;function No(i){const e=xr.S((0,me.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Po||(Po=!0,setTimeout(()=>{throw s},0)),s}}return i}class Na{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;rn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{rn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){$i(s)?rn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Wt(s)}yield t.et(6e4)}))}}class ko{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let l=t,u=!0;return He.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return rn("IndexBackiller",`Processing collection: ${m}`),this.it(e,m,l).next(x=>{l-=x,s.add(m)});u=!1})).next(()=>t-l)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.rt(l,u)).next(x=>(rn("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>m.size)}))}rt(e,t){let s=e;return t.changes.forEach((l,u)=>{const m=T(u);ne(m,s)>0&&(s=m)}),new F(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let js=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>s.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Rs(i){return null==i}function pa(i){return 0===i&&1/i==-1/0}function iu(i){return"number"==typeof i&&Number.isInteger(i)&&!pa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Qs(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=su(e)),e=_l(i.get(t),e);return su(e)}function _l(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function su(i){return i+"\x01\x01"}function Hs(i){const e=i.length;if(yt(e>=2),2===e)return yt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Gr.emptyPath();const t=e-2,s=[];let l="";for(let u=0;u<e;){const m=i.indexOf("\x01",u);switch((m<0||m>t)&&pn(),i.charAt(m+1)){case"\x01":const x=i.substring(u,m);let U;0===l.length?U=x:(l+=x,U=l,l=""),s.push(U);break;case"\x10":l+=i.substring(u,m),l+="\0";break;case"\x11":l+=i.substring(u,m+1);break;default:pn()}u=m+2}return new Gr(s)}const bc=["userId","batchId"];function Cc(i,e){return[i,Qs(e)]}function Gd(i,e,t){return[i,Qs(e),t]}const Zl={},Tc=["prefixPath","collectionGroup","readTime","documentId"],ou=["prefixPath","collectionGroup","documentId"],el=["collectionGroup","readTime","prefixPath","documentId"],Xl=["canonicalId","targetId"],tl=["targetId","path"],Bp=["path","targetId"],Sc=["collectionId","parent"],au=["indexId","uid"],Gu=["uid","sequenceNumber"],Jo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hf=["indexId","uid","orderedDocumentKey"],Il=["userId","collectionPath","documentId"],lu=["userId","collectionPath","largestBatchId"],Ac=["userId","collectionGroup","largestBatchId"],El=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cu=[...El,"documentOverlays"],Mc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uu=Mc,Wu=[...uu,"indexConfiguration","indexState","indexEntries"];class Dl extends dt{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function zs(i,e){const t=Dn(i);return xr.M(t.ht,e)}function Wd(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Fo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ka(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Oi{constructor(e,t){this.comparator=e,this.root=t||Bs.EMPTY}insert(e,t){return new Oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bs{constructor(e,t,s,l,u){this.key=e,this.value=t,this.color=null!=s?s:Bs.RED,this.left=null!=l?l:Bs.EMPTY,this.right=null!=u?u:Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,u){return new Bs(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===u?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Bs.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pn();const e=this.left.check();if(e!==this.right.check())throw pn();return e+(this.isRed()?0:1)}}Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1,Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw pn()}get value(){throw pn()}get color(){throw pn()}get left(){throw pn()}get right(){throw pn()}copy(i,e,t,s,l){return this}insert(i,e,t){return new Bs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gi{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wl(this.data.getIterator())}getIteratorFrom(e){return new wl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=s.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gi(this.comparator);return t.data=e,t}}class wl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _s(i){return i.hasNext()?i.getNext():void 0}class io{constructor(e){this.fields=e,e.sort(qi.comparator)}static empty(){return new io([])}unionWith(e){let t=new gi(qi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class bl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new bl("Invalid base64 string: "+l):l}}(e);return new Os(t)}static fromUint8Array(e){const t=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(e);return new Os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Os.EMPTY_BYTE_STRING=new Os("");const Yu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(i){if(yt(!!i),"string"==typeof i){let e=0;const t=Yu.exec(i);if(yt(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ki(i.seconds),nanos:Ki(i.nanos)}}function Ki(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function To(i){return"string"==typeof i?Os.fromBase64String(i):Os.fromUint8Array(i)}function Ma(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wo(i){const e=i.mapValue.fields.__previous_value__;return Ma(e)?Wo(e):e}function La(i){const e=ea(i.mapValue.fields.__local_write_time__.timestampValue);return new Yi(e.seconds,e.nanos)}class Tl{constructor(e,t,s,l,u,m,x,U,Y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=x,this.longPollingOptions=U,this.useFetchStreams=Y}}class Ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}const So={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sl={nullValue:"NULL_VALUE"};function Lo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ma(i)?4:gn(i)?9007199254740991:10:pn()}function xa(i,e){if(i===e)return!0;const t=Lo(i);if(t!==Lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return La(i).isEqual(La(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=ea(s.timestampValue),m=ea(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,To(i.bytesValue).isEqual(To(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return Ki(s.geoPointValue.latitude)===Ki(l.geoPointValue.latitude)&&Ki(s.geoPointValue.longitude)===Ki(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ki(s.integerValue)===Ki(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Ki(s.doubleValue),m=Ki(l.doubleValue);return u===m?pa(u)===pa(m):isNaN(u)&&isNaN(m)}return!1}(i,e);case 9:return Aa(i.arrayValue.values||[],e.arrayValue.values||[],xa);case 10:return function(s,l){const u=s.mapValue.fields||{},m=l.mapValue.fields||{};if(Wd(u)!==Wd(m))return!1;for(const x in u)if(u.hasOwnProperty(x)&&(void 0===m[x]||!xa(u[x],m[x])))return!1;return!0}(i,e);default:return pn()}var l}function du(i,e){return void 0!==(i.values||[]).find(t=>xa(t,e))}function $a(i,e){if(i===e)return 0;const t=Lo(i),s=Lo(e);if(t!==s)return rr(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return rr(i.booleanValue,e.booleanValue);case 2:return function(l,u){const m=Ki(l.integerValue||l.doubleValue),x=Ki(u.integerValue||u.doubleValue);return m<x?-1:m>x?1:m===x?0:isNaN(m)?isNaN(x)?0:-1:1}(i,e);case 3:return Yd(i.timestampValue,e.timestampValue);case 4:return Yd(La(i),La(e));case 5:return rr(i.stringValue,e.stringValue);case 6:return function(l,u){const m=To(l),x=To(u);return m.compareTo(x)}(i.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),x=u.split("/");for(let U=0;U<m.length&&U<x.length;U++){const Y=rr(m[U],x[U]);if(0!==Y)return Y}return rr(m.length,x.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,u){const m=rr(Ki(l.latitude),Ki(u.latitude));return 0!==m?m:rr(Ki(l.longitude),Ki(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,u){const m=l.values||[],x=u.values||[];for(let U=0;U<m.length&&U<x.length;++U){const Y=$a(m[U],x[U]);if(Y)return Y}return rr(m.length,x.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===So.mapValue&&u===So.mapValue)return 0;if(l===So.mapValue)return 1;if(u===So.mapValue)return-1;const m=l.fields||{},x=Object.keys(m),U=u.fields||{},Y=Object.keys(U);x.sort(),Y.sort();for(let ae=0;ae<x.length&&ae<Y.length;++ae){const je=rr(x[ae],Y[ae]);if(0!==je)return je;const Dt=$a(m[x[ae]],U[Y[ae]]);if(0!==Dt)return Dt}return rr(x.length,Y.length)}(i.mapValue,e.mapValue);default:throw pn()}}function Yd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rr(i,e);const t=ea(i),s=ea(e),l=rr(t.seconds,s.seconds);return 0!==l?l:rr(t.nanos,s.nanos)}function ta(i){return qu(i)}function qu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=ea(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?To(i.bytesValue).toBase64():"referenceValue"in i?En.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",u=!0;for(const m of s.values||[])u?u=!1:l+=",",l+=qu(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let u="{",m=!0;for(const x of l)m?m=!1:u+=",",u+=`${x}:${qu(s.fields[x])}`;return u+"}"}(i.mapValue):pn();var e}function N(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function q(i){return!!i&&"integerValue"in i}function be(i){return!!i&&"arrayValue"in i}function Je(i){return!!i&&"nullValue"in i}function ot(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xt(i){return!!i&&"mapValue"in i}function _n(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fo(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=_n(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_n(i.arrayValue.values[t]);return e}return Object.assign({},i)}function gn(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function jn(i){return"nullValue"in i?Sl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?N(Ba.empty(),En.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:pn()}function Dr(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?N(Ba.empty(),En.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?So:pn()}function wr(i,e){const t=$a(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Bo(i,e){const t=$a(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_n(t)}setAll(e){let t=qi.emptyPath(),s={},l=[];e.forEach((m,x)=>{if(!t.isImmediateParentOf(x)){const U=this.getFieldsMap(t);this.applyChanges(U,s,l),s={},l=[],t=x.popLast()}m?s[x.lastSegment()]=_n(m):l.push(x.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,l)}delete(e){const t=this.field(e.popLast());xt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];xt(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){Fo(t,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new oi(_n(this.value))}}function Gs(i){const e=[];return Fo(i.fields,(t,s)=>{const l=new qi([t]);if(xt(s)){const u=Gs(s.mapValue).fields;if(0===u.length)e.push(l);else for(const m of u)e.push(l.child(m))}else e.push(l)}),new io(e)}class Pi{constructor(e,t,s,l,u,m,x){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=u,this.data=m,this.documentState=x}static newInvalidDocument(e){return new Pi(e,0,Zn.min(),Zn.min(),Zn.min(),oi.empty(),0)}static newFoundDocument(e,t,s,l){return new Pi(e,1,t,Zn.min(),s,l,0)}static newNoDocument(e,t){return new Pi(e,2,t,Zn.min(),Zn.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new Pi(e,3,t,Zn.min(),Zn.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ws{constructor(e,t){this.position=e,this.inclusive=t}}function na(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const u=e[l],m=i.position[l];if(s=u.field.isKeyField()?En.comparator(En.fromName(m.referenceValue),t.key):$a(m,t.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return s}function ra(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!xa(i.position[t],e.position[t]))return!1;return!0}class nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function qd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ff{}class di extends ff{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new mf(e,t,s):"array-contains"===t?new ec(e,s):"in"===t?new yf(e,s):"not-in"===t?new Rc(e,s):"array-contains-any"===t?new tc(e,s):new di(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ku(e,s):new Zu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($a(t,this.value)):null!==t&&Lo(this.value)===Lo(t)&&this.matchesComparison($a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ni extends ff{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ni(e,t)}matches(e){return Ql(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ql(i){return"and"===i.op}function Al(i){return"or"===i.op}function Jl(i){return Kd(i)&&Ql(i)}function Kd(i){for(const e of i.filters)if(e instanceof Ni)return!1;return!0}function xc(i){if(i instanceof di)return i.field.canonicalString()+i.op.toString()+ta(i.value);if(Jl(i))return i.filters.map(e=>xc(e)).join(",");{const e=i.filters.map(t=>xc(t)).join(",");return`${i.op}(${e})`}}function pf(i,e){return i instanceof di?(t=i,(s=e)instanceof di&&t.op===s.op&&t.field.isEqual(s.field)&&xa(t.value,s.value)):i instanceof Ni?function(t,s){return s instanceof Ni&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((l,u,m)=>l&&pf(u,s.filters[m]),!0)}(i,e):void pn();var t,s}function hu(i,e){const t=i.filters.concat(e);return Ni.create(t,i.op)}function gf(i){return i instanceof di?`${(e=i).field.canonicalString()} ${e.op} ${ta(e.value)}`:i instanceof Ni?function(e){return e.op.toString()+" {"+e.getFilters().map(gf).join(" ,")+"}"}(i):"Filter";var e}class mf extends di{constructor(e,t,s){super(e,t,s),this.key=En.fromName(s.referenceValue)}matches(e){const t=En.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ku extends di{constructor(e,t){super(e,"in",t),this.keys=vf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zu extends di{constructor(e,t){super(e,"not-in",t),this.keys=vf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vf(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>En.fromName(s.referenceValue))}class ec extends di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return be(t)&&du(t.arrayValue,this.value)}}class yf extends di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&du(this.value.arrayValue,t)}}class Rc extends di{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!du(this.value.arrayValue,t)}}class tc extends di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!be(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>du(this.value.arrayValue,s))}}class $p{constructor(e,t=null,s=[],l=[],u=null,m=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=m,this.endAt=x,this.dt=null}}function Xu(i,e=null,t=[],s=[],l=null,u=null,m=null){return new $p(i,e,t,s,l,u,m)}function Ml(i){const e=Dn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>xc(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Rs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ta(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ta(s)).join(",")),e.dt=t}return e.dt}function fu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!qd(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!pf(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ra(i.startAt,e.startAt)&&ra(i.endAt,e.endAt)}function pu(i){return En.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Qu(i,e){return i.filters.filter(t=>t instanceof di&&t.field.isEqual(e))}function _f(i,e,t){let s=Sl,l=!0;for(const u of Qu(i,e)){let m=Sl,x=!0;switch(u.op){case"<":case"<=":m=jn(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,x=!1;break;case"!=":case"not-in":m=Sl}wr({value:s,inclusive:l},{value:m,inclusive:x})<0&&(s=m,l=x)}if(null!==t)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=t.position[u];wr({value:s,inclusive:l},{value:m,inclusive:t.inclusive})<0&&(s=m,l=t.inclusive);break}return{value:s,inclusive:l}}function Ju(i,e,t){let s=So,l=!0;for(const u of Qu(i,e)){let m=So,x=!0;switch(u.op){case">=":case">":m=Dr(u.value),x=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,x=!1;break;case"!=":case"not-in":m=So}Bo({value:s,inclusive:l},{value:m,inclusive:x})>0&&(s=m,l=x)}if(null!==t)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=t.position[u];Bo({value:s,inclusive:l},{value:m,inclusive:t.inclusive})>0&&(s=m,l=t.inclusive);break}return{value:s,inclusive:l}}class ga{constructor(e,t=null,s=[],l=[],u=null,m="F",x=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=m,this.startAt=x,this.endAt=U,this.wt=null,this._t=null}}function Zd(i,e,t,s,l,u,m,x){return new ga(i,e,t,s,l,u,m,x)}function Oc(i){return new ga(i)}function Xd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function If(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Pc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ed(i){return null!==i.collectionGroup}function nc(i){const e=Dn(i);if(null===e.wt){e.wt=[];const t=Pc(e),s=If(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new nl(t)),e.wt.push(new nl(qi.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nl(qi.keyField(),u))}}}return e.wt}function $o(i){const e=Dn(i);if(!e._t)if("F"===e.limitType)e._t=Xu(e.path,e.collectionGroup,nc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of nc(e))t.push(new nl(u.field,"desc"===u.dir?"asc":"desc"));const s=e.endAt?new Ws(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ws(e.startAt.position,e.startAt.inclusive):null;e._t=Xu(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e._t}function rc(i,e){e.getFirstInequalityField(),Pc(i);const t=i.filters.concat([e]);return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function gu(i,e,t){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function td(i,e){return fu($o(i),$o(e))&&i.limitType===e.limitType}function nd(i){return`${Ml($o(i))}|lt:${i.limitType}`}function mu(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>gf(s)).join(", ")}]`),Rs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ta(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ta(s)).join(",")),`Target(${t})`}($o(i))}; limitType=${i.limitType})`}function rd(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):En.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of nc(t))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,u,m){const x=na(l,u,m);return l.inclusive?x<=0:x<0}(t.startAt,nc(t),s)||t.endAt&&!function(l,u,m){const x=na(l,u,m);return l.inclusive?x>=0:x>0}(t.endAt,nc(t),s)));var t,s}function Vp(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Up(i){return(e,t)=>{let s=!1;for(const l of nc(i)){const u=jp(l,e,t);if(0!==u)return u;s=s||l.field.isKeyField()}return 0}}function jp(i,e,t){const s=i.field.isKeyField()?En.comparator(e.key,t.key):function(l,u,m){const x=u.data.field(l),U=m.data.field(l);return null!==x&&null!==U?$a(x,U):pn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return pn()}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,u]of s)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(t,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return ka(this.inner)}size(){return this.innerSize}}const id=new Oi(En.comparator);function yo(){return id}const Qd=new Oi(En.comparator);function Va(...i){let e=Qd;for(const t of i)e=e.insert(t.key,t);return e}function Jd(i){let e=Qd;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ao(){return Nc()}function eh(){return Nc()}function Nc(){return new rl(i=>i.toString(),(i,e)=>i.isEqual(e))}const sd=new Oi(En.comparator),od=new gi(En.comparator);function Sr(...i){let e=od;for(const t of i)e=e.add(t);return e}const th=new gi(rr);function vu(){return th}function nh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pa(e)?"-0":e}}function rh(i){return{integerValue:""+i}}function kc(i,e){return iu(e)?rh(e):nh(i,e)}class ad{constructor(){this._=void 0}}function ia(i,e,t){return i instanceof Fc?function(s,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Ma(l)&&(l=Wo(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):i instanceof il?_o(i,e):i instanceof sl?cd(i,e):function(s,l){const u=ld(s,l),m=Is(u)+Is(s.gt);return q(u)&&q(s.gt)?rh(m):nh(s.serializer,m)}(i,e)}function yu(i,e,t){return i instanceof il?_o(i,e):i instanceof sl?cd(i,e):t}function ld(i,e){return i instanceof xl?q(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Fc extends ad{}class il extends ad{constructor(e){super(),this.elements=e}}function _o(i,e){const t=ic(e);for(const s of i.elements)t.some(l=>xa(l,s))||t.push(s);return{arrayValue:{values:t}}}class sl extends ad{constructor(e){super(),this.elements=e}}function cd(i,e){let t=ic(e);for(const s of i.elements)t=t.filter(l=>!xa(l,s));return{arrayValue:{values:t}}}class xl extends ad{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Is(i){return Ki(i.integerValue||i.doubleValue)}function ic(i){return be(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Lc{constructor(e,t){this.field=e,this.transform=t}}class Hp{constructor(e,t){this.version=e,this.transformResults=t}}class os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Io(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class sc{}function ud(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new oc(i.key,os.none()):new ol(i.key,i.data,os.none());{const t=i.data,s=oi.empty();let l=new gi(qi.comparator);for(let u of e.fields)if(!l.has(u)){let m=t.field(u);null===m&&u.length>1&&(u=u.popLast(),m=t.field(u)),null===m?s.delete(u):s.set(u,m),l=l.add(u)}return new al(i.key,s,new io(l.toArray()),os.none())}}function Df(i,e,t){i instanceof ol?function(s,l,u){const m=s.value.clone(),x=wf(s.fieldTransforms,l,u.transformResults);m.setAll(x),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(i,e,t):i instanceof al?function(s,l,u){if(!Io(s.precondition,l))return void l.convertToUnknownDocument(u.version);const m=wf(s.fieldTransforms,l,u.transformResults),x=l.data;x.setAll(Rl(s)),x.setAll(m),l.convertToFoundDocument(u.version,x).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sa(i,e,t,s){return i instanceof ol?function(l,u,m,x){if(!Io(l.precondition,u))return m;const U=l.value.clone(),Y=bf(l.fieldTransforms,x,u);return U.setAll(Y),u.convertToFoundDocument(u.version,U).setHasLocalMutations(),null}(i,e,t,s):i instanceof al?function(l,u,m,x){if(!Io(l.precondition,u))return m;const U=bf(l.fieldTransforms,x,u),Y=u.data;return Y.setAll(Rl(l)),Y.setAll(U),u.convertToFoundDocument(u.version,Y).setHasLocalMutations(),null===m?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ae=>ae.field))}(i,e,t,s):(m=t,Io(i.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function _u(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),u=ld(s.transform,l||null);null!=u&&(null===t&&(t=oi.empty()),t.set(s.field,u))}return t||null}function Iu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Aa(t,s,(l,u)=>function Ef(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof il&&s instanceof il||t instanceof sl&&s instanceof sl?Aa(t.elements,s.elements,xa):t instanceof xl&&s instanceof xl?xa(t.gt,s.gt):t instanceof Fc&&s instanceof Fc);var t,s}(l,u))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class ol extends sc{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class al extends sc{constructor(e,t,s,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Rl(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function wf(i,e,t){const s=new Map;yt(i.length===t.length);for(let l=0;l<t.length;l++){const u=i[l],m=u.transform,x=e.data.field(u.field);s.set(u.field,yu(m,x,t[l]))}return s}function bf(i,e,t){const s=new Map;for(const l of i){const u=l.transform,m=t.data.field(l.field);s.set(l.field,ia(u,m,e))}return s}class oc extends sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dd extends sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Df(u,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=sa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=sa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=eh();return this.mutations.forEach(l=>{const u=e.get(l.key),m=u.overlayedDocument;let x=this.applyToLocalView(m,u.mutatedFields);x=t.has(l.key)?null:x;const U=ud(m,x);null!==U&&s.set(l.key,U),m.isValidDocument()||m.convertToNoDocument(Zn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Sr())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,s)=>Iu(t,s))&&Aa(this.baseMutations,e.baseMutations,(t,s)=>Iu(t,s))}}class d{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){yt(e.mutations.length===s.length);let l=sd;const u=e.mutations;for(let m=0;m<u.length;m++)l=l.insert(u[m].key,s[m].version);return new d(e,t,s,l)}}class f{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class G{constructor(e,t){this.count=e,this.unchangedNames=t}}var te,$e;function vt(i){switch(i){default:return pn();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function Kt(i){if(void 0===i)return Wi("GRPC error has no .code"),Tt.UNKNOWN;switch(i){case te.OK:return Tt.OK;case te.CANCELLED:return Tt.CANCELLED;case te.UNKNOWN:return Tt.UNKNOWN;case te.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case te.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case te.INTERNAL:return Tt.INTERNAL;case te.UNAVAILABLE:return Tt.UNAVAILABLE;case te.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case te.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case te.NOT_FOUND:return Tt.NOT_FOUND;case te.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case te.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case te.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case te.ABORTED:return Tt.ABORTED;case te.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case te.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case te.DATA_LOSS:return Tt.DATA_LOSS;default:return pn()}}($e=te||(te={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";class mn{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ln}static getOrCreateInstance(){return null===Ln&&(Ln=new mn),Ln}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ln=null;function Vn(){return new TextEncoder}const Es=new Ca([4294967295,4294967295],0);function Vo(i){const e=Vn().encode(i),t=new ur;return t.update(e),new Uint8Array(t.digest())}function ac(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ca([t,s],0),new Ca([l,u],0)]}class Bc{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new lc(`Invalid padding: ${t}`);if(s<0)throw new lc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new lc(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new lc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ca.fromNumber(this.It)}Et(e,t,s){let l=e.add(t.multiply(Ca.fromNumber(s)));return 1===l.compare(Es)&&(l=new Ca([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Vo(e),[s,l]=ac(t);for(let u=0;u<this.hashCount;u++){const m=this.Et(s,l,u);if(!this.At(m))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new Bc(u,l,t);return s.forEach(x=>m.insert(x)),m}insert(e){if(0===this.It)return;const t=Vo(e),[s,l]=ac(t);for(let u=0;u<this.hashCount;u++){const m=this.Et(s,l,u);this.Rt(m)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $c{constructor(e,t,s,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new $c(Zn.min(),l,new Oi(rr),yo(),Sr())}}class Ol{constructor(e,t,s,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ol(s,t,Sr(),Sr(),Sr())}}class cc{constructor(e,t,s,l){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=l}}class ll{constructor(e,t){this.targetId=e,this.Vt=t}}class hd{constructor(e,t,s=Os.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class Eu{constructor(){this.St=0,this.Dt=uc(),this.Ct=Os.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Sr(),t=Sr(),s=Sr();return this.Dt.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:pn()}}),new Ol(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=uc()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yo(),this.zt=zp(),this.Wt=new Oi(rr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:pn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,l)=>{this.te(l)&&t(l)})}ne(e){var t;const s=e.targetId,l=e.Vt.count,u=this.se(s);if(u){const m=u.target;if(pu(m))if(0===l){const x=new En(m.path);this.Yt(s,x,Pi.newNoDocument(x,Zn.min()))}else yt(1===l);else{const x=this.ie(s);if(x!==l){const U=this.re(e,x);0!==U&&(this.ee(s),this.Wt=this.Wt.insert(s,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mn.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(Y,ae,je){var Dt,Ft,fn,Nn,Mn,Ur;const bi={localCacheCount:ae,existenceFilterCount:je.count},jr=je.unchangedNames;return jr&&(bi.bloomFilter={applied:0===Y,hashCount:null!==(Dt=null==jr?void 0:jr.hashCount)&&void 0!==Dt?Dt:0,bitmapLength:null!==(Nn=null===(fn=null===(Ft=null==jr?void 0:jr.bits)||void 0===Ft?void 0:Ft.bitmap)||void 0===fn?void 0:fn.length)&&void 0!==Nn?Nn:0,padding:null!==(Ur=null===(Mn=null==jr?void 0:jr.bits)||void 0===Mn?void 0:Mn.padding)&&void 0!==Ur?Ur:0}),bi}(U,x,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:l}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:u="",padding:m=0},hashCount:x=0}=s;let U,Y;try{U=To(u).toUint8Array()}catch(ae){if(ae instanceof bl)return ts("Decoding the base64 bloom filter in existence filter failed ("+ae.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ae}try{Y=new Bc(U,m,x)}catch(ae){return ts(ae instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",ae),1}return 0===Y.It?1:l!==t-this.oe(e.targetId,Y)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let l=0;return s.forEach(u=>{const m=this.Gt.ue(),x=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;t.vt(x)||(this.Yt(e,u,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((u,m)=>{const x=this.se(m);if(x){if(u.current&&pu(x.target)){const U=new En(x.target.path);null!==this.jt.get(U)||this.ae(m,U)||this.Yt(m,U,Pi.newNoDocument(U,e))}u.Mt&&(t.set(m,u.Ot()),u.Ft())}});let s=Sr();this.zt.forEach((u,m)=>{let x=!0;m.forEachWhile(U=>{const Y=this.se(U);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(x=!1,!1)}),x&&(s=s.add(u))}),this.jt.forEach((u,m)=>m.setReadTime(e));const l=new $c(e,t,this.Wt,this.jt,s);return this.jt=yo(),this.zt=zp(),this.Wt=new Oi(rr),l}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Eu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new gi(rr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||rn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Eu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function zp(){return new Oi(En.comparator)}function uc(){return new Oi(En.comparator)}const Gp={asc:"ASCENDING",desc:"DESCENDING"},ov={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},av={and:"AND",or:"OR"};class lv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ih(i,e){return i.useProto3Json||Rs(e)?e:{value:e}}function Du(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sh(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oh(i,e){return Du(i,e.toTimestamp())}function Js(i){return yt(!!i),Zn.fromTimestamp(function(e){const t=ea(e);return new Yi(t.seconds,t.nanos)}(i))}function ah(i,e){return(t=i,new Gr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lh(i){const e=Gr.fromString(i);return yt(qp(e)),e}function fd(i,e){return ah(i.databaseId,e.path)}function Ua(i,e){const t=lh(e);if(t.get(1)!==i.databaseId.projectId)throw new kt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new kt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new En(uv(t))}function wu(i,e){return ah(i.databaseId,e)}function cv(i){const e=lh(i);return 4===e.length?Gr.emptyPath():uv(e)}function pd(i){return new Gr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uv(i){return yt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function dv(i,e,t){return{name:fd(i,e),fields:t.value.mapValue.fields}}function hv(i,e,t){const s=Ua(i,e.name),l=Js(e.updateTime),u=e.createTime?Js(e.createTime):Zn.min(),m=new oi({mapValue:{fields:e.fields}}),x=Pi.newFoundDocument(s,l,u,m);return t&&x.setHasCommittedMutations(),t?x.setHasCommittedMutations():x}function Vc(i,e){let t;if(e instanceof ol)t={update:dv(i,e.key,e.value)};else if(e instanceof oc)t={delete:fd(i,e.key)};else if(e instanceof al)t={update:dv(i,e.key,e.data),updateMask:mv(e.fieldMask)};else{if(!(e instanceof dd))return pn();t={verify:fd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const m=u.transform;if(m instanceof Fc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof sl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xl)return{fieldPath:u.field.canonicalString(),increment:m.gt};throw pn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:oh(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:pn()),t;var l}function ch(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?os.updateTime(Js(l.updateTime)):void 0!==l.exists?os.exists(l.exists):os.none():os.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(u,m){let x=null;"setToServerValue"in m?(yt("REQUEST_TIME"===m.setToServerValue),x=new Fc):"appendMissingElements"in m?x=new il(m.appendMissingElements.values||[]):"removeAllFromArray"in m?x=new sl(m.removeAllFromArray.values||[]):"increment"in m?x=new xl(u,m.increment):pn();const U=qi.fromServerFormat(m.fieldPath);return new Lc(U,x)}(i,l)):[];var l;if(e.update){const l=Ua(i,e.update.name),u=new oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new io((e.updateMask.fieldPaths||[]).map(Y=>qi.fromServerFormat(Y)));return new al(l,u,m,t,s)}return new ol(l,u,t,s)}if(e.delete){const l=Ua(i,e.delete);return new oc(l,t)}if(e.verify){const l=Ua(i,e.verify);return new dd(l,t)}return pn()}function gv(i,e){return{documents:[wu(i,e.path)]}}function Wp(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=wu(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wu(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(U){if(0!==U.length)return Yp(Ni.create(U,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(U){if(0!==U.length)return U.map(Y=>{return{field:Pl((ae=Y).field),direction:b_(ae.dir)};var ae})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=ih(i,e.limit);var x,U;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function D_(i){let e=cv(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){yt(1===s);const ae=t.from[0];ae.allDescendants?l=ae.collectionId:e=e.child(ae.collectionId)}let u=[];t.where&&(u=function(ae){const je=Tf(ae);return je instanceof Ni&&Jl(je)?je.getFilters():[je]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(ae=>{return new nl(bu((je=ae).field),function(Dt){switch(Dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(je.direction));var je}));let x=null;t.limit&&(x=function(ae){let je;return je="object"==typeof ae?ae.value:ae,Rs(je)?null:je}(t.limit));let U=null;var ae;t.startAt&&(U=new Ws((ae=t.startAt).values||[],!!ae.before));let Y=null;return t.endAt&&(Y=function(ae){return new Ws(ae.values||[],!ae.before)}(t.endAt)),Zd(e,l,m,u,x,"F",U,Y)}function Tf(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=bu(e.unaryFilter.field);return di.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=bu(e.unaryFilter.field);return di.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bu(e.unaryFilter.field);return di.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bu(e.unaryFilter.field);return di.create(u,"!=",{nullValue:"NULL_VALUE"});default:return pn()}}(i):void 0!==i.fieldFilter?di.create(bu((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Ni.create(e.compositeFilter.filters.map(t=>Tf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pn()}}(e.compositeFilter.op))}(i):pn();var e}function b_(i){return Gp[i]}function md(i){return ov[i]}function Sf(i){return av[i]}function Pl(i){return{fieldPath:i.canonicalString()}}function bu(i){return qi.fromServerFormat(i.fieldPath)}function Yp(i){return i instanceof di?function(e){if("=="===e.op){if(ot(e.value))return{unaryFilter:{field:Pl(e.field),op:"IS_NAN"}};if(Je(e.value))return{unaryFilter:{field:Pl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ot(e.value))return{unaryFilter:{field:Pl(e.field),op:"IS_NOT_NAN"}};if(Je(e.value))return{unaryFilter:{field:Pl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(e.field),op:md(e.op),value:e.value}}}(i):i instanceof Ni?function(e){const t=e.getFilters().map(s=>Yp(s));return 1===t.length?t[0]:{compositeFilter:{op:Sf(e.op),filters:t}}}(i):pn()}function mv(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class dc{constructor(e,t,s,l,u=Zn.min(),m=Zn.min(),x=Os.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=x,this.expectedCount=U}withSequenceNumber(e){return new dc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vv{constructor(e){this.fe=e}}function yv(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Af(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:fd(l=i.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Du(l,u.version.toTimestamp()),createTime:Du(l,u.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ma(e.version)};else{if(!e.isUnknownDocument())return pn();s.unknownDocument={path:t.path.toArray(),version:ma(e.version)}}var l,u;return s}function Af(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ma(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cl(i){const e=new Yi(i.seconds,i.nanoseconds);return Zn.fromTimestamp(e)}function Cu(i,e){const t=(e.baseMutations||[]).map(u=>ch(i.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const s=e.mutations.map(u=>ch(i.fe,u)),l=Yi.fromMillis(e.localWriteTimeMs);return new I(e.batchId,l,t,s)}function Mf(i){const e=cl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?cl(i.lastLimboFreeSnapshotVersion):Zn.min();let s;var l;return void 0!==i.query.documents?(yt(1===(l=i.query).documents.length),s=$o(Oc(cv(l.documents[0])))):s=$o(D_(i.query)),new dc(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Os.fromBase64String(i.resumeToken))}function T_(i,e){const t=ma(e.snapshotVersion),s=ma(e.lastLimboFreeSnapshotVersion);let l;l=pu(e.target)?gv(i.fe,e.target):Wp(i.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ml(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function _v(i){const e=D_({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?gu(e,e.limit,"L"):e}function Iv(i,e){return new f(e.largestBatchId,ch(i.fe,e.overlayMutation))}function S_(i,e){const t=e.path.lastSegment();return[i,Qs(e.path.popLast()),t]}function Kp(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ma(s.readTime),documentKey:Qs(s.documentKey.path),largestBatchId:s.largestBatchId}}class A_{getBundleMetadata(e,t){return Ev(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:cl(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Ev(e).put({bundleId:(s=t).id,createTime:ma(Js(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Dv(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:_v(l.bundledQuery),readTime:cl(l.readTime)};var l})}saveNamedQuery(e,t){return Dv(e).put({name:(s=t).name,readTime:ma(Js(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Ev(i){return zs(i,"bundles")}function Dv(i){return zs(i,"namedQueries")}class xf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new xf(e,t.uid||"")}getOverlay(e,t){return Tu(e).get(S_(this.userId,t)).next(s=>s?Iv(this.serializer,s):null)}getOverlays(e,t){const s=Ao();return He.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((u,m)=>{const x=new f(t,m);l.push(this.we(e,x))}),He.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(m=>l.add(Qs(m.getCollectionPath())));const u=[];return l.forEach(m=>{const x=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);u.push(Tu(e).J("collectionPathOverlayIndex",x))}),He.waitFor(u)}getOverlaysForCollection(e,t,s){const l=Ao(),u=Qs(t),m=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Tu(e).j("collectionPathOverlayIndex",m).next(x=>{for(const U of x){const Y=Iv(this.serializer,U);l.set(Y.getKey(),Y)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const u=Ao();let m;const x=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tu(e).X({index:"collectionGroupOverlayIndex",range:x},(U,Y,ae)=>{const je=Iv(this.serializer,Y);u.size()<l||je.largestBatchId===m?(u.set(je.getKey(),je),m=je.largestBatchId):ae.done()}).next(()=>u)}we(e,t){return Tu(e).put(function(s,l,u){const[m,x,U]=S_(l,u.mutation.key);return{userId:l,collectionPath:x,documentId:U,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Vc(s.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Tu(i){return zs(i,"documentOverlays")}class oa{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ki(e.integerValue));else if("doubleValue"in e){const s=Ki(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),pa(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(To(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?gn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const l of Object.keys(s))this.Te(l,t),this.me(s[l],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const l of s)this.me(l,t)}ve(e,t){this.ye(t,37),En.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function uh(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Zp(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const u=uh(255&t[l]);if(s+=u,8!==u)break}return s}(i);return Math.ceil(e/8)}oa.Ve=new oa;class wv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const l=t.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const l=t.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const t=this.Fe(e),s=Zp(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Le(e){const t=this.Fe(e),s=Zp(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class bv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class RI{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Rf{constructor(){this.je=new wv,this.ze=new bv(this.je),this.We=new RI(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class vd{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new vd(this.indexId,this.documentKey,this.arrayValue,s)}}function Nl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Of(i.arrayValue,e.arrayValue),0!==t?t:(t=Of(i.directionalValue,e.directionalValue),0!==t?t:En.comparator(i.documentKey,e.documentKey)))}function Of(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class OI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){yt(e.collectionGroup===this.collectionId);const t=Qo(e);if(void 0!==t&&!this.en(t))return!1;const s=fa(e);let l=new Set,u=0,m=0;for(;u<s.length&&this.en(s[u]);++u)l=l.add(s[u].fieldPath.canonicalString());if(u===s.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const x=s[u];if(!this.nn(this.Ze,x)||!this.sn(this.Ye[m++],x))return!1}++u}for(;u<s.length;++u)if(m>=this.Ye.length||!this.sn(this.Ye[m++],s[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function M_(i){var e,t;if(yt(i instanceof di||i instanceof Ni),i instanceof di){if(i instanceof yf){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>di.create(i.field,"==",u)))||[];return Ni.create(l,"or")}return i}const s=i.filters.map(l=>M_(l));return Ni.create(s,i.op)}function Cv(i){if(0===i.getFilters().length)return[];const e=Jp(M_(i));return yt(Tv(e)),Xp(e)||Qp(e)?[e]:e.getFilters()}function Xp(i){return i instanceof di}function Qp(i){return i instanceof Ni&&Jl(i)}function Tv(i){return Xp(i)||Qp(i)||function(e){if(e instanceof Ni&&Al(e)){for(const t of e.getFilters())if(!Xp(t)&&!Qp(t))return!1;return!0}return!1}(i)}function Jp(i){if(yt(i instanceof di||i instanceof Ni),i instanceof di)return i;if(1===i.filters.length)return Jp(i.filters[0]);const e=i.filters.map(s=>Jp(s));let t=Ni.create(e,i.op);return t=Nf(t),Tv(t)?t:(yt(t instanceof Ni),yt(Ql(t)),yt(t.filters.length>1),t.filters.reduce((s,l)=>Pf(s,l)))}function Pf(i,e){let t;return yt(i instanceof di||i instanceof Ni),yt(e instanceof di||e instanceof Ni),t=i instanceof di?e instanceof di?Ni.create([i,e],"and"):dh(i,e):e instanceof di?dh(e,i):function(s,l){if(yt(s.filters.length>0&&l.filters.length>0),Ql(s)&&Ql(l))return hu(s,l.getFilters());const u=Al(s)?s:l,m=Al(s)?l:s,x=u.filters.map(U=>Pf(U,m));return Ni.create(x,"or")}(i,e),Nf(t)}function dh(i,e){if(Ql(e))return hu(e,i.getFilters());{const t=e.filters.map(s=>Pf(i,s));return Ni.create(t,"or")}}function Nf(i){if(yt(i instanceof di||i instanceof Ni),i instanceof di)return i;const e=i.getFilters();if(1===e.length)return Nf(e[0]);if(Kd(i))return i;const t=e.map(l=>Nf(l)),s=[];return t.forEach(l=>{l instanceof di?s.push(l):l instanceof Ni&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Ni.create(s,i.op)}class eg{constructor(){this.rn=new tg}addToCollectionParentIndex(e,t){return this.rn.add(t),He.resolve()}getCollectionParents(e,t){return He.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return He.resolve()}deleteFieldIndex(e,t){return He.resolve()}getDocumentsMatchingTarget(e,t){return He.resolve(null)}getIndexType(e,t){return He.resolve(0)}getFieldIndexes(e,t){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,t){return He.resolve(F.min())}getMinOffsetFromCollectionGroup(e,t){return He.resolve(F.min())}updateCollectionGroup(e,t,s){return He.resolve()}updateIndexEntries(e,t){return He.resolve()}}class tg{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new gi(Gr.comparator),u=!l.has(s);return this.index[t]=l.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new gi(Gr.comparator)).toArray()}}const hc=new Uint8Array(0);class x_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new tg,this.un=new rl(s=>Ml(s),(s,l)=>fu(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:s,parent:Qs(l)};return Sv(e).put(u)}return He.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[Yl(t),""],!1,!0);return Sv(e).j(l).next(u=>{for(const m of u){if(m.collectionId!==t)break;s.push(Hs(m.parent))}return s})}addFieldIndex(e,t){const s=hh(e),l={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var m;delete l.indexId;const u=s.add(l);if(t.indexState){const m=fh(e);return u.next(x=>{m.put(Kp(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const s=hh(e),l=fh(e),u=Su(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Su(e);let l=!0;const u=new Map;return He.forEach(this.cn(t),m=>this.an(e,m).next(x=>{l&&(l=!!x),u.set(m,x)})).next(()=>{if(l){let m=Sr();const x=[];return He.forEach(u,(U,Y)=>{var ae;rn("IndexedDbIndexManager",`Using index ${ae=U,`id=${ae.indexId}|cg=${ae.collectionGroup}|f=${ae.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${Ml(t)}`);const je=function(jr,as){const bs=Qo(as);if(void 0===bs)return null;for(const Xi of Qu(jr,bs.fieldPath))switch(Xi.op){case"array-contains-any":return Xi.value.arrayValue.values||[];case"array-contains":return[Xi.value]}return null}(Y,U),Dt=function(jr,as){const bs=new Map;for(const Xi of fa(as))for(const Do of Qu(jr,Xi.fieldPath))switch(Do.op){case"==":case"in":bs.set(Xi.fieldPath.canonicalString(),Do.value);break;case"not-in":case"!=":return bs.set(Xi.fieldPath.canonicalString(),Do.value),Array.from(bs.values())}return null}(Y,U),Ft=function(jr,as){const bs=[];let Xi=!0;for(const Do of fa(as)){const uo=0===Do.kind?_f(jr,Do.fieldPath,jr.startAt):Ju(jr,Do.fieldPath,jr.startAt);bs.push(uo.value),Xi&&(Xi=uo.inclusive)}return new Ws(bs,Xi)}(Y,U),fn=function(jr,as){const bs=[];let Xi=!0;for(const Do of fa(as)){const uo=0===Do.kind?Ju(jr,Do.fieldPath,jr.endAt):_f(jr,Do.fieldPath,jr.endAt);bs.push(uo.value),Xi&&(Xi=uo.inclusive)}return new Ws(bs,Xi)}(Y,U),Nn=this.hn(U,Y,Ft),Mn=this.hn(U,Y,fn),Ur=this.ln(U,Y,Dt),bi=this.fn(U.indexId,je,Nn,Ft.inclusive,Mn,fn.inclusive,Ur);return He.forEach(bi,jr=>s.H(jr,t.limit).next(as=>{as.forEach(bs=>{const Xi=En.fromSegments(bs.documentKey);m.has(Xi)||(m=m.add(Xi),x.push(Xi))})}))}).next(()=>x)}return He.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Cv(Ni.create(e.filters,"and")).map(s=>Xu(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,l,u,m,x){const U=(null!=t?t.length:1)*Math.max(s.length,u.length),Y=U/(null!=t?t.length:1),ae=[];for(let je=0;je<U;++je){const Dt=t?this.dn(t[je/Y]):hc,Ft=this.wn(e,Dt,s[je%Y],l),fn=this._n(e,Dt,u[je%Y],m),Nn=x.map(Mn=>this.wn(e,Dt,Mn,!0));ae.push(...this.createRange(Ft,fn,Nn))}return ae}wn(e,t,s,l){const u=new vd(e,En.empty(),t,s);return l?u:u.Je()}_n(e,t,s,l){const u=new vd(e,En.empty(),t,s);return l?u.Je():u}an(e,t){const s=new OI(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let m=null;for(const x of u)s.tn(x)&&(!m||x.fields.length>m.fields.length)&&(m=x);return m})}getIndexType(e,t){let s=2;const l=this.cn(t);return He.forEach(l,u=>this.an(e,u).next(m=>{m?0!==s&&m.fields.length<function(x){let U=new gi(qi.comparator),Y=!1;for(const ae of x.filters)for(const je of ae.getFlattenedFilters())je.field.isKeyField()||("array-contains"===je.op||"array-contains-any"===je.op?Y=!0:U=U.add(je.field));for(const ae of x.orderBy)ae.field.isKeyField()||(U=U.add(ae.field));return U.size+(Y?1:0)}(u)&&(s=1):s=0})).next(()=>null!==t.limit&&l.length>1&&2===s?1:s)}mn(e,t){const s=new Rf;for(const l of fa(e)){const u=t.data.field(l.fieldPath);if(null==u)return null;const m=s.He(l.kind);oa.Ve._e(u,m)}return s.Qe()}dn(e){const t=new Rf;return oa.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Rf;return oa.Ve._e(N(this.databaseId,t),s.He(function(l){const u=fa(l);return 0===u.length?0:u[u.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let l=[];l.push(new Rf);let u=0;for(const m of fa(e)){const x=s[u++];for(const U of l)if(this.yn(t,m.fieldPath)&&be(x))l=this.pn(l,m,x);else{const Y=U.He(m.kind);oa.Ve._e(x,Y)}}return this.In(l)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const l=[...e],u=[];for(const m of s.arrayValue.values||[])for(const x of l){const U=new Rf;U.seed(x.Qe()),oa.Ve._e(m,U.He(t.kind)),u.push(U)}return u}yn(e,t){return!!e.filters.find(s=>s instanceof di&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=hh(e),l=fh(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(u=>{const m=[];return He.forEach(u,x=>l.get([x.indexId,this.uid]).next(U=>{m.push(function(Y,ae){const je=ae?new M(ae.sequenceNumber,new F(cl(ae.readTime),new En(Hs(ae.documentKey)),ae.largestBatchId)):M.empty(),Dt=Y.fields.map(([Ft,fn])=>new yl(qi.fromServerFormat(Ft),fn));return new vl(Y.indexId,Y.collectionGroup,Dt,je)}(x,U))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const u=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:rr(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=hh(e),u=fh(e);return this.Tn(e).next(m=>l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>He.forEach(x,U=>u.put(Kp(U.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return He.forEach(t,(l,u)=>{const m=s.get(l.collectionGroup);return(m?He.resolve(m):this.getFieldIndexes(e,l.collectionGroup)).next(x=>(s.set(l.collectionGroup,x),He.forEach(x,U=>this.En(e,l,U).next(Y=>{const ae=this.An(u,U);return Y.isEqual(ae)?He.resolve():this.vn(e,u,U,Y,ae)}))))})}Rn(e,t,s,l){return Su(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,l){return Su(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const l=Su(e);let u=new gi(Nl);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(m,x)=>{u=u.add(new vd(s.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>u)}An(e,t){let s=new gi(Nl);const l=this.mn(t,e);if(null==l)return s;const u=Qo(t);if(null!=u){const m=e.data.field(u.fieldPath);if(be(m))for(const x of m.arrayValue.values||[])s=s.add(new vd(t.indexId,e.key,this.dn(x),l))}else s=s.add(new vd(t.indexId,e.key,hc,l));return s}vn(e,t,s,l,u){rn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(x,U,Y,ae,je){const Dt=x.getIterator(),Ft=U.getIterator();let fn=_s(Dt),Nn=_s(Ft);for(;fn||Nn;){let Mn=!1,Ur=!1;if(fn&&Nn){const bi=Y(fn,Nn);bi<0?Ur=!0:bi>0&&(Mn=!0)}else null!=fn?Ur=!0:Mn=!0;Mn?(ae(Nn),Nn=_s(Ft)):Ur?(je(fn),fn=_s(Dt)):(fn=_s(Dt),Nn=_s(Ft))}}(l,u,Nl,x=>{m.push(this.Rn(e,t,s,x))},x=>{m.push(this.Pn(e,t,s,x))}),He.waitFor(m)}Tn(e){let t=1;return fh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,u)=>{u.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,x)=>Nl(m,x)).filter((m,x,U)=>!x||0!==Nl(m,U[x-1]));const l=[];l.push(e);for(const m of s){const x=Nl(m,e),U=Nl(m,t);if(0===x)l[0]=e.Je();else if(x>0&&U<0)l.push(m),l.push(m.Je());else if(U>0)break}l.push(t);const u=[];for(let m=0;m<l.length;m+=2){if(this.bn(l[m],l[m+1]))return[];u.push(IDBKeyRange.bound([l[m].indexId,this.uid,l[m].arrayValue,l[m].directionalValue,hc,[]],[l[m+1].indexId,this.uid,l[m+1].arrayValue,l[m+1].directionalValue,hc,[]]))}return u}bn(e,t){return Nl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Av)}getMinOffset(e,t){return He.mapArray(this.cn(t),s=>this.an(e,s).next(l=>l||pn())).next(Av)}}function Sv(i){return zs(i,"collectionParents")}function Su(i){return zs(i,"indexEntries")}function hh(i){return zs(i,"indexConfiguration")}function fh(i){return zs(i,"indexState")}function Av(i){yt(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;ne(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new F(e.readTime,e.documentKey,t)}const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Yo(e,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ng(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),u=[],m=IDBKeyRange.only(t.batchId);let x=0;const U=s.X({range:m},(ae,je,Dt)=>(x++,Dt.delete()));u.push(U.next(()=>{yt(1===x)}));const Y=[];for(const ae of t.mutations){const je=Gd(e,ae.key.path,t.batchId);u.push(l.delete(je)),Y.push(ae.key)}return He.waitFor(u).next(()=>Y)}function rg(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw pn();e=i.noDocument}return JSON.stringify(e).length}Yo.DEFAULT_COLLECTION_PERCENTILE=10,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yo.DEFAULT=new Yo(41943040,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yo.DISABLED=new Yo(-1,0,0);class ig{constructor(e,t,s,l){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=l,this.Vn={}}static de(e,t,s,l){yt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new ig(u,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).X({index:"userMutationsIndex",range:s},(l,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const u=kl(e),m=ai(e);return m.add({}).next(x=>{yt("number"==typeof x);const U=new I(x,t,s,l),Y=function(Dt,Ft,fn){const Nn=fn.baseMutations.map(Ur=>Vc(Dt.fe,Ur)),Mn=fn.mutations.map(Ur=>Vc(Dt.fe,Ur));return{userId:Ft,batchId:fn.batchId,localWriteTimeMs:fn.localWriteTime.toMillis(),baseMutations:Nn,mutations:Mn}}(this.serializer,this.userId,U),ae=[];let je=new gi((Dt,Ft)=>rr(Dt.canonicalString(),Ft.canonicalString()));for(const Dt of l){const Ft=Gd(this.userId,Dt.key.path,x);je=je.add(Dt.key.path.popLast()),ae.push(m.put(Y)),ae.push(u.put(Ft,Zl))}return je.forEach(Dt=>{ae.push(this.indexManager.addToCollectionParentIndex(e,Dt))}),e.addOnCommittedListener(()=>{this.Vn[x]=U.keys()}),He.waitFor(ae).next(()=>U)})}lookupMutationBatch(e,t){return ai(e).get(t).next(s=>s?(yt(s.userId===this.userId),Cu(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?He.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.Vn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return ai(e).X({index:"userMutationsIndex",range:l},(m,x,U)=>{x.userId===this.userId&&(yt(x.batchId>=s),u=Cu(this.serializer,x)),U.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ai(e).X({index:"userMutationsIndex",range:t,reverse:!0},(l,u,m)=>{s=u.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).j("userMutationsIndex",t).next(s=>s.map(l=>Cu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Cc(this.userId,t.path),l=IDBKeyRange.lowerBound(s),u=[];return kl(e).X({range:l},(m,x,U)=>{const[Y,ae,je]=m,Dt=Hs(ae);if(Y===this.userId&&t.path.isEqual(Dt))return ai(e).get(je).next(Ft=>{if(!Ft)throw pn();yt(Ft.userId===this.userId),u.push(Cu(this.serializer,Ft))});U.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new gi(rr);const l=[];return t.forEach(u=>{const m=Cc(this.userId,u.path),x=IDBKeyRange.lowerBound(m),U=kl(e).X({range:x},(Y,ae,je)=>{const[Dt,Ft,fn]=Y,Nn=Hs(Ft);Dt===this.userId&&u.path.isEqual(Nn)?s=s.add(fn):je.done()});l.push(U)}),He.waitFor(l).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,u=Cc(this.userId,s),m=IDBKeyRange.lowerBound(u);let x=new gi(rr);return kl(e).X({range:m},(U,Y,ae)=>{const[je,Dt,Ft]=U,fn=Hs(Dt);je===this.userId&&s.isPrefixOf(fn)?fn.length===l&&(x=x.add(Ft)):ae.done()}).next(()=>this.Dn(e,x))}Dn(e,t){const s=[],l=[];return t.forEach(u=>{l.push(ai(e).get(u).next(m=>{if(null===m)throw pn();yt(m.userId===this.userId),s.push(Cu(this.serializer,m))}))}),He.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return ng(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),He.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return He.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return kl(e).X({range:s},(u,m,x)=>{if(u[0]===this.userId){const U=Hs(u[1]);l.push(U)}else x.done()}).next(()=>{yt(0===l.length)})})}containsKey(e,t){return yd(e,this.userId,t)}xn(e){return sg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yd(i,e,t){const s=Cc(e,t.path),l=s[1],u=IDBKeyRange.lowerBound(s);let m=!1;return kl(i).X({range:u,Y:!0},(x,U,Y)=>{const[ae,je,Dt]=x;ae===e&&je===l&&(m=!0),Y.done()}).next(()=>m)}function ai(i){return zs(i,"mutations")}function kl(i){return zs(i,"documentMutations")}function sg(i){return zs(i,"mutationQueues")}class Uc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Uc(0)}static Mn(){return new Uc(-1)}}class og{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Uc(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Zn.fromTimestamp(new Yi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.On(e,l)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Au(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(yt(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let l=0;const u=[];return Au(e).X((m,x)=>{const U=Mf(x);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(l++,u.push(this.removeTargetData(e,U)))}).next(()=>He.waitFor(u)).next(()=>l)}forEachTarget(e,t){return Au(e).X((s,l)=>{const u=Mf(l);t(u)})}$n(e){return xv(e).get("targetGlobalKey").next(t=>(yt(null!==t),t))}On(e,t){return xv(e).put("targetGlobalKey",t)}Fn(e,t){return Au(e).put(T_(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ml(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return Au(e).X({range:l,index:"queryTargetsIndex"},(m,x,U)=>{const Y=Mf(x);fu(t,Y.target)&&(u=Y,U.done())}).next(()=>u)}addMatchingKeys(e,t,s){const l=[],u=fc(e);return t.forEach(m=>{const x=Qs(m.path);l.push(u.put({targetId:s,path:x})),l.push(this.referenceDelegate.addReference(e,s,m))}),He.waitFor(l)}removeMatchingKeys(e,t,s){const l=fc(e);return He.forEach(t,u=>{const m=Qs(u.path);return He.waitFor([l.delete([s,m]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,t){const s=fc(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=fc(e);let u=Sr();return l.X({range:s,Y:!0},(m,x,U)=>{const Y=Hs(m[1]),ae=new En(Y);u=u.add(ae)}).next(()=>u)}containsKey(e,t){const s=Qs(t.path),l=IDBKeyRange.bound([s],[Yl(s)],!1,!0);let u=0;return fc(e).X({index:"documentTargetsIndex",Y:!0,range:l},([m,x],U,Y)=>{0!==m&&(u++,Y.done())}).next(()=>u>0)}le(e,t){return Au(e).get(t).next(s=>s?Mf(s):null)}}function Au(i){return zs(i,"targets")}function xv(i){return zs(i,"targetGlobal")}function fc(i){return zs(i,"targetDocuments")}function ag([i,e],[t,s]){const l=rr(i,t);return 0===l?rr(e,s):l}class kf{constructor(e){this.Ln=e,this.buffer=new gi(ag),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ag(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class R_{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;rn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){$i(s)?rn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Wt(s)}yield t.Qn(3e5)}))}}class lg{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return He.resolve(js.ct);const s=new kf(t);return this.jn.forEachTarget(e,l=>s.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>s.Kn(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(Mv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,l,u,m,x,U,Y;const ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(je=>(je>this.params.maximumSequenceNumbersToCollect?(rn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${je}`),l=this.params.maximumSequenceNumbersToCollect):l=je,m=Date.now(),this.nthSequenceNumber(e,l))).next(je=>(s=je,x=Date.now(),this.removeTargets(e,s,t))).next(je=>(u=je,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(je=>(Y=Date.now(),Xa()<=ge.in.DEBUG&&rn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ae}ms\n\tDetermined least recently used ${l} in `+(x-m)+`ms\n\tRemoved ${u} targets in `+(U-x)+`ms\n\tRemoved ${je} documents in `+(Y-U)+`ms\nTotal Duration: ${Y-ae}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:je})))}}class cg{constructor(e,t){this.db=e,this.garbageCollector=function Rv(i,e){return new lg(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,l)=>t(l))}addReference(e,t,s){return ph(e,s)}removeReference(e,t,s){return ph(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return ph(e,t)}Xn(e,t){return function(s,l){let u=!1;return sg(s).Z(m=>yd(s,m,l).next(x=>(x&&(u=!0),He.resolve(!x)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Yn(e,(m,x)=>{if(x<=t){const U=this.Xn(e,m).next(Y=>{if(!Y)return u++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Zn.min()),fc(e).delete([0,Qs(m.path)])))});l.push(U)}}).next(()=>He.waitFor(l)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return ph(e,t)}Yn(e,t){const s=fc(e);let l,u=js.ct;return s.X({index:"documentTargetsIndex"},([m,x],{path:U,sequenceNumber:Y})=>{0===m?(u!==js.ct&&t(new En(Hs(l)),u),u=Y,l=U):u=js.ct}).next(()=>{u!==js.ct&&t(new En(Hs(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ph(i,e){return fc(i).put((s=i.currentSequenceNumber,{targetId:0,path:Qs(e.path),sequenceNumber:s}));var s}class ug{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?He.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return xu(e).put(s)}removeEntry(e,t,s){return xu(e).delete(function(l,u){const m=l.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Af(u),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Pi.newInvalidDocument(t);return xu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ru(t))},(l,u)=>{s=this.ts(t,u)}).next(()=>s)}es(e,t){let s={size:0,document:Pi.newInvalidDocument(t)};return xu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ru(t))},(l,u)=>{s={document:this.ts(t,u),size:rg(u)}}).next(()=>s)}getEntries(e,t){let s=yo();return this.ns(e,t,(l,u)=>{const m=this.ts(l,u);s=s.insert(l,m)}).next(()=>s)}ss(e,t){let s=yo(),l=new Oi(En.comparator);return this.ns(e,t,(u,m)=>{const x=this.ts(u,m);s=s.insert(u,x),l=l.insert(u,rg(m))}).next(()=>({documents:s,rs:l}))}ns(e,t,s){if(t.isEmpty())return He.resolve();let l=new gi(ul);t.forEach(U=>l=l.add(U));const u=IDBKeyRange.bound(Ru(l.first()),Ru(l.last())),m=l.getIterator();let x=m.getNext();return xu(e).X({index:"documentKeyIndex",range:u},(U,Y,ae)=>{const je=En.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;x&&ul(x,je)<0;)s(x,null),x=m.getNext();x&&x.isEqual(je)&&(s(x,Y),x=m.hasNext()?m.getNext():null),x?ae.G(Ru(x)):ae.done()}).next(()=>{for(;x;)s(x,null),x=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,t,s,l){const u=t.path,m=[u.popLast().toArray(),u.lastSegment(),Af(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],x=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xu(e).j(IDBKeyRange.bound(m,x,!0)).next(U=>{let Y=yo();for(const ae of U){const je=this.ts(En.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);je.isFoundDocument()&&(rd(t,je)||l.has(je.key))&&(Y=Y.insert(je.key,je))}return Y})}getAllFromCollectionGroup(e,t,s,l){let u=yo();const m=mh(t,s),x=mh(t,F.max());return xu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,x,!0)},(U,Y,ae)=>{const je=this.ts(En.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);u=u.insert(je.key,je),u.size===l&&ae.done()}).next(()=>u)}newChangeBuffer(e){return new dg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gh(e).get("remoteDocumentGlobalKey").next(t=>(yt(!!t),t))}Zn(e,t){return gh(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function C_(i,e){let t;if(e.document)t=hv(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=En.fromSegments(e.noDocument.path),l=cl(e.noDocument.readTime);t=Pi.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pn();{const s=En.fromSegments(e.unknownDocument.path),l=cl(e.unknownDocument.version);t=Pi.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new Yi(s[0],s[1]);return Zn.fromTimestamp(l)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Zn.min()))return s}return Pi.newInvalidDocument(e)}}function Ov(i){return new Mu(i)}class dg extends ug{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new rl(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new gi((u,m)=>rr(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const x=this.us.get(u);if(t.push(this.os.removeEntry(e,u,x.readTime)),m.isValidDocument()){const U=yv(this.os.serializer,m);l=l.add(u.path.popLast());const Y=rg(U);s+=Y-x.size,t.push(this.os.addEntry(e,u,U))}else if(s-=x.size,this.trackRemovals){const U=yv(this.os.serializer,m.convertToNoDocument(Zn.min()));t.push(this.os.addEntry(e,u,U))}}),l.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,s)),He.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:l})=>(l.forEach((u,m)=>{this.us.set(u,{size:m,readTime:s.get(u).readTime})}),s))}}function gh(i){return zs(i,"remoteDocumentGlobal")}function xu(i){return zs(i,"remoteDocumentsV14")}function Ru(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mh(i,e){const t=e.documentKey.path.toArray();return[i,Af(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ul(i,e){const t=i.path.toArray(),s=e.path.toArray();let l=0;for(let u=0;u<t.length-2&&u<s.length-2;++u)if(l=rr(t[u],s[u]),l)return l;return l=rr(t.length,s.length),l||(l=rr(t[t.length-2],s[s.length-2]),l||rr(t[t.length-1],s[s.length-1]))}class Ff{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lf{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==s&&sa(s.mutation,l,io.empty(),Yi.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Sr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Sr()){const l=Ao();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(u=>{let m=Va();return u.forEach((x,U)=>{m=m.insert(x,U.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=Ao();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Sr()))}populateOverlays(e,t,s){const l=[];return s.forEach(u=>{t.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((m,x)=>{t.set(m,x)})})}computeViews(e,t,s,l){let u=yo();const m=Nc(),x=Nc();return t.forEach((U,Y)=>{const ae=s.get(Y.key);l.has(Y.key)&&(void 0===ae||ae.mutation instanceof al)?u=u.insert(Y.key,Y):void 0!==ae?(m.set(Y.key,ae.mutation.getFieldMask()),sa(ae.mutation,Y,ae.mutation.getFieldMask(),Yi.now())):m.set(Y.key,io.empty())}),this.recalculateAndSaveOverlays(e,u).next(U=>(U.forEach((Y,ae)=>m.set(Y,ae)),t.forEach((Y,ae)=>{var je;return x.set(Y,new Ff(ae,null!==(je=m.get(Y))&&void 0!==je?je:null))}),x))}recalculateAndSaveOverlays(e,t){const s=Nc();let l=new Oi((m,x)=>m-x),u=Sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const x of m)x.keys().forEach(U=>{const Y=t.get(U);if(null===Y)return;let ae=s.get(U)||io.empty();ae=x.applyToLocalView(Y,ae),s.set(U,ae);const je=(l.get(x.batchId)||Sr()).add(U);l=l.insert(x.batchId,je)})}).next(()=>{const m=[],x=l.getReverseIterator();for(;x.hasNext();){const U=x.getNext(),Y=U.key,ae=U.value,je=eh();ae.forEach(Dt=>{if(!u.has(Dt)){const Ft=ud(t.get(Dt),s.get(Dt));null!==Ft&&je.set(Dt,Ft),u=u.add(Dt)}}),m.push(this.documentOverlayCache.saveOverlays(e,Y,je))}return He.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return En.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ed(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(u=>{const m=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-u.size):He.resolve(Ao());let x=-1,U=u;return m.next(Y=>He.forEach(Y,(ae,je)=>(x<je.largestBatchId&&(x=je.largestBatchId),u.get(ae)?He.resolve():this.remoteDocumentCache.getEntry(e,ae).next(Dt=>{U=U.insert(ae,Dt)}))).next(()=>this.populateOverlays(e,Y,u)).next(()=>this.computeViews(e,U,Y,Sr())).next(ae=>({batchId:x,changes:Jd(ae)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new En(t)).next(s=>{let l=Va();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let u=Va();return this.indexManager.getCollectionParents(e,l).next(m=>He.forEach(m,x=>{const U=(Y=t,ae=x.child(l),new ga(ae,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,ae;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(Y=>{Y.forEach((ae,je)=>{u=u.insert(ae,je)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l))).next(u=>{l.forEach((x,U)=>{const Y=U.getKey();null===u.get(Y)&&(u=u.insert(Y,Pi.newInvalidDocument(Y)))});let m=Va();return u.forEach((x,U)=>{const Y=l.get(x);void 0!==Y&&sa(Y.mutation,U,io.empty(),Yi.now()),rd(t,U)&&(m=m.insert(x,U))}),m})}}class O_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return He.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Js(s.createTime)}),He.resolve()}getNamedQuery(e,t){return He.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:_v(s.bundledQuery),readTime:Js(s.readTime)}),He.resolve();var s}}class P_{constructor(){this.overlays=new Oi(En.comparator),this.ls=new Map}getOverlay(e,t){return He.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ao();return He.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,u)=>{this.we(e,t,u)}),He.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.ls.get(s);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(s)),He.resolve()}getOverlaysForCollection(e,t,s){const l=Ao(),u=t.length+1,m=new En(t.child("")),x=this.overlays.getIteratorFrom(m);for(;x.hasNext();){const U=x.getNext().value,Y=U.getKey();if(!t.isPrefixOf(Y.path))break;Y.path.length===u&&U.largestBatchId>s&&l.set(U.getKey(),U)}return He.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let u=new Oi((Y,ae)=>Y-ae);const m=this.overlays.getIterator();for(;m.hasNext();){const Y=m.getNext().value;if(Y.getKey().getCollectionGroup()===t&&Y.largestBatchId>s){let ae=u.get(Y.largestBatchId);null===ae&&(ae=Ao(),u=u.insert(Y.largestBatchId,ae)),ae.set(Y.getKey(),Y)}}const x=Ao(),U=u.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((Y,ae)=>x.set(Y,ae)),!(x.size()>=l)););return He.resolve(x)}we(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const m=this.ls.get(l.largestBatchId).delete(s.key);this.ls.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new f(t,s));let u=this.ls.get(t);void 0===u&&(u=Sr(),this.ls.set(t,u)),this.ls.set(t,u.add(s.key))}}class Bf{constructor(){this.fs=new gi(Ys.ds),this.ws=new gi(Ys._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Ys(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Ys(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new En(new Gr([])),s=new Ys(t,e),l=new Ys(t,e+1),u=[];return this.ws.forEachInRange([s,l],m=>{this.ys(m),u.push(m.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new En(new Gr([])),s=new Ys(t,e),l=new Ys(t,e+1);let u=Sr();return this.ws.forEachInRange([s,l],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new Ys(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ys{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return En.comparator(e.key,t.key)||rr(e.As,t.As)}static _s(e,t){return rr(e.As,t.As)||En.comparator(e.key,t.key)}}class N_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new gi(Ys.ds)}checkEmpty(e){return He.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const u=this.vs;this.vs++;const m=new I(u,t,s,l);this.mutationQueue.push(m);for(const x of l)this.Rs=this.Rs.add(new Ys(x.key,u)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return He.resolve(m)}lookupMutationBatch(e,t){return He.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),u=l<0?0:l;return He.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ys(t,0),l=new Ys(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([s,l],m=>{const x=this.Ps(m.As);u.push(x)}),He.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new gi(rr);return t.forEach(l=>{const u=new Ys(l,0),m=new Ys(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,m],x=>{s=s.add(x.As)})}),He.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let u=s;En.isDocumentKey(u)||(u=u.child(""));const m=new Ys(new En(u),0);let x=new gi(rr);return this.Rs.forEachWhile(U=>{const Y=U.key.path;return!!s.isPrefixOf(Y)&&(Y.length===l&&(x=x.add(U.As)),!0)},m),He.resolve(this.Vs(x))}Vs(e){const t=[];return e.forEach(s=>{const l=this.Ps(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){yt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return He.forEach(t.mutations,l=>{const u=new Ys(l.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Ys(t,0),l=this.Rs.firstAfterOrEqual(s);return He.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return He.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class k_{constructor(e){this.Ds=e,this.docs=new Oi(En.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),u=l?l.size:0,m=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return He.resolve(s?s.document.mutableCopy():Pi.newInvalidDocument(t))}getEntries(e,t){let s=yo();return t.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Pi.newInvalidDocument(l))}),He.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let u=yo();const m=t.path,x=new En(m.child("")),U=this.docs.getIteratorFrom(x);for(;U.hasNext();){const{key:Y,value:{document:ae}}=U.getNext();if(!m.isPrefixOf(Y.path))break;Y.path.length>m.length+1||ne(T(ae),s)<=0||(l.has(ae.key)||rd(t,ae))&&(u=u.insert(ae.key,ae.mutableCopy()))}return He.resolve(u)}getAllFromCollectionGroup(e,t,s,l){pn()}Cs(e,t){return He.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new F_(this)}getSize(e){return He.resolve(this.size)}}class F_ extends ug{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(s)}),He.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hg{constructor(e){this.persistence=e,this.xs=new rl(t=>Ml(t),fu),this.lastRemoteSnapshotVersion=Zn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bf,this.targetCount=0,this.Ms=Uc.kn()}forEachTarget(e,t){return this.xs.forEach((s,l)=>t(l)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),He.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Uc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,He.resolve()}updateTargetData(e,t){return this.Fn(t),He.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,t,s){let l=0;const u=[];return this.xs.forEach((m,x)=>{x.sequenceNumber<=t&&null===s.get(x.targetId)&&(this.xs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,x.targetId)),l++)}),He.waitFor(u).next(()=>l)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return He.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),He.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach(m=>{u.push(l.markPotentiallyOrphaned(e,m))}),He.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),He.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return He.resolve(s)}containsKey(e,t){return He.resolve(this.ks.containsKey(t))}}class $f{constructor(e,t){this.$s={},this.overlays={},this.Os=new js(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hg(this),this.indexManager=new eg,this.remoteDocumentCache=new k_(s=>this.referenceDelegate.Ls(s)),this.serializer=new vv(t),this.qs=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new N_(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){rn("MemoryPersistence","Starting transaction:",e);const l=new L_(this.Os.next());return this.referenceDelegate.Us(),s(l).next(u=>this.referenceDelegate.Ks(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gs(e,t){return He.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class L_ extends dt{constructor(e){super(),this.currentSequenceNumber=e}}class vh{constructor(e){this.persistence=e,this.Qs=new Bf,this.js=null}static zs(e){return new vh(e)}get Ws(){if(this.js)return this.js;throw pn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),He.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),He.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),He.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(u=>this.Ws.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.Ws,s=>{const l=En.fromPath(s);return this.Hs(e,l).next(u=>{u||t.removeEntry(l,Zn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return He.or([()=>He.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class PI{constructor(e){this.serializer=e}O(e,t,s,l){const u=new tr("createOrUpgrade",t);var x;s<1&&l>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bc,{unique:!0}),x.createObjectStore("documentMutations"),B_(e),function(x){x.createObjectStore("remoteDocuments")}(e));let m=He.resolve();return s<3&&l>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),B_(e)),m=m.next(()=>function(x){const U=x.store("targetGlobal"),Y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zn.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",Y)}(u))),s<4&&l>=4&&(0!==s&&(m=m.next(()=>function(x,U){return U.store("mutations").j().next(Y=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bc,{unique:!0});const ae=U.store("mutations"),je=Y.map(Dt=>ae.put(Dt));return He.waitFor(je)})}(e,u))),m=m.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(m=m.next(()=>this.Ys(u))),s<6&&l>=6&&(m=m.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),s<7&&l>=7&&(m=m.next(()=>this.Zs(u))),s<8&&l>=8&&(m=m.next(()=>this.ti(e,u))),s<9&&l>=9&&(m=m.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(m=m.next(()=>this.ei(u))),s<11&&l>=11&&(m=m.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(m=m.next(()=>{!function(x){const U=x.createObjectStore("documentOverlays",{keyPath:Il});U.createIndex("collectionPathOverlayIndex",lu,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",Ac,{unique:!1})}(e)})),s<13&&l>=13&&(m=m.next(()=>function(x){const U=x.createObjectStore("remoteDocumentsV14",{keyPath:Tc});U.createIndex("documentKeyIndex",ou),U.createIndex("collectionGroupIndex",el)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(m=m.next(()=>this.si(e,u))),s<15&&l>=15&&(m=m.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:au}).createIndex("sequenceNumberIndex",Gu,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:Jo}).createIndex("documentKeyIndex",hf,{unique:!1})}(e))),m}Xs(e){let t=0;return e.store("remoteDocuments").X((s,l)=>{t+=rg(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(l=>He.forEach(l,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",m).next(x=>He.forEach(x,U=>{yt(U.userId===u.userId);const Y=Cu(this.serializer,U);return ng(e,u.userId,Y).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return s.X((m,x)=>{const U=new Gr(m),Y=[0,Qs(U)];u.push(t.get(Y).next(ae=>ae?He.resolve():t.put({targetId:0,path:Qs(U),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>He.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Sc});const s=t.store("collectionParents"),l=new tg,u=m=>{if(l.add(m)){const x=m.lastSegment(),U=m.popLast();return s.put({collectionId:x,parent:Qs(U)})}};return t.store("remoteDocuments").X({Y:!0},(m,x)=>{const U=new Gr(m);return u(U.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([m,x,U],Y)=>{const ae=Hs(x);return u(ae.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,l)=>{const u=Mf(l),m=T_(this.serializer,u);return t.put(m)})}ni(e,t){const s=t.store("remoteDocuments"),l=[];return s.X((u,m)=>{const x=t.store("remoteDocumentsV14"),U=(Y=m,Y.document?new En(Gr.fromString(Y.document.name).popFirst(5)):Y.noDocument?En.fromSegments(Y.noDocument.path):Y.unknownDocument?En.fromSegments(Y.unknownDocument.path):pn()).path.toArray();var Y;const ae={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};l.push(x.put(ae))}).next(()=>He.waitFor(l))}si(e,t){const s=t.store("mutations"),l=Ov(this.serializer),u=new $f(vh.zs,this.serializer.fe);return s.j().next(m=>{const x=new Map;return m.forEach(U=>{var Y;let ae=null!==(Y=x.get(U.userId))&&void 0!==Y?Y:Sr();Cu(this.serializer,U).keys().forEach(je=>ae=ae.add(je)),x.set(U.userId,ae)}),He.forEach(x,(U,Y)=>{const ae=new ys(Y),je=xf.de(this.serializer,ae),Dt=u.getIndexManager(ae),Ft=ig.de(ae,this.serializer,Dt,u.referenceDelegate);return new Lf(l,Ft,je,Dt).recalculateAndSaveOverlaysForDocumentKeys(new Dl(t,js.ct),U).next()})})}}function B_(i){i.createObjectStore("targetDocuments",{keyPath:tl}).createIndex("documentTargetsIndex",Bp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xl,{unique:!0}),i.createObjectStore("targetGlobal")}const fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pg{constructor(e,t,s,l,u,m,x,U,Y,ae,je=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=u,this.window=m,this.document=x,this.ri=Y,this.oi=ae,this.ui=je,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Dt=>Promise.resolve(),!pg.D())throw new kt(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cg(this,l),this.di=t+"main",this.serializer=new vv(U),this.wi=new xr(this.di,this.ui,new PI(this.serializer)),this.Bs=new og(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ov(this.serializer),this.qs=new A_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ae&&Wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(Tt.FAILED_PRECONDITION,fg);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new js(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,pe.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,pe.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if($i(e))return rn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Vf(e).get("owner").next(t=>He.resolve(this.Ri(t)))}Pi(e){return gg(e).delete(this.clientId)}bi(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=zs(s,"clientMetadata");return l.j().next(u=>{const m=e.Si(u,18e5),x=u.filter(U=>-1===m.indexOf(U));return He.forEach(x,U=>l.delete(U.clientId)).next(()=>x)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?He.resolve(!0):Vf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new kt(Tt.FAILED_PRECONDITION,fg);return!1}}return!(!this.networkEnabled||!this.inForeground)||gg(e).j().next(s=>void 0===this.Si(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(t=>(this.isPrimary!==t&&rn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Dl(t,js.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gg(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return ig.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new x_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return xf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){rn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",u=15===(m=this.ui)?Wu:14===m?uu:13===m?Mc:12===m?cu:11===m?El:void pn();var m;let x;return this.wi.runTransaction(e,l,u,U=>(x=new Dl(U,this.Os?this.Os.next():js.ct),"readwrite-primary"===t?this.Ti(x).next(Y=>!!Y||this.Ei(x)).next(Y=>{if(!Y)throw Wi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new kt(Tt.FAILED_PRECONDITION,de);return s(x)}).next(Y=>this.vi(x).next(()=>Y)):this.Oi(x).next(()=>s(x)))).then(U=>(x.raiseOnCommittedEvent(),U))}Oi(e){return Vf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new kt(Tt.FAILED_PRECONDITION,fg)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vf(e).put("owner",t)}static D(){return xr.D()}Ai(e){const t=Vf(e);return t.get("owner").next(s=>this.Ri(s)?(rn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):He.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Wi(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return rn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Wi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Wi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vf(i){return zs(i,"owner")}function gg(i){return zs(i,"clientMetadata")}function Id(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class mg{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=l}static Li(e,t){let s=Sr(),l=Sr();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new mg(e,t.fromCache,s,l)}}class Uf{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,l){return this.Ki(e,t).next(u=>u||this.Gi(e,t,l,s)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Xd(t))return He.resolve(null);let s=$o(t);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=gu(t,null,"F"),s=$o(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const m=Sr(...u);return this.Ui.getDocuments(e,m).next(x=>this.indexManager.getMinOffset(e,s).next(U=>{const Y=this.ji(t,x);return this.zi(t,Y,m,U.readTime)?this.Ki(e,gu(t,null,"F")):this.Wi(e,Y,t,U)}))})))}Gi(e,t,s,l){return Xd(t)||l.isEqual(Zn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(u=>{const m=this.ji(t,u);return this.zi(t,m,s,l)?this.Qi(e,t):(Xa()<=ge.in.DEBUG&&rn("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),mu(t)),this.Wi(e,m,t,k(l,-1)))})}ji(e,t){let s=new gi(Up(e));return t.forEach((l,u)=>{rd(e,u)&&(s=s.add(u))}),s}zi(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Qi(e,t){return Xa()<=ge.in.DEBUG&&rn("QueryEngine","Using full collection scan to execute query:",mu(t)),this.Ui.getDocumentsMatchingQuery(e,t,F.min())}Wi(e,t,s,l){return this.Ui.getDocumentsMatchingQuery(e,s,l).next(u=>(t.forEach(m=>{u=u.insert(m.key,m)}),u))}}class vg{constructor(e,t,s,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new Oi(rr),this.Yi=new rl(u=>Ml(u),fu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ou(i,e,t,s){return new vg(i,e,t,s)}function yh(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,pe.Z)(function*(i,e){const t=Dn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const m=[],x=[];let U=Sr();for(const Y of l){m.push(Y.batchId);for(const ae of Y.mutations)U=U.add(ae.key)}for(const Y of u){x.push(Y.batchId);for(const ae of Y.mutations)U=U.add(ae.key)}return t.localDocuments.getDocuments(s,U).next(Y=>({er:Y,removedBatchIds:m,addedBatchIds:x}))})})}),Ed.apply(this,arguments)}function wd(i){const e=Dn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yg(i,e,t){let s=Sr(),l=Sr();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let m=yo();return t.forEach((x,U)=>{const Y=u.get(x);U.isFoundDocument()!==Y.isFoundDocument()&&(l=l.add(x)),U.isNoDocument()&&U.version.isEqual(Zn.min())?(e.removeEntry(x,U.readTime),m=m.insert(x,U)):!Y.isValidDocument()||U.version.compareTo(Y.version)>0||0===U.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(U),m=m.insert(x,U)):rn("LocalStore","Ignoring outdated watch update for ",x,". Current version:",Y.version," Watch version:",U.version)}),{nr:m,sr:l}})}function jf(i,e){const t=Dn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Fl(i,e){const t=Dn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Bs.getTargetData(s,e).next(u=>u?(l=u,He.resolve(l)):t.Bs.allocateTargetId(s).next(m=>(l=new dc(e,m,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.Ji.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Ih(i,e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,pe.Z)(function*(i,e,t){const s=Dn(i),l=s.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",u,m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!$i(m))throw m;rn("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(l.target)}),Eh.apply(this,arguments)}function jc(i,e,t){const s=Dn(i);let l=Zn.min(),u=Sr();return s.persistence.runTransaction("Execute query","readonly",m=>function(x,U,Y){const ae=Dn(x),je=ae.Yi.get(Y);return void 0!==je?He.resolve(ae.Ji.get(je)):ae.Bs.getTargetData(U,Y)}(s,m,$o(e)).next(x=>{if(x)return l=x.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(m,x.targetId).next(U=>{u=U})}).next(()=>s.Hi.getDocumentsMatchingQuery(m,e,t?l:Zn.min(),t?u:Sr())).next(x=>(Nv(s,Vp(e),x),{documents:x,ir:u})))}function Pv(i,e){const t=Dn(i),s=Dn(t.Bs),l=t.Ji.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",u=>s.le(u,e).next(m=>m?m.target:null))}function _g(i,e){const t=Dn(i),s=t.Xi.get(e)||Zn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Zi.getAllFromCollectionGroup(l,e,k(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Nv(t,e,l),l))}function Nv(i,e,t){let s=i.Xi.get(e)||Zn.min();t.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Xi.set(e,s)}function Dh(){return Dh=(0,pe.Z)(function*(i,e,t,s){const l=Dn(i);let u=Sr(),m=yo();for(const Y of t){const ae=e.rr(Y.metadata.name);Y.document&&(u=u.add(ae));const je=e.ur(Y);je.setReadTime(e.cr(Y.metadata.readTime)),m=m.insert(ae,je)}const x=l.Zi.newChangeBuffer({trackRemovals:!0}),U=yield Fl(l,(Y=s,$o(Oc(Gr.fromString(`__bundle__/docs/${Y}`)))));var Y;return l.persistence.runTransaction("Apply bundle documents","readwrite",Y=>yg(Y,x,m).next(ae=>(x.apply(Y),ae)).next(ae=>l.Bs.removeMatchingKeysForTargetId(Y,U.targetId).next(()=>l.Bs.addMatchingKeys(Y,u,U.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Y,ae.nr,ae.sr)).next(()=>ae.nr)))}),Dh.apply(this,arguments)}function kv(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,pe.Z)(function*(i,e,t=Sr()){const s=yield Fl(i,$o(_v(e.bundledQuery))),l=Dn(i);return l.persistence.runTransaction("Save named query","readwrite",u=>{const m=Js(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return l.qs.saveNamedQuery(u,e);const x=s.withResumeToken(Os.EMPTY_BYTE_STRING,m);return l.Ji=l.Ji.insert(x.targetId,x),l.Bs.updateTargetData(u,x).next(()=>l.Bs.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>l.Bs.addMatchingKeys(u,t,s.targetId)).next(()=>l.qs.saveNamedQuery(u,e))})}),Ig.apply(this,arguments)}function Fv(i,e){return`firestore_clients_${i}_${e}`}function V_(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Eg(i,e){return`firestore_targets_${i}_${e}`}class Pu{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static ar(e,t,s){const l=JSON.parse(s);let u,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(u=new kt(l.error.code,l.error.message))),m?new Pu(e,t,l.state,u):(Wi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nu{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let l,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(l=new kt(s.error.code,s.error.message))),u?new Nu(e,s.state,l):(Wi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,u=vu();for(let m=0;l&&m<s.activeTargetIds.length;++m)l=iu(s.activeTargetIds[m]),u=u.add(s.activeTargetIds[m]);return l?new Hf(e,u):(Wi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zf(t.clientId,t.onlineState):(Wi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wh{constructor(){this.activeTargetIds=vu()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bd{constructor(e,t,s,l,u){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Oi(rr),this.started=!1,this.yr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=Fv(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new wh),this.Tr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.$i();for(const l of t){if(l===e.wr)continue;const u=e.getItem(Fv(e.persistenceKey,l));if(u){const m=Hf.ar(l,u);m&&(e.gr=e.gr.insert(m.clientId,m))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const l=e.br(s);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Eg(this.persistenceKey,e));if(s){const l=Nu.ar(e,s);l&&(t=l.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Eg(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.Cr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return rn("SharedClientState","READ",e,t),t}setItem(e,t){rn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){rn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(rn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const l=t.Or(s.key);return t.Fr(l,null)}{const l=t.Br(s.key,s.newValue);if(l)return t.Fr(l.clientId,l)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const l=t.Lr(s.key,s.newValue);if(l)return t.qr(l)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const l=t.Ur(s.key,s.newValue);if(l)return t.Kr(l)}}else if(s.key===t.vr){if(null!==s.newValue){const l=t.br(s.newValue);if(l)return t.Vr(l)}}else if(s.key===t.Ir){const l=function(u){let m=js.ct;if(null!=u)try{const x=JSON.parse(u);yt("number"==typeof x),m=x}catch(x){Wi("SharedClientState","Failed to read sequence number from WebStorage",x)}return m}(s.newValue);l!==js.ct&&t.sequenceNumberHandler(l)}else if(s.key===t.Rr){const l=t.Gr(s.newValue);yield Promise.all(l.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const l=new Pu(this.currentUser,e,t,s),u=V_(this.persistenceKey,this.currentUser,e);this.setItem(u,l.hr())}Cr(e){const t=V_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const l=Eg(this.persistenceKey,e),u=new Nu(e,t,s);this.setItem(l,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Hf.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),l=Number(s[1]);return Pu.ar(new ys(void 0!==s[2]?s[2]:null),l,t)}Ur(e,t){const s=this.Ar.exec(e),l=Number(s[1]);return Nu.ar(l,t)}br(e){return zf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);rn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),l=this.Sr(this.gr),u=this.Sr(s),m=[],x=[];return u.forEach(U=>{l.has(U)||m.push(U)}),l.forEach(U=>{u.has(U)||x.push(U)}),this.syncEngine.Wr(m,x).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=vu();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Lv{constructor(){this.Hr=new wh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new wh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bv{Yr(e){}shutdown(){}}class $v{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){rn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){rn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bh=null;function Vv(){return null===bh?bh=268435456+Math.round(2147483648*Math.random()):bh++,"0x"+bh.toString(16)}const U_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const qo="WebChannelConnection";class Cd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,l,u){const m=Vv(),x=this.To(e,t);rn("RestConnection",`Sending RPC '${e}' ${m}:`,x,s);const U={};return this.Eo(U,l,u),this.Ao(e,x,U,s).then(Y=>(rn("RestConnection",`Received RPC '${e}' ${m}: `,Y),Y),Y=>{throw ts("RestConnection",`RPC '${e}' ${m} failed with error: `,Y,"url: ",x,"request:",s),Y})}vo(e,t,s,l,u,m){return this.Io(e,t,s,l,u)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+gl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,u)=>e[u]=l),s&&s.headers.forEach((l,u)=>e[u]=l)}To(e,t){return`${this.mo}/v1/${t}:${U_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,l){const u=Vv();return new Promise((m,x)=>{const U=new ba;U.setWithCredentials(!0),U.listenOnce(zo.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case As.NO_ERROR:const ae=U.getResponseJson();rn(qo,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ae)),m(ae);break;case As.TIMEOUT:rn(qo,`RPC '${e}' ${u} timed out`),x(new kt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case As.HTTP_ERROR:const je=U.getStatus();if(rn(qo,`RPC '${e}' ${u} failed with status:`,je,"response text:",U.getResponseText()),je>0){let Dt=U.getResponseJson();Array.isArray(Dt)&&(Dt=Dt[0]);const Ft=null==Dt?void 0:Dt.error;if(Ft&&Ft.status&&Ft.message){const fn=function(Nn){const Mn=Nn.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(Mn)>=0?Mn:Tt.UNKNOWN}(Ft.status);x(new kt(fn,Ft.message))}else x(new kt(Tt.UNKNOWN,"Server responded with status "+U.getStatus()))}else x(new kt(Tt.UNAVAILABLE,"Connection failed."));break;default:pn()}}finally{rn(qo,`RPC '${e}' ${u} completed.`)}});const Y=JSON.stringify(l);rn(qo,`RPC '${e}' ${u} sending request:`,l),U.send(t,"POST",Y,s,15)})}Ro(e,t,s){const l=Vv(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Oo(),x=go(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(U.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(U.xmlHttpFactory=new Za({})),this.Eo(U.initMessageHeaders,t,s),U.encodeInitMessageHeaders=!0;const ae=u.join("");rn(qo,`Creating RPC '${e}' stream ${l}: ${ae}`,U);const je=m.createWebChannel(ae,U);let Dt=!1,Ft=!1;const fn=new Gf({ro:Mn=>{Ft?rn(qo,`Not sending because RPC '${e}' stream ${l} is closed:`,Mn):(Dt||(rn(qo,`Opening RPC '${e}' stream ${l} transport.`),je.open(),Dt=!0),rn(qo,`RPC '${e}' stream ${l} sending:`,Mn),je.send(Mn))},oo:()=>je.close()}),Nn=(Mn,Ur,bi)=>{Mn.listen(Ur,jr=>{try{bi(jr)}catch(as){setTimeout(()=>{throw as},0)}})};return Nn(je,wa.EventType.OPEN,()=>{Ft||rn(qo,`RPC '${e}' stream ${l} transport opened.`)}),Nn(je,wa.EventType.CLOSE,()=>{Ft||(Ft=!0,rn(qo,`RPC '${e}' stream ${l} transport closed`),fn.wo())}),Nn(je,wa.EventType.ERROR,Mn=>{Ft||(Ft=!0,ts(qo,`RPC '${e}' stream ${l} transport errored:`,Mn),fn.wo(new kt(Tt.UNAVAILABLE,"The operation could not be completed")))}),Nn(je,wa.EventType.MESSAGE,Mn=>{var Ur;if(!Ft){const bi=Mn.data[0];yt(!!bi);const as=bi.error||(null===(Ur=bi[0])||void 0===Ur?void 0:Ur.error);if(as){rn(qo,`RPC '${e}' stream ${l} received error:`,as);const bs=as.status;let Xi=function(uo){const G0=te[uo];if(void 0!==G0)return Kt(G0)}(bs),Do=as.message;void 0===Xi&&(Xi=Tt.INTERNAL,Do="Unknown error status: "+bs+" with message "+as.message),Ft=!0,fn.wo(new kt(Xi,Do)),je.close()}else rn(qo,`RPC '${e}' stream ${l} received:`,bi),fn._o(bi)}}),Nn(x,ha.STAT_EVENT,Mn=>{Mn.stat===Ms.PROXY?rn(qo,`RPC '${e}' stream ${l} detected buffering proxy`):Mn.stat===Ms.NOPROXY&&rn(qo,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{fn.fo()},0),fn}}function Td(){return typeof window<"u"?window:null}function Wf(){return typeof document<"u"?document:null}function Sd(i){return new lv(i,!0)}class Dg{constructor(e,t,s=1e3,l=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=l,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-s);l>0&&rn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Uv{constructor(e,t,s,l,u,m,x,U){this.ii=e,this.$o=s,this.Oo=l,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=x,this.listener=U,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Dg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,pe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,pe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,pe.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Tt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Fo===t&&this.Zo(s,l)},s=>{e(()=>{const l=new kt(Tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(l)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{s(()=>this.tu(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,pe.Z)(function*(){e.state=0,e.start()}))}tu(e){return rn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(rn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j_ extends Uv{constructor(e,t,s,l,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,m),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function pv(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:pn(),l=e.targetChange.targetIds||[],u=function(U,Y){return U.useProto3Json?(yt(void 0===Y||"string"==typeof Y),Os.fromBase64String(Y||"")):(yt(void 0===Y||Y instanceof Uint8Array),Os.fromUint8Array(Y||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,x=m&&function(U){const Y=void 0===U.code?Tt.UNKNOWN:Kt(U.code);return new kt(Y,U.message||"")}(m);t=new hd(s,l,u,x||null)}else if("documentChange"in e){const s=e.documentChange,l=Ua(i,s.document.name),u=Js(s.document.updateTime),m=s.document.createTime?Js(s.document.createTime):Zn.min(),x=new oi({mapValue:{fields:s.document.fields}}),U=Pi.newFoundDocument(l,u,m,x);t=new cc(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,l=Ua(i,s.document),u=s.readTime?Js(s.readTime):Zn.min(),m=Pi.newNoDocument(l,u);t=new cc([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,l=Ua(i,s.document);t=new cc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return pn();{const s=e.filter,{count:l=0,unchangedNames:u}=s,m=new G(l,u);t=new ll(s.targetId,m)}}var U;return t}(this.serializer,e),s=function(l){if(!("targetChange"in l))return Zn.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Zn.min():u.readTime?Js(u.readTime):Zn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=pd(this.serializer),t.addTarget=function(l,u){let m;const x=u.target;if(m=pu(x)?{documents:gv(l,x)}:{query:Wp(l,x)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=sh(l,u.resumeToken);const U=ih(l,u.expectedCount);null!==U&&(m.expectedCount=U)}else if(u.snapshotVersion.compareTo(Zn.min())>0){m.readTime=Du(l,u.snapshotVersion.toTimestamp());const U=ih(l,u.expectedCount);null!==U&&(m.expectedCount=U)}return m}(this.serializer,e);const s=function w_(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=pd(this.serializer),t.removeTarget=e,this.Wo(t)}}class jv extends Uv{constructor(e,t,s,l,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,m),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function gd(i,e){return i&&i.length>0?(yt(void 0!==e),i.map(t=>function(s,l){let u=Js(s.updateTime?s.updateTime:l);return u.isEqual(Zn.min())&&(u=Js(l)),new Hp(u,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Js(e.commitTime);return this.listener.cu(s,t)}return yt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Vc(this.serializer,s))};this.Wo(t)}}class Hv extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new kt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Io(e,t,s,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new kt(Tt.UNKNOWN,l.toString())})}vo(e,t,s,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.vo(e,t,s,u,m,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new kt(Tt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class bg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wi(t),this.mu=!1):rn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Gv{constructor(e,t,s,l,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(x=>{s.enqueueAndForget((0,pe.Z)(function*(){var U;Mo(m)&&(rn("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,pe.Z)(function*(Y){const ae=Dn(Y);ae.vu.add(4),yield ku(ae),ae.bu.set("Unknown"),ae.vu.delete(4),yield Ch(ae)}),function(Y){return U.apply(this,arguments)})(m))}))}),this.bu=new bg(s,l)}}function Ch(i){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,pe.Z)(function*(i){if(Mo(i))for(const e of i.Ru)yield e(!0)}),Cg.apply(this,arguments)}function ku(i){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,pe.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Tg.apply(this,arguments)}function Th(i,e){const t=Dn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),qf(t)?Yf(t):Mh(t).Ko()&&Sg(t,e))}function Sh(i,e){const t=Dn(i),s=Mh(t);t.Au.delete(e),s.Ko()&&H_(t,e),0===t.Au.size&&(s.Ko()?s.jo():Mo(t)&&t.bu.set("Unknown"))}function Sg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zn.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mh(i).su(e)}function H_(i,e){i.Vu.qt(e),Mh(i).iu(e)}function Yf(i){i.Vu=new Cf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Mh(i).start(),i.bu.gu()}function qf(i){return Mo(i)&&!Mh(i).Uo()&&i.Au.size>0}function Mo(i){return 0===Dn(i).vu.size}function Kf(i){i.Vu=void 0}function z_(i){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,pe.Z)(function*(i){i.Au.forEach((e,t)=>{Sg(i,e)})}),Wv.apply(this,arguments)}function G_(i,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,pe.Z)(function*(i,e){Kf(i),qf(i)?(i.bu.Iu(e),Yf(i)):i.bu.set("Unknown")}),Ag.apply(this,arguments)}function Yv(i,e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,pe.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof hd&&2===e.state&&e.cause)try{yield(s=(0,pe.Z)(function*(l,u){const m=u.cause;for(const x of u.targetIds)l.Au.has(x)&&(yield l.remoteSyncer.rejectListen(x,m),l.Au.delete(x),l.Vu.removeTarget(x))}),function(l,u){return s.apply(this,arguments)})(i,e)}catch(s){rn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ja(i,s)}else if(e instanceof cc?i.Vu.Ht(e):e instanceof ll?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(Zn.min()))try{const s=yield wd(i.localStore);t.compareTo(s)>=0&&(yield function(l,u){const m=l.Vu.ce(u);return m.targetChanges.forEach((x,U)=>{if(x.resumeToken.approximateByteSize()>0){const Y=l.Au.get(U);Y&&l.Au.set(U,Y.withResumeToken(x.resumeToken,u))}}),m.targetMismatches.forEach((x,U)=>{const Y=l.Au.get(x);if(!Y)return;l.Au.set(x,Y.withResumeToken(Os.EMPTY_BYTE_STRING,Y.snapshotVersion)),H_(l,x);const ae=new dc(Y.target,x,U,Y.sequenceNumber);Sg(l,ae)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(s){rn("RemoteStore","Failed to raise snapshot:",s),yield ja(i,s)}var s}),Hc.apply(this,arguments)}function ja(i,e,t){return zc.apply(this,arguments)}function zc(){return zc=(0,pe.Z)(function*(i,e,t){if(!$i(e))throw e;i.vu.add(1),yield ku(i),i.bu.set("Offline"),t||(t=()=>wd(i.localStore)),i.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){rn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Ch(i)}))}),zc.apply(this,arguments)}function qv(i,e){return e().catch(t=>ja(i,t,e))}function Ad(i){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,pe.Z)(function*(i){const e=Dn(i),t=Fu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Mg(e);)try{const l=yield jf(e.localStore,s);if(null===l){0===e.Eu.length&&t.jo();break}s=l.batchId,Ah(e,l)}catch(l){yield ja(e,l)}xg(e)&&W_(e)}),Zf.apply(this,arguments)}function Mg(i){return Mo(i)&&i.Eu.length<10}function Ah(i,e){i.Eu.push(e);const t=Fu(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function xg(i){return Mo(i)&&!Fu(i).Uo()&&i.Eu.length>0}function W_(i){Fu(i).start()}function Rg(i){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,pe.Z)(function*(i){Fu(i).hu()}),Gc.apply(this,arguments)}function Xf(i){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,pe.Z)(function*(i){const e=Fu(i);for(const t of i.Eu)e.uu(t.mutations)}),Qf.apply(this,arguments)}function Kv(i,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,pe.Z)(function*(i,e,t){const s=i.Eu.shift(),l=d.from(s,e,t);yield qv(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Ad(i)}),Og.apply(this,arguments)}function Y_(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,pe.Z)(function*(i,e){var t;e&&Fu(i).ou&&(yield(t=(0,pe.Z)(function*(s,l){if(vt(u=l.code)&&u!==Tt.ABORTED){const m=s.Eu.shift();Fu(s).Qo(),yield qv(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield Ad(s)}var u}),function(s,l){return t.apply(this,arguments)})(i,e)),xg(i)&&W_(i)}),Pg.apply(this,arguments)}function Zv(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,pe.Z)(function*(i,e){const t=Dn(i);t.asyncQueue.verifyOperationInProgress(),rn("RemoteStore","RemoteStore received new credentials");const s=Mo(t);t.vu.add(3),yield ku(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ch(t)}),Jf.apply(this,arguments)}function Xv(i,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,pe.Z)(function*(i,e){const t=Dn(i);e?(t.vu.delete(2),yield Ch(t)):e||(t.vu.add(2),yield ku(t),t.bu.set("Unknown"))}),Ng.apply(this,arguments)}function Mh(i){return i.Su||(i.Su=function(e,t,s){const l=Dn(e);return l.fu(),new j_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{uo:z_.bind(null,i),ao:G_.bind(null,i),nu:Yv.bind(null,i)}),i.Ru.push(function(){var e=(0,pe.Z)(function*(t){t?(i.Su.Qo(),qf(i)?Yf(i):i.bu.set("Unknown")):(yield i.Su.stop(),Kf(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Fu(i){return i.Du||(i.Du=function(e,t,s){const l=Dn(e);return l.fu(),new jv(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{uo:Rg.bind(null,i),ao:Y_.bind(null,i),au:Xf.bind(null,i),cu:Kv.bind(null,i)}),i.Ru.push(function(){var e=(0,pe.Z)(function*(t){t?(i.Du.Qo(),yield Ad(i)):(yield i.Du.stop(),i.Eu.length>0&&(rn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class ep{constructor(e,t,s,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,l,u){const m=Date.now()+s,x=new ep(e,t,m,l,u);return x.start(s),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lu(i,e){if(Wi("AsyncQueue",`${e}: ${i}`),$i(i))return new kt(Tt.UNAVAILABLE,`${e}: ${i}`);throw i}class xh{constructor(e){this.comparator=e?(t,s)=>e(t,s)||En.comparator(t.key,s.key):(t,s)=>En.comparator(t.key,s.key),this.keyedMap=Va(),this.sortedSet=new Oi(this.comparator)}static emptySet(e){return new xh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new xh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class kg{constructor(){this.Cu=new Oi(En.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ll{constructor(e,t,s,l,u,m,x,U,Y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=x,this.excludesMetadataChanges=U,this.hasCachedResults=Y}static fromInitialDocuments(e,t,s,l,u){const m=[];return t.forEach(x=>{m.push({type:0,doc:x})}),new Ll(e,t,xh.emptySet(t),m,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class Qv{constructor(){this.Nu=void 0,this.listeners=[]}}class Jv{constructor(){this.queries=new rl(e=>nd(e),td),this.onlineState="Unknown",this.ku=new Set}}function tp(i,e){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,pe.Z)(function*(i,e){const t=Dn(i),s=e.query;let l=!1,u=t.queries.get(s);if(u||(l=!0,u=new Qv),l)try{u.Nu=yield t.onListen(s)}catch(m){const x=Lu(m,`Initialization of query '${mu(e.query)}' failed`);return void e.onError(x)}t.queries.set(s,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&Fg(t)}),Fr.apply(this,arguments)}function np(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,pe.Z)(function*(i,e){const t=Dn(i),s=e.query;let l=!1;const u=t.queries.get(s);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),l=0===u.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),rp.apply(this,arguments)}function Md(i,e){const t=Dn(i);let s=!1;for(const l of e){const m=t.queries.get(l.query);if(m){for(const x of m.listeners)x.$u(l)&&(s=!0);m.Nu=l}}s&&Fg(t)}function ey(i,e,t){const s=Dn(i),l=s.queries.get(e);if(l)for(const u of l.listeners)u.onError(t);s.queries.delete(e)}function Fg(i){i.ku.forEach(e=>{e.next()})}class xd{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Rd{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ip{constructor(e){this.serializer=e}rr(e){return Ua(this.serializer,e)}ur(e){return e.metadata.exists?hv(this.serializer,e.document,!1):Pi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Js(e)}}class Rh{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Gr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new ip(this.serializer);for(const l of e)if(l.metadata.queries){const u=s.rr(l.metadata.name);for(const m of l.metadata.queries){const x=(t.get(m)||Sr()).add(u);t.set(m,x)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function $_(i,e,t,s){return Dh.apply(this,arguments)}(e.localStore,new ip(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const l of e.queries)yield kv(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Lg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class sp{constructor(e){this.key=e}}class op{constructor(e){this.key=e}}class ap{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Sr(),this.mutatedKeys=Sr(),this.tc=Up(e),this.ec=new xh(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new kg,l=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,m=l,x=!1;const U="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Y="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ae,je)=>{const Dt=l.get(ae),Ft=rd(this.query,je)?je:null,fn=!!Dt&&this.mutatedKeys.has(Dt.key),Nn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let Mn=!1;Dt&&Ft?Dt.data.isEqual(Ft.data)?fn!==Nn&&(s.track({type:3,doc:Ft}),Mn=!0):this.rc(Dt,Ft)||(s.track({type:2,doc:Ft}),Mn=!0,(U&&this.tc(Ft,U)>0||Y&&this.tc(Ft,Y)<0)&&(x=!0)):!Dt&&Ft?(s.track({type:0,doc:Ft}),Mn=!0):Dt&&!Ft&&(s.track({type:1,doc:Dt}),Mn=!0,(U||Y)&&(x=!0)),Mn&&(Ft?(m=m.add(Ft),u=Nn?u.add(ae):u.delete(ae)):(m=m.delete(ae),u=u.delete(ae)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ae="F"===this.query.limitType?m.last():m.first();m=m.delete(ae.key),u=u.delete(ae.key),s.track({type:1,doc:ae})}return{ec:m,ic:s,zi:x,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((Y,ae)=>function(je,Dt){const Ft=fn=>{switch(fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pn()}};return Ft(je)-Ft(Dt)}(Y.type,ae.type)||this.tc(Y.doc,ae.doc)),this.oc(s);const m=t?this.uc():[],x=0===this.Zu.size&&this.current?1:0,U=x!==this.Xu;return this.Xu=x,0!==u.length||U?{snapshot:new Ll(this.query,e.ec,l,u,e.mutatedKeys,0===x,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new kg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Sr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new op(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new sp(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Sr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ll.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ty{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Bg{constructor(e){this.key=e,this.fc=!1}}class q_{constructor(e,t,s,l,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new rl(x=>nd(x),td),this._c=new Map,this.mc=new Set,this.gc=new Oi(En.comparator),this.yc=new Map,this.Ic=new Bf,this.Tc={},this.Ec=new Map,this.Ac=Uc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function K_(i,e){return $g.apply(this,arguments)}function $g(){return $g=(0,pe.Z)(function*(i,e){const t=Ph(i);let s,l;const u=t.wc.get(e);if(u)s=u.targetId,t.sharedClientState.addLocalQueryTarget(s),l=u.view.lc();else{const m=yield Fl(t.localStore,$o(e)),x=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,l=yield lp(t,e,s,"current"===x,m.resumeToken),t.isPrimaryClient&&Th(t.remoteStore,m)}return l}),$g.apply(this,arguments)}function lp(i,e,t,s,l){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,pe.Z)(function*(i,e,t,s,l){i.Rc=(je,Dt,Ft)=>{return(fn=(0,pe.Z)(function*(Nn,Mn,Ur,bi){let jr=Mn.view.sc(Ur);jr.zi&&(jr=yield jc(Nn.localStore,Mn.query,!1).then(({documents:Xi})=>Mn.view.sc(Xi,jr)));const as=bi&&bi.targetChanges.get(Mn.targetId),bs=Mn.view.applyChanges(jr,Nn.isPrimaryClient,as);return Oh(Nn,Mn.targetId,bs.cc),bs.snapshot}),function(Nn,Mn,Ur,bi){return fn.apply(this,arguments)})(i,je,Dt,Ft);var fn};const u=yield jc(i.localStore,e,!0),m=new ap(e,u.ir),x=m.sc(u.documents),U=Ol.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,l),Y=m.applyChanges(x,i.isPrimaryClient,U);Oh(i,t,Y.cc);const ae=new ty(e,t,m);return i.wc.set(e,ae),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),Y.snapshot}),Vg.apply(this,arguments)}function Z_(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,pe.Z)(function*(i,e){const t=Dn(i),s=t.wc.get(e),l=t._c.get(s.targetId);if(l.length>1)return t._c.set(s.targetId,l.filter(u=>!td(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ih(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Sh(t.remoteStore,s.targetId),Od(t,s.targetId)}).catch(Wt))):(Od(t,s.targetId),yield Ih(t.localStore,s.targetId,!0))}),Ug.apply(this,arguments)}function cp(){return cp=(0,pe.Z)(function*(i,e,t){const s=nm(i);try{const l=yield function(u,m){const x=Dn(u),U=Yi.now(),Y=m.reduce((Dt,Ft)=>Dt.add(Ft.key),Sr());let ae,je;return x.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let Ft=yo(),fn=Sr();return x.Zi.getEntries(Dt,Y).next(Nn=>{Ft=Nn,Ft.forEach((Mn,Ur)=>{Ur.isValidDocument()||(fn=fn.add(Mn))})}).next(()=>x.localDocuments.getOverlayedDocuments(Dt,Ft)).next(Nn=>{ae=Nn;const Mn=[];for(const Ur of m){const bi=_u(Ur,ae.get(Ur.key).overlayedDocument);null!=bi&&Mn.push(new al(Ur.key,bi,Gs(bi.value.mapValue),os.exists(!0)))}return x.mutationQueue.addMutationBatch(Dt,U,Mn,m)}).next(Nn=>{je=Nn;const Mn=Nn.applyToLocalDocumentSet(ae,fn);return x.documentOverlayCache.saveOverlays(Dt,Nn.batchId,Mn)})}).then(()=>({batchId:je.batchId,changes:Jd(ae)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(u,m,x){let U=u.Tc[u.currentUser.toKey()];U||(U=new Oi(rr)),U=U.insert(m,x),u.Tc[u.currentUser.toKey()]=U}(s,l.batchId,t),yield pc(s,l.changes),yield Ad(s.remoteStore)}catch(l){const u=Lu(l,"Failed to persist write");t.reject(u)}}),cp.apply(this,arguments)}function jg(i,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,pe.Z)(function*(i,e){const t=Dn(i);try{const s=yield function _h(i,e){const t=Dn(i),s=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const x=[];e.targetChanges.forEach((ae,je)=>{const Dt=l.get(je);if(!Dt)return;x.push(t.Bs.removeMatchingKeys(u,ae.removedDocuments,je).next(()=>t.Bs.addMatchingKeys(u,ae.addedDocuments,je)));let Ft=Dt.withSequenceNumber(u.currentSequenceNumber);var fn,Nn,Mn;null!==e.targetMismatches.get(je)?Ft=Ft.withResumeToken(Os.EMPTY_BYTE_STRING,Zn.min()).withLastLimboFreeSnapshotVersion(Zn.min()):ae.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(ae.resumeToken,s)),l=l.insert(je,Ft),Nn=Ft,Mn=ae,(0===(fn=Dt).resumeToken.approximateByteSize()||Nn.snapshotVersion.toMicroseconds()-fn.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&x.push(t.Bs.updateTargetData(u,Ft))});let U=yo(),Y=Sr();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(u,ae))}),x.push(yg(u,m,e.documentUpdates).next(ae=>{U=ae.nr,Y=ae.sr})),!s.isEqual(Zn.min())){const ae=t.Bs.getLastRemoteSnapshotVersion(u).next(je=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,s));x.push(ae)}return He.waitFor(x).next(()=>m.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,U,Y)).next(()=>U)}).then(u=>(t.Ji=l,u))}(t.localStore,e);e.targetChanges.forEach((l,u)=>{const m=t.yc.get(u);m&&(yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.fc=!0:l.modifiedDocuments.size>0?yt(m.fc):l.removedDocuments.size>0&&(yt(m.fc),m.fc=!1))}),yield pc(t,s,e)}catch(s){yield Wt(s)}}),Hg.apply(this,arguments)}function ny(i,e,t){const s=Dn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.wc.forEach((u,m)=>{const x=m.view.Mu(e);x.snapshot&&l.push(x.snapshot)}),function(u,m){const x=Dn(u);x.onlineState=m;let U=!1;x.queries.forEach((Y,ae)=>{for(const je of ae.listeners)je.Mu(m)&&(U=!0)}),U&&Fg(x)}(s.eventManager,e),l.length&&s.dc.nu(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Ra(i,e,t){return zg.apply(this,arguments)}function zg(){return zg=(0,pe.Z)(function*(i,e,t){const s=Dn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.yc.get(e),u=l&&l.key;if(u){let m=new Oi(En.comparator);m=m.insert(u,Pi.newNoDocument(u,Zn.min()));const x=Sr().add(u),U=new $c(Zn.min(),new Map,new Oi(rr),m,x);yield jg(s,U),s.gc=s.gc.remove(u),s.yc.delete(e),qg(s)}else yield Ih(s.localStore,e,!1).then(()=>Od(s,e,t)).catch(Wt)}),zg.apply(this,arguments)}function Q_(i,e){return ry.apply(this,arguments)}function ry(){return ry=(0,pe.Z)(function*(i,e){const t=Dn(i),s=e.batch.batchId;try{const l=yield function Dd(i,e){const t=Dn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(m,x,U,Y){const ae=U.batch,je=ae.keys();let Dt=He.resolve();return je.forEach(Ft=>{Dt=Dt.next(()=>Y.getEntry(x,Ft)).next(fn=>{const Nn=U.docVersions.get(Ft);yt(null!==Nn),fn.version.compareTo(Nn)<0&&(ae.applyToRemoteDocument(fn,U),fn.isValidDocument()&&(fn.setReadTime(U.commitVersion),Y.addEntry(fn)))})}),Dt.next(()=>m.mutationQueue.removeMutationBatch(x,ae))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let x=Sr();for(let U=0;U<m.mutationResults.length;++U)m.mutationResults[U].transformResults.length>0&&(x=x.add(m.batch.mutations[U].key));return x}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}(t.localStore,e);dp(t,s,null),Yg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield pc(t,l)}catch(l){yield Wt(l)}}),ry.apply(this,arguments)}function Gg(i,e,t){return up.apply(this,arguments)}function up(){return up=(0,pe.Z)(function*(i,e,t){const s=Dn(i);try{const l=yield function(u,m){const x=Dn(u);return x.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let Y;return x.mutationQueue.lookupMutationBatch(U,m).next(ae=>(yt(null!==ae),Y=ae.keys(),x.mutationQueue.removeMutationBatch(U,ae))).next(()=>x.mutationQueue.performConsistencyCheck(U)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(U,Y,m)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,Y)).next(()=>x.localDocuments.getDocuments(U,Y))})}(s.localStore,e);dp(s,e,t),Yg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield pc(s,l)}catch(l){yield Wt(l)}}),up.apply(this,arguments)}function Wg(){return Wg=(0,pe.Z)(function*(i,e){const t=Dn(i);Mo(t.remoteStore)||rn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const m=Dn(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>m.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===s)return void e.resolve();const l=t.Ec.get(s)||[];l.push(e),t.Ec.set(s,l)}catch(s){const l=Lu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Wg.apply(this,arguments)}function Yg(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function dp(i,e,t){const s=Dn(i);let l=s.Tc[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),s.Tc[s.currentUser.toKey()]=l}}function Od(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||iy(i,s)})}function iy(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Sh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),qg(i))}function Oh(i,e,t){for(const s of t)s instanceof sp?(i.Ic.addReference(s.key,e),e0(i,s)):s instanceof op?(rn("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||iy(i,s.key)):pn()}function e0(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(rn("SyncEngine","New document in limbo: "+t),i.mc.add(s),qg(i))}function qg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new En(Gr.fromString(e)),s=i.Ac.next();i.yc.set(s,new Bg(t)),i.gc=i.gc.insert(t,s),Th(i.remoteStore,new dc($o(Oc(t.path)),s,"TargetPurposeLimboResolution",js.ct))}}function pc(i,e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,pe.Z)(function*(i,e,t){const s=Dn(i),l=[],u=[],m=[];var x;s.wc.isEmpty()||(s.wc.forEach((x,U)=>{m.push(s.Rc(U,e,t).then(Y=>{if((Y||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,null!=Y&&Y.fromCache?"not-current":"current"),Y){l.push(Y);const ae=mg.Li(U.targetId,Y);u.push(ae)}}))}),yield Promise.all(m),s.dc.nu(l),yield(x=(0,pe.Z)(function*(U,Y){const ae=Dn(U);try{yield ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>He.forEach(Y,Dt=>He.forEach(Dt.Fi,Ft=>ae.persistence.referenceDelegate.addReference(je,Dt.targetId,Ft)).next(()=>He.forEach(Dt.Bi,Ft=>ae.persistence.referenceDelegate.removeReference(je,Dt.targetId,Ft)))))}catch(je){if(!$i(je))throw je;rn("LocalStore","Failed to update sequence numbers: "+je)}for(const je of Y){const Dt=je.targetId;if(!je.fromCache){const Ft=ae.Ji.get(Dt),Nn=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);ae.Ji=ae.Ji.insert(Dt,Nn)}}}),function(U,Y){return x.apply(this,arguments)})(s.localStore,u))}),Kg.apply(this,arguments)}function t0(i,e){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,pe.Z)(function*(i,e){const t=Dn(i);if(!t.currentUser.isEqual(e)){rn("SyncEngine","User change. New user:",e.toKey());const s=yield yh(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(m=>{m.forEach(x=>{x.reject(new kt(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield pc(t,s.er)}var l}),Ha.apply(this,arguments)}function Zg(i,e){const t=Dn(i),s=t.yc.get(e);if(s&&s.fc)return Sr().add(s.key);{let l=Sr();const u=t._c.get(e);if(!u)return l;for(const m of u){const x=t.wc.get(m);l=l.unionWith(x.view.nc)}return l}}function n0(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,pe.Z)(function*(i,e){const t=Dn(i),s=yield jc(t.localStore,e.query,!0),l=e.view.hc(s);return t.isPrimaryClient&&Oh(t,e.targetId,l.cc),l}),hp.apply(this,arguments)}function r0(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,pe.Z)(function*(i,e){const t=Dn(i);return _g(t.localStore,e).then(s=>pc(t,s))}),fp.apply(this,arguments)}function sy(i,e,t,s){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,pe.Z)(function*(i,e,t,s){const l=Dn(i),u=yield function(m,x){const U=Dn(m),Y=Dn(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ae=>Y.Sn(ae,x).next(je=>je?U.localDocuments.getDocuments(ae,je):He.resolve(null)))}(l.localStore,e);var x;null!==u?("pending"===t?yield Ad(l.remoteStore):"acknowledged"===t||"rejected"===t?(dp(l,e,s||null),Yg(l,e),x=e,Dn(Dn(l.localStore).mutationQueue).Cn(x)):pn(),yield pc(l,u)):rn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Pd.apply(this,arguments)}function oy(){return oy=(0,pe.Z)(function*(i,e){const t=Dn(i);if(Ph(t),nm(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield Qg(t,s.toArray());t.vc=!0,yield Xv(t.remoteStore,!0);for(const u of l)Th(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const s=[];let l=Promise.resolve();t._c.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):l=l.then(()=>(Od(t,m),Ih(t.localStore,m,!0))),Sh(t.remoteStore,m)}),yield l,yield Qg(t,s),function(u){const m=Dn(u);m.yc.forEach((x,U)=>{Sh(m.remoteStore,U)}),m.Ic.Ts(),m.yc=new Map,m.gc=new Oi(En.comparator)}(t),t.vc=!1,yield Xv(t.remoteStore,!1)}}),oy.apply(this,arguments)}function Qg(i,e,t){return pp.apply(this,arguments)}function pp(){return pp=(0,pe.Z)(function*(i,e,t){const s=Dn(i),l=[],u=[];for(const m of e){let x;const U=s._c.get(m);if(U&&0!==U.length){x=yield Fl(s.localStore,$o(U[0]));for(const Y of U){const ae=s.wc.get(Y),je=yield n0(s,ae);je.snapshot&&u.push(je.snapshot)}}else{const Y=yield Pv(s.localStore,m);x=yield Fl(s.localStore,Y),yield lp(s,Jg(Y),m,!1,x.resumeToken)}l.push(x)}return s.dc.nu(u),l}),pp.apply(this,arguments)}function Jg(i){return Zd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ay(i){const e=Dn(i);return Dn(Dn(e.localStore).persistence).$i()}function em(i,e,t,s){return dl.apply(this,arguments)}function dl(){return dl=(0,pe.Z)(function*(i,e,t,s){const l=Dn(i);if(l.vc)return void rn("SyncEngine","Ignoring unexpected query state notification.");const u=l._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const m=yield _g(l.localStore,Vp(u[0])),x=$c.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Os.EMPTY_BYTE_STRING);yield pc(l,m,x);break}case"rejected":yield Ih(l.localStore,e,!0),Od(l,e,s);break;default:pn()}}),dl.apply(this,arguments)}function s0(i,e,t){return tm.apply(this,arguments)}function tm(){return tm=(0,pe.Z)(function*(i,e,t){const s=Ph(i);if(s.vc){for(const l of e){if(s._c.has(l)){rn("SyncEngine","Adding an already active target "+l);continue}const u=yield Pv(s.localStore,l),m=yield Fl(s.localStore,u);yield lp(s,Jg(u),m.targetId,!1,m.resumeToken),Th(s.remoteStore,m)}for(const l of t)s._c.has(l)&&(yield Ih(s.localStore,l,!1).then(()=>{Sh(s.remoteStore,l),Od(s,l)}).catch(Wt))}}),tm.apply(this,arguments)}function Ph(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ra.bind(null,e),e.dc.nu=Md.bind(null,e.eventManager),e.dc.Pc=ey.bind(null,e.eventManager),e}function nm(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gg.bind(null,e),e}class Nh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.serializer=Sd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ou(this.persistence,new Uf,e.initialUser,this.serializer)}createPersistence(e){return new $f(vh.zs,this.serializer)}createSharedClientState(e){return new Lv}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bu extends Nh{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,pe.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield nm(s.Vc.syncEngine),yield Ad(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ou(this.persistence,new Uf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new R_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new ko(t,this.persistence);return new Na(e.asyncQueue,s)}createPersistence(e){const t=Id(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Yo.withCacheSize(this.cacheSizeBytes):Yo.DEFAULT;return new pg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Td(),Wf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lv}}class kh extends Bu{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,pe.Z)(function*(){yield t().call(s,e);const l=s.Vc.syncEngine;s.sharedClientState instanceof bd&&(s.sharedClientState.syncEngine={jr:sy.bind(null,l),zr:em.bind(null,l),Wr:s0.bind(null,l),$i:ay.bind(null,l),Qr:r0.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var u=(0,pe.Z)(function*(m){yield function Xg(i,e){return oy.apply(this,arguments)}(s.Vc.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Td();if(!bd.D(t))throw new kt(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Id(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Fh{initialize(e,t){var s=this;return(0,pe.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>ny(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=t0.bind(null,s.syncEngine),yield Xv(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jv}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),s=new Cd(e.databaseInfo);return new Hv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,u=x=>ny(this.syncEngine,x,0),m=$v.D()?new $v:new Bv,new Gv(t,s,l,u,m);var t,s,l,u,m}createSyncEngine(e,t){return function(s,l,u,m,x,U,Y){const ae=new q_(s,l,u,m,x,U);return Y&&(ae.vc=!0),ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const s=Dn(t);rn("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield ku(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function cy(i,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Lh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class uy{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new zr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),l=Number(s);isNaN(l)&&e.Mc(`length string (${s}) is not valid number`);const u=yield e.$c(l);return new Rd(JSON.parse(u),t.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,pe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class o0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new kt(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,pe.Z)(function*(u,m){const x=Dn(u),U=pd(x.serializer)+"/documents",Y={documents:m.map(Ft=>fd(x.serializer,Ft))},ae=yield x.vo("BatchGetDocuments",U,Y,m.length),je=new Map;ae.forEach(Ft=>{const fn=function fv(i,e){return"found"in e?function(t,s){yt(!!s.found);const l=Ua(t,s.found.name),u=Js(s.found.updateTime),m=s.found.createTime?Js(s.found.createTime):Zn.min(),x=new oi({mapValue:{fields:s.found.fields}});return Pi.newFoundDocument(l,u,m,x)}(i,e):"missing"in e?function(t,s){yt(!!s.missing),yt(!!s.readTime);const l=Ua(t,s.missing),u=Js(s.readTime);return Pi.newNoDocument(l,u)}(i,e):pn()}(x.serializer,Ft);je.set(fn.key.toString(),fn)});const Dt=[];return m.forEach(Ft=>{const fn=je.get(Ft.toString());yt(!!fn),Dt.push(fn)}),Dt}),function(u,m){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new oc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const u=En.fromPath(l);e.mutations.push(new dd(u,e.precondition(u)))}),yield(s=(0,pe.Z)(function*(l,u){const m=Dn(l),x=pd(m.serializer)+"/documents",U={writes:u.map(Y=>Vc(m.serializer,Y))};yield m.Io("Commit",x,U)}),function(l,u){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pn();t=Zn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new kt(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zn.min())?os.exists(!1):os.updateTime(t):os.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zn.min()))throw new kt(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return os.updateTime(t)}return os.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a0{constructor(e,t,s,l,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=u,this.Bc=s.maxAttempts,this.qo=new Dg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,pe.Z)(function*(){const t=new o0(e.datastore),s=e.qc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.Uc(u)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const t=this.updateFunction(e);return!Rs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vt(t)}return!1}}class dy{constructor(e,t,s,l){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=ys.UNAUTHENTICATED,this.clientId=Xo.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,pe.Z)(function*(x){rn("FirestoreClient","Received user=",x.uid),yield u.authCredentialListener(x),u.user=x});return function(x){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(rn("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=Lu(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Bh(i,e){return $u.apply(this,arguments)}function $u(){return $u=(0,pe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),rn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,pe.Z)(function*(u){s.isEqual(u)||(yield yh(e.localStore,u),s=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),$u.apply(this,arguments)}function rm(i,e){return mp.apply(this,arguments)}function mp(){return mp=(0,pe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield sm(i);rn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>Zv(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,u)=>Zv(e.remoteStore,u)),i._onlineComponents=e}),mp.apply(this,arguments)}function im(i){return"FirebaseError"===i.name?i.code===Tt.FAILED_PRECONDITION||i.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function sm(i){return om.apply(this,arguments)}function om(){return om=(0,pe.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){rn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!im(t))throw t;ts("Error using user provided cache. Falling back to memory cache: "+t),yield Bh(i,new Nh)}}else rn("FirestoreClient","Using default OfflineComponentProvider"),yield Bh(i,new Nh);return i._offlineComponents}),om.apply(this,arguments)}function Wc(i){return am.apply(this,arguments)}function am(){return am=(0,pe.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(rn("FirestoreClient","Using user provided OnlineComponentProvider"),yield rm(i,i._uninitializedComponentsProvider._online)):(rn("FirestoreClient","Using default OnlineComponentProvider"),yield rm(i,new Fh))),i._onlineComponents}),am.apply(this,arguments)}function hy(i){return sm(i).then(e=>e.persistence)}function vp(i){return sm(i).then(e=>e.localStore)}function fy(i){return Wc(i).then(e=>e.remoteStore)}function lm(i){return Wc(i).then(e=>e.syncEngine)}function Nd(i){return cm.apply(this,arguments)}function cm(){return cm=(0,pe.Z)(function*(i){const e=yield Wc(i),t=e.eventManager;return t.onListen=K_.bind(null,e.syncEngine),t.onUnlisten=Z_.bind(null,e.syncEngine),t}),cm.apply(this,arguments)}function $h(i,e,t={}){const s=new zr;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(l,u,m,x,U){const Y=new Lh({next:je=>{u.enqueueAndForget(()=>np(l,ae));const Dt=je.docs.has(m);!Dt&&je.fromCache?U.reject(new kt(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&je.fromCache&&x&&"server"===x.source?U.reject(new kt(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(je)},error:je=>U.reject(je)}),ae=new xd(Oc(m.path),Y,{includeMetadataChanges:!0,Ku:!0});return tp(l,ae)}(yield Nd(i),i.asyncQueue,e,t,s)})),s.promise}function my(i,e,t={}){const s=new zr;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(l,u,m,x,U){const Y=new Lh({next:je=>{u.enqueueAndForget(()=>np(l,ae)),je.fromCache&&"server"===x.source?U.reject(new kt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(je)},error:je=>U.reject(je)}),ae=new xd(m,Y,{includeMetadataChanges:!0,Ku:!0});return tp(l,ae)}(yield Nd(i),i.asyncQueue,e,t,s)})),s.promise}function vy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const dm=new Map;function yp(i,e,t){if(!t)throw new kt(Tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yy(i,e,t,s){if(!0===e&&!0===s)throw new kt(Tt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function p0(i){if(!En.isDocumentKey(i))throw new kt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hm(i){if(En.isDocumentKey(i))throw new kt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":pn()}function wi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new kt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vh(i);throw new kt(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Uh(i,e){if(e<=0)throw new kt(Tt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class _y{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _y({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _y(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ns;switch(t.type){case"firstParty":return new Dc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new kt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dm.get(e);t&&(rn("ComponentProvider","Removing Datastore"),dm.delete(e),t.terminate())}(this),Promise.resolve()}}class Ps{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ps(this.firestore,e,this._key)}}class Ds{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class va extends Ds{constructor(e,t,s){super(e,t,Oc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ps(this.firestore,null,new En(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function Uo(i,e,...t){if(i=(0,me.m9)(i),yp("collection","path",e),i instanceof jh){const s=Gr.fromString(e,...t);return hm(s),new va(i,null,s)}{if(!(i instanceof Ps||i instanceof va))throw new kt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Gr.fromString(e,...t));return hm(s),new va(i.firestore,null,s)}}function Uu(i,e,...t){if(i=(0,me.m9)(i),1===arguments.length&&(e=Xo.A()),yp("doc","path",e),i instanceof jh){const s=Gr.fromString(e,...t);return p0(s),new Ps(i,null,new En(s))}{if(!(i instanceof Ps||i instanceof va))throw new kt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Gr.fromString(e,...t));return p0(s),new Ps(i.firestore,i instanceof va?i.converter:null,new En(s))}}function Oa(i,e){return i=(0,me.m9)(i),e=(0,me.m9)(e),(i instanceof Ps||i instanceof va)&&(e instanceof Ps||e instanceof va)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Hh(i,e){return i=(0,me.m9)(i),e=(0,me.m9)(e),i instanceof Ds&&e instanceof Ds&&i.firestore===e.firestore&&td(i._query,e._query)&&i.converter===e.converter}class kd{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Dg(this,"async_queue_retry"),this.Xc=()=>{const t=Wf();t&&rn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Wf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Wf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new zr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,pe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!$i(t))throw t;rn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Wi("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=ep.createAndSchedule(this,e,t,s,u=>this.na(u));return this.zc.push(l),l}Zc(){this.Wc&&pn()}verifyOperationInProgress(){}sa(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Yc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class Fd{constructor(){this._progressObserver={},this._taskCompletionResolver=new zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zi extends jh{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new kd,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ju(this),this._firestoreClient.terminate()}}function ws(i){return i._firestoreClient||ju(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ju(i){var e,t,s;const l=i._freezeSettings(),u=(x=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Tl(i._databaseId,x,i._persistenceKey,(Y=l).host,Y.ssl,Y.experimentalForceLongPolling,Y.experimentalAutoDetectLongPolling,vy(Y.experimentalLongPollingOptions),Y.useFetchStreams));var x,Y;i._firestoreClient=new dy(i._authCredentials,i._appCheckCredentials,i._queue,u),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=l.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function fm(i,e,t){const s=new zr;return i.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield Bh(i,t),yield rm(i,e),s.resolve()}catch(l){const u=l;if(!im(u))throw u;ts("Error enabling indexeddb cache. Falling back to memory cache: "+u),s.reject(u)}})).then(()=>s.promise)}function Sy(i){if(i._initialized||i._terminated)throw new kt(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(Os.fromBase64String(e))}catch(t){throw new kt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bl(Os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hu{constructor(e){this._methodName=e}}class gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}}const m0=/^__.*__$/;class v0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new al(e,this.data,this.fieldMask,t,this.fieldTransforms):new ol(e,this.data,t,this.fieldTransforms)}}class Ay{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ep(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pn()}}class qc{constructor(e,t,s,l,u,m){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new qc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:s,la:!1});return l.fa(e),l}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:s,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Zh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ep(this.ca)&&m0.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mm{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sd(e)}ya(e,t,s,l=!1){return new qc({ca:e,methodName:t,ga:s,path:qi.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $l(i){const e=i._freezeSettings(),t=Sd(i._databaseId);return new mm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Wh(i,e,t,s,l,u={}){const m=i.ya(u.merge||u.mergeFields?2:0,e,t,l);Em("Data must be an object, but it was:",m,s);const x=qh(s,m);let U,Y;if(u.merge)U=new io(m.fieldMask),Y=m.fieldTransforms;else if(u.mergeFields){const ae=[];for(const je of u.mergeFields){const Dt=Kh(e,je,t);if(!m.contains(Dt))throw new kt(Tt.INVALID_ARGUMENT,`Field '${Dt}' is specified in your field mask but missing from your input data.`);My(ae,Dt)||ae.push(Dt)}U=new io(ae),Y=m.fieldTransforms.filter(je=>U.covers(je.field))}else U=null,Y=m.fieldTransforms;return new v0(new oi(x),U,Y)}class mc extends Hu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mc}}function vm(i,e,t){return new qc({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ym extends Hu{_toFieldTransform(e){return new Lc(e.path,new Fc)}isEqual(e){return e instanceof ym}}class Yh extends Hu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vm(this,e,!0),s=this.pa.map(u=>Vl(u,t)),l=new il(s);return new Lc(e.path,l)}isEqual(e){return this===e}}class y0 extends Hu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vm(this,e,!0),s=this.pa.map(u=>Vl(u,t)),l=new sl(s);return new Lc(e.path,l)}isEqual(e){return this===e}}class _0 extends Hu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new xl(e.serializer,kc(e.serializer,this.Ia));return new Lc(e.path,t)}isEqual(e){return this===e}}function _m(i,e,t,s){const l=i.ya(1,e,t);Em("Data must be an object, but it was:",l,s);const u=[],m=oi.empty();Fo(s,(U,Y)=>{const ae=wp(e,U,t);Y=(0,me.m9)(Y);const je=l.da(ae);if(Y instanceof mc)u.push(ae);else{const Dt=Vl(Y,je);null!=Dt&&(u.push(ae),m.set(ae,Dt))}});const x=new io(u);return new Ay(m,x,l.fieldTransforms)}function Im(i,e,t,s,l,u){const m=i.ya(1,e,t),x=[Kh(e,s,t)],U=[l];if(u.length%2!=0)throw new kt(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Dt=0;Dt<u.length;Dt+=2)x.push(Kh(e,u[Dt])),U.push(u[Dt+1]);const Y=[],ae=oi.empty();for(let Dt=x.length-1;Dt>=0;--Dt)if(!My(Y,x[Dt])){const Ft=x[Dt];let fn=U[Dt];fn=(0,me.m9)(fn);const Nn=m.da(Ft);if(fn instanceof mc)Y.push(Ft);else{const Mn=Vl(fn,Nn);null!=Mn&&(Y.push(Ft),ae.set(Ft,Mn))}}const je=new io(Y);return new Ay(ae,je,m.fieldTransforms)}function Dp(i,e,t,s=!1){return Vl(t,i.ya(s?4:3,e))}function Vl(i,e){if(I0(i=(0,me.m9)(i)))return Em("Unsupported field value:",e,i),qh(i,e);if(i instanceof Hu)return function(t,s){if(!Ep(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const l=[];let u=0;for(const m of t){let x=Vl(m,s.wa(u));null==x&&(x={nullValue:"NULL_VALUE"}),l.push(x),u++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,me.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Yi.fromDate(t);return{timestampValue:Du(s.serializer,l)}}if(t instanceof Yi){const l=new Yi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Du(s.serializer,l)}}if(t instanceof gm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bl)return{bytesValue:sh(s.serializer,t._byteString)};if(t instanceof Ps){const l=s.databaseId,u=t.firestore._databaseId;if(!u.isEqual(l))throw s._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ah(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Vh(t)}`)}(i,e)}function qh(i,e){const t={};return ka(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(i,(s,l)=>{const u=Vl(l,e.ha(s));null!=u&&(t[s]=u)}),{mapValue:{fields:t}}}function I0(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Yi||i instanceof gm||i instanceof Bl||i instanceof Ps||i instanceof Hu)}function Em(i,e,t){if(!I0(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Vh(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Kh(i,e,t){if((e=(0,me.m9)(e))instanceof gc)return e._internalPath;if("string"==typeof e)return wp(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Dm=new RegExp("[~\\*/\\[\\]]");function wp(i,e,t){if(e.search(Dm)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Zh(i,e,t,s,l){const u=s&&!s.isEmpty(),m=void 0!==l;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let U="";return(u||m)&&(U+=" (found",u&&(U+=` in field ${s}`),m&&(U+=` in document ${l}`),U+=")"),new kt(Tt.INVALID_ARGUMENT,x+i+U)}function My(i,e){return i.some(t=>t.isEqual(e))}class Xh{constructor(e,t,s,l,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xy extends Xh{data(){return super.data()}}function Qh(i,e){return"string"==typeof e?wp(i,e):e instanceof gc?e._internalPath:e._delegate._internalPath}function wm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new kt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class Jh extends bm{}function Kc(i,e,...t){let s=[];e instanceof bm&&s.push(e),s=s.concat(t),function(l){const u=l.filter(x=>x instanceof Zc).length,m=l.filter(x=>x instanceof Bd).length;if(u>1||u>0&&m>0)throw new kt(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Bd extends Jh{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Bd(e,t,s)}_apply(e){const t=this._parse(e);return Rm(e._query,t),new Ds(e.firestore,e.converter,rc(e._query,t))}_parse(e){const t=$l(e.firestore);return function(l,u,m,x,U,Y,ae){let je;if(U.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new kt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){Cp(ae,Y);const Dt=[];for(const Ft of ae)Dt.push(xm(x,l,Ft));je={arrayValue:{values:Dt}}}else je=xm(x,l,ae)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||Cp(ae,Y),je=Dp(m,"where",ae,"in"===Y||"not-in"===Y);return di.create(U,Y,je)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Zc extends bm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,l){let u=s;const m=l.getFlattenedFilters();for(const x of m)Rm(u,x),u=rc(u,x)}(e._query,t),new Ds(e.firestore,e.converter,rc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $d extends Jh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $d(e,t)}_apply(e){const t=function(s,l,u){if(null!==s.startAt)throw new kt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new kt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new nl(l,u);return function(x,U){if(null===If(x)){const Y=Pc(x);null!==Y&&Tp(0,Y,U.field)}}(s,m),m}(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new ga(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class ef extends Jh{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new ef(e,t,s)}_apply(e){return new Ds(e.firestore,e.converter,gu(e._query,this._limit,this._limitType))}}class bp extends Jh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new bp(e,t,s)}_apply(e){const t=Oy(e,this.type,this._docOrFields,this._inclusive);return new Ds(e.firestore,e.converter,(l=t,new ga((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class Vd extends Jh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Vd(e,t,s)}_apply(e){const t=Oy(e,this.type,this._docOrFields,this._inclusive);return new Ds(e.firestore,e.converter,(l=t,new ga((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function Oy(i,e,t,s){if(t[0]=(0,me.m9)(t[0]),t[0]instanceof Xh)return function(l,u,m,x,U){if(!x)throw new kt(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const Y=[];for(const ae of nc(l))if(ae.field.isKeyField())Y.push(N(u,x.key));else{const je=x.data.field(ae.field);if(Ma(je))throw new kt(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const Dt=ae.field.canonicalString();throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}Y.push(je)}return new Ws(Y,U)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=$l(i.firestore);return function(u,m,x,U,Y,ae){const je=u.explicitOrderBy;if(Y.length>je.length)throw new kt(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let Ft=0;Ft<Y.length;Ft++){const fn=Y[Ft];if(je[Ft].field.isKeyField()){if("string"!=typeof fn)throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof fn}`);if(!ed(u)&&-1!==fn.indexOf("/"))throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${fn}' contains a slash.`);const Nn=u.path.child(Gr.fromString(fn));if(!En.isDocumentKey(Nn))throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${Nn}' is not because it contains an odd number of segments.`);const Mn=new En(Nn);Dt.push(N(m,Mn))}else{const Nn=Dp(x,U,fn);Dt.push(Nn)}}return new Ws(Dt,ae)}(i._query,i.firestore._databaseId,l,e,t,s)}}function xm(i,e,t){if("string"==typeof(t=(0,me.m9)(t))){if(""===t)throw new kt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ed(e)&&-1!==t.indexOf("/"))throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Gr.fromString(t));if(!En.isDocumentKey(s))throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return N(i,new En(s))}if(t instanceof Ps)return N(i,t._key);throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(t)}.`)}function Cp(i,e){if(!Array.isArray(i)||0===i.length)throw new kt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rm(i,e){if(e.isInequality()){const s=Pc(i),l=e.field;if(null!==s&&!s.isEqual(l))throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const u=If(i);null!==u&&Tp(0,l,u)}const t=function(s,l){for(const u of s)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new kt(Tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Tp(i,e,t){if(!t.isEqual(e))throw new kt(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Pm{convertValue(e,t="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Fo(e,(l,u)=>{s[l]=this.convertValue(u,t)}),s}convertGeoPoint(e){return new gm(Ki(e.latitude),Ki(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Wo(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){const t=ea(e);return new Yi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Gr.fromString(e);yt(qp(s));const l=new Ba(s.get(1),s.get(3)),u=new En(s.popFirst(5));return l.isEqual(t)||Wi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function tf(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Py extends Pm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ps(this.firestore,null,t)}}class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends Xh{constructor(e,t,s,l,u,m){super(e,t,s,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Qh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ud extends hl{data(e={}){return super.data(e)}}class yc{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new vc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ud(this._firestore,this._userDataWriter,s.key,s,new vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new Ud(s._firestore,s._userDataWriter,m.doc.key,m.doc,new vc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const x=new Ud(s._firestore,s._userDataWriter,m.doc.key,m.doc,new vc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,Y=-1;return 0!==m.type&&(U=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),Y=u.indexOf(m.doc.key)),{type:Ny(m.type),doc:x,oldIndex:U,newIndex:Y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ny(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pn()}}function Nm(i,e){return i instanceof hl&&e instanceof hl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof yc&&e instanceof yc&&i._firestore===e._firestore&&Hh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class _c extends Pm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ps(this.firestore,null,t)}}function By(i,e,t){i=wi(i,Ps);const s=wi(i.firestore,Zi),l=tf(i.converter,e,t);return nf(s,[Wh($l(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,os.none())])}function Ap(i,e,t,...s){i=wi(i,Ps);const l=wi(i.firestore,Zi),u=$l(l);let m;return m="string"==typeof(e=(0,me.m9)(e))||e instanceof gc?Im(u,"updateDoc",i._key,e,t,s):_m(u,"updateDoc",i._key,e),nf(l,[m.toMutation(i._key,os.exists(!0))])}function $y(i,...e){var t,s,l;i=(0,me.m9)(i);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Yc(e[m])||(u=e[m],m++);const x={includeMetadataChanges:u.includeMetadataChanges};if(Yc(e[m])){const je=e[m];e[m]=null===(t=je.next)||void 0===t?void 0:t.bind(je),e[m+1]=null===(s=je.error)||void 0===s?void 0:s.bind(je),e[m+2]=null===(l=je.complete)||void 0===l?void 0:l.bind(je)}let U,Y,ae;if(i instanceof Ps)Y=wi(i.firestore,Zi),ae=Oc(i._key.path),U={next:je=>{e[m]&&e[m](Vy(Y,i,je))},error:e[m+1],complete:e[m+2]};else{const je=wi(i,Ds);Y=wi(je.firestore,Zi),ae=je._query;const Dt=new _c(Y);U={next:Ft=>{e[m]&&e[m](new yc(Y,Dt,je,Ft))},error:e[m+1],complete:e[m+2]},wm(i._query)}return function(je,Dt,Ft,fn){const Nn=new Lh(fn),Mn=new xd(Dt,Nn,Ft);return je.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return tp(yield Nd(je),Mn)})),()=>{Nn.Dc(),je.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return np(yield Nd(je),Mn)}))}}(ws(Y),ae,x,U)}function nf(i,e){return function(t,s){const l=new zr;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function X_(i,e,t){return cp.apply(this,arguments)}(yield lm(t),s,l)})),l.promise}(ws(i),e)}function Vy(i,e,t){const s=t.docs.get(e._key),l=new _c(i);return new hl(i,l,e._key,s,new vc(t.hasPendingWrites,t.fromCache),e.converter)}const P0={maxAttempts:5};class Lm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$l(e)}set(e,t,s){this._verifyNotCommitted();const l=Qc(e,this._firestore),u=tf(l.converter,t,s),m=Wh(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,s);return this._mutations.push(m.toMutation(l._key,os.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const u=Qc(e,this._firestore);let m;return m="string"==typeof(t=(0,me.m9)(t))||t instanceof gc?Im(this._dataReader,"WriteBatch.update",u._key,t,s,l):_m(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,os.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qc(e,this._firestore);return this._mutations=this._mutations.concat(new oc(t._key,os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qc(i,e){if((i=(0,me.m9)(i)).firestore!==e)throw new kt(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Gy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=$l(e)}get(e){const t=Qc(e,this._firestore),s=new Py(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return pn();const u=l[0];if(u.isFoundDocument())return new Xh(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new Xh(this._firestore,s,t._key,null,t.converter);throw pn()})}set(e,t,s){const l=Qc(e,this._firestore),u=tf(l.converter,t,s),m=Wh(this._dataReader,"Transaction.set",l._key,u,null!==l.converter,s);return this._transaction.set(l._key,m),this}update(e,t,s,...l){const u=Qc(e,this._firestore);let m;return m="string"==typeof(t=(0,me.m9)(t))||t instanceof gc?Im(this._dataReader,"Transaction.update",u._key,t,s,l):_m(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,m),this}delete(e){const t=Qc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qc(e,this._firestore),s=new _c(this._firestore);return super.get(e).then(l=>new hl(this._firestore,s,t._key,l._document,new vc(!1,!1),t.converter))}}function $m(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ky(){if(typeof Uint8Array>"u")throw new kt("unimplemented","Uint8Arrays are not available in this environment.")}function Zy(){if(!function Cl(){return typeof atob<"u"}())throw new kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){gl=_t.SDK_VERSION,(0,_t._registerComponent)(new ve.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const u=t.getProvider("app").getImmediate(),m=new Zi(new Qa(t.getProvider("auth-internal")),new Us(t.getProvider("app-check-internal")),function(x,U){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new kt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(x.options.projectId,U)}(u,s),u);return l=Object.assign({useFetchStreams:e},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),(0,_t.registerVersion)(Wl,"3.13.0",i),(0,_t.registerVersion)(Wl,"3.13.0","esm2017")}();class rf{constructor(e){this._delegate=e}static fromBase64String(e){return Zy(),new rf(Bl.fromBase64String(e))}static fromUint8Array(e){return Ky(),new rf(Bl.fromUint8Array(e))}toBase64(){return Zy(),this._delegate.toBase64()}toUint8Array(){return Ky(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sf(i){return function af(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class F0{enableIndexedDbPersistence(e,t){return function Iy(i,e){Sy(i=wi(i,Zi));const t=ws(i);if(t._uninitializedComponentsProvider)throw new kt(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new Fh;return fm(t,l,new Bu(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ey(i){Sy(i=wi(i,Zi));const e=ws(i);if(e._uninitializedComponentsProvider)throw new kt(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");ts("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new Fh;return fm(e,s,new kh(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Dy(i){if(i._initialized&&!i._terminated)throw new kt(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(s){if(!xr.D())return Promise.resolve();const l=s+"main";yield xr.delete(l)}),function(s){return t.apply(this,arguments)})(Id(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Vm{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ba||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function _p(i,e,t,s={}){var l;const u=(i=wi(i,jh))._getSettings(),m=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==m&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:m,ssl:!1})),s.mockUserToken){let x,U;if("string"==typeof s.mockUserToken)x=s.mockUserToken,U=ys.MOCK_USER;else{x=(0,me.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const Y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Y)throw new kt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new ys(Y)}i._authCredentials=new Sa(new Ta(x,U))}}(this._delegate,e,t,s)}enableNetwork(){return function by(i){return function gy(i){return i.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield hy(i),t=yield fy(i);return e.setNetworkEnabled(!0),function(s){const l=Dn(s);return l.vu.delete(0),Ch(l)}(t)}))}(ws(i=wi(i,Zi)))}(this._delegate)}disableNetwork(){return function Cy(i){return function um(i){return i.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield hy(i),t=yield fy(i);return e.setNetworkEnabled(!1),(s=(0,pe.Z)(function*(l){const u=Dn(l);u.vu.add(0),yield ku(u),u.bu.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(ws(i=wi(i,Zi)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,yy("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wy(i){return function(e){const t=new zr;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function J_(i,e){return Wg.apply(this,arguments)}(yield lm(e),t)})),t.promise}(ws(i=wi(i,Zi)))}(this._delegate)}onSnapshotsInSync(e){return function Fm(i,e){return function u0(i,e){const t=new Lh(e);return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return s=yield Nd(i),l=t,Dn(s).ku.add(l),void l.next();var s,l})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return s=yield Nd(i),l=t,void Dn(s).ku.delete(l);var s,l}))}}(ws(i=wi(i,Zi)),Yc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jc(this,Uo(this._delegate,e))}catch(t){throw Ko(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ga(this,Uu(this._delegate,e))}catch(t){throw Ko(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jo(this,function Vu(i,e){if(i=wi(i,jh),yp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kt(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ds(i,null,(t=e,new ga(Gr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ko(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UI(i,e,t){i=wi(i,Zi);const s=Object.assign(Object.assign({},P0),t);return function(l){if(l.maxAttempts<1)throw new kt(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,u,m){const x=new zr;return l.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const U=yield function py(i){return Wc(i).then(e=>e.datastore)}(l);new a0(l.asyncQueue,U,m,u,x).run()})),x.promise}(ws(i),l=>e(new Gy(i,l)),s)}(this._delegate,t=>e(new Um(this,t)))}batch(){return ws(this._delegate),new jm(new Lm(this._delegate,e=>nf(this._delegate,e)))}loadBundle(e){return function Ty(i,e){const t=ws(i=wi(i,Zi)),s=new Fd;return function d0(i,e,t,s){const l=function(u,m){let x;return x="string"==typeof u?Vn().encode(u):u,U=function(U,Y){if(U instanceof Uint8Array)return cy(U,Y);if(U instanceof ArrayBuffer)return cy(new Uint8Array(U),Y);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new uy(U,m);var U}(t,Sd(e));i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function ly(i,e,t){const s=Dn(i);var l;(l=(0,pe.Z)(function*(u,m,x){try{const U=yield m.getMetadata();if(yield function(Dt,Ft){const fn=Dn(Dt),Nn=Js(Ft.createTime);return fn.persistence.runTransaction("hasNewerBundle","readonly",Mn=>fn.qs.getBundleMetadata(Mn,Ft.id)).then(Mn=>!!Mn&&Mn.createTime.compareTo(Nn)>=0)}(u.localStore,U))return yield m.close(),x._completeWith({taskState:"Success",documentsLoaded:(Dt=U).totalDocuments,bytesLoaded:Dt.totalBytes,totalDocuments:Dt.totalDocuments,totalBytes:Dt.totalBytes}),Promise.resolve(new Set);x._updateProgress(Lg(U));const Y=new Rh(U,u.localStore,m.serializer);let ae=yield m.bc();for(;ae;){const Dt=yield Y.zu(ae);Dt&&x._updateProgress(Dt),ae=yield m.bc()}const je=yield Y.complete();return yield pc(u,je.Ju,void 0),yield function(Dt,Ft){const fn=Dn(Dt);return fn.persistence.runTransaction("Save bundle","readwrite",Nn=>fn.qs.saveBundleMetadata(Nn,Ft))}(u.localStore,U),x._completeWith(je.progress),Promise.resolve(je.Hu)}catch(U){return ts("SyncEngine",`Loading bundle failed with ${U}`),x._failWith(U),Promise.resolve(new Set)}var Dt}),function(u,m,x){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield lm(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function pm(i,e){return function h0(i,e){return i.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,s){const l=Dn(t);return l.persistence.runTransaction("Get named query","readonly",u=>l.qs.getNamedQuery(u,s))}(yield vp(i),e)}))}(ws(i=wi(i,Zi)),e).then(t=>t?new Ds(i,null,t.query):null)}(this._delegate,e).then(t=>t?new jo(this,t):null)}}class Mp extends Pm{constructor(e){super(),this.firestore=e}convertBytes(e){return new rf(new Bl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ga.forKey(t,this.firestore,null)}}class Um{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Mp(e)}get(e){const t=eu(e);return this._delegate.get(t).then(s=>new lf(this._firestore,new hl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=eu(e);return s?($m("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const u=eu(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...l),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}}class jm{constructor(e){this._delegate=e}set(e,t,s){const l=eu(e);return s?($m("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const u=eu(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...l),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hl{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Ud(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cf(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Hl.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let u=l.get(t);return u||(u=new Hl(e,new Mp(e),t),l.set(t,u)),u}}Hl.INSTANCES=new WeakMap;class Ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mp(e)}static forPath(e,t,s){if(e.length%2!=0)throw new kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ga(t,new Ps(t._delegate,s,new En(e)))}static forKey(e,t,s){return new Ga(t,new Ps(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Jc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jc(this.firestore,Uo(this._delegate,e))}catch(t){throw Ko(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,me.m9)(e))instanceof Ps&&Oa(this._delegate,e)}set(e,t){t=$m("DocumentReference.set",t);try{return t?By(this._delegate,e,t):By(this._delegate,e)}catch(s){throw Ko(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Ap(this._delegate,e):Ap(this._delegate,e,t,...s)}catch(l){throw Ko(l,"updateDoc()","DocumentReference.update()")}}delete(){return function zu(i){return nf(wi(i.firestore,Zi),[new oc(i._key,os.none())])}(this._delegate)}onSnapshot(...e){const t=Hm(e),s=zm(e,l=>new lf(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return $y(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Fy(i){i=wi(i,Ps);const e=wi(i.firestore,Zi),t=ws(e),s=new _c(e);return function l0(i,e){const t=new zr;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(s=(0,pe.Z)(function*(l,u,m){try{const x=yield function(U,Y){const ae=Dn(U);return ae.persistence.runTransaction("read document","readonly",je=>ae.localDocuments.getDocument(je,Y))}(l,u);x.isFoundDocument()?m.resolve(x):x.isNoDocument()?m.resolve(null):m.reject(new kt(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const U=Lu(x,`Failed to get document '${u} from cache`);m.reject(U)}}),function(l,u,m){return s.apply(this,arguments)})(yield vp(i),e,t);var s})),t.promise}(t,i._key).then(l=>new hl(e,s,i._key,l,new vc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ly(i){i=wi(i,Ps);const e=wi(i.firestore,Zi);return $h(ws(e),i._key,{source:"server"}).then(t=>Vy(e,i,t))}(this._delegate):function ky(i){i=wi(i,Ps);const e=wi(i.firestore,Zi);return $h(ws(e),i._key).then(t=>Vy(e,i,t))}(this._delegate),t.then(s=>new lf(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ga(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}function Ko(i,e,t){return i.message=i.message.replace(e,t),i}function Hm(i){for(const e of i)if("object"==typeof e&&!sf(e))return e;return{}}function zm(i,e){var t,s;let l;return l=sf(i[0])?i[0]:sf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class lf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Nm(this._delegate,e._delegate)}}class cf extends lf{data(e){const t=this._delegate.data(e);return function Xr(i,e){i||pn()}(void 0!==t),t}}class jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mp(e)}where(e,t,s){try{return new jo(this.firestore,Kc(this._delegate,function Cm(i,e,t){const s=e,l=Qh("where",i);return Bd._create(l,s,t)}(e,t,s)))}catch(l){throw Ko(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jo(this.firestore,Kc(this._delegate,function Sm(i,e="asc"){const t=e,s=Qh("orderBy",i);return $d._create(s,t)}(e,t)))}catch(s){throw Ko(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jo(this.firestore,Kc(this._delegate,function E0(i){return Uh("limit",i),ef._create("limit",i,"F")}(e)))}catch(t){throw Ko(t,"limit()","Query.limit()")}}limitToLast(e){try{return new jo(this.firestore,Kc(this._delegate,function D0(i){return Uh("limitToLast",i),ef._create("limitToLast",i,"L")}(e)))}catch(t){throw Ko(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jo(this.firestore,Kc(this._delegate,function Am(...i){return bp._create("startAt",i,!0)}(...e)))}catch(t){throw Ko(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jo(this.firestore,Kc(this._delegate,function Mm(...i){return bp._create("startAfter",i,!1)}(...e)))}catch(t){throw Ko(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jo(this.firestore,Kc(this._delegate,function Ry(...i){return Vd._create("endBefore",i,!1)}(...e)))}catch(t){throw Ko(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jo(this.firestore,Kc(this._delegate,function w0(...i){return Vd._create("endAt",i,!0)}(...e)))}catch(t){throw Ko(t,"endAt()","Query.endAt()")}}isEqual(e){return Hh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Xc(i){i=wi(i,Ds);const e=wi(i.firestore,Zi),t=ws(e),s=new _c(e);return function c0(i,e){const t=new zr;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(s=(0,pe.Z)(function*(l,u,m){try{const x=yield jc(l,u,!0),U=new ap(u,x.ir),Y=U.sc(x.documents),ae=U.applyChanges(Y,!1);m.resolve(ae.snapshot)}catch(x){const U=Lu(x,`Failed to execute query '${u} against cache`);m.reject(U)}}),function(l,u,m){return s.apply(this,arguments)})(yield vp(i),e,t);var s})),t.promise}(t,i._query).then(l=>new yc(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function M0(i){i=wi(i,Ds);const e=wi(i.firestore,Zi),t=ws(e),s=new _c(e);return my(t,i._query,{source:"server"}).then(l=>new yc(e,s,i,l))}(this._delegate):function Sp(i){i=wi(i,Ds);const e=wi(i.firestore,Zi),t=ws(e),s=new _c(e);return wm(i._query),my(t,i._query).then(l=>new yc(e,s,i,l))}(this._delegate),t.then(s=>new Rp(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Hm(e),s=zm(e,l=>new Rp(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return $y(this._delegate,t,s)}withConverter(e){return new jo(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}class xp{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new xp(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new cf(this._firestore,s))})}isEqual(e){return Nm(this._delegate,e._delegate)}}class Jc extends jo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ga(this.firestore,e):null}doc(e){try{return new Ga(this.firestore,void 0===e?Uu(this._delegate):Uu(this._delegate,e))}catch(t){throw Ko(t,"doc()","CollectionReference.doc()")}}add(e){return function km(i,e){const t=wi(i.firestore,Zi),s=Uu(i),l=tf(i.converter,e);return nf(t,[Wh($l(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,os.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ga(this.firestore,t))}isEqual(e){return Oa(this._delegate,e._delegate)}withConverter(e){return new Jc(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}function eu(i){return wi(i,Ps)}class Op{constructor(...e){this._delegate=new gc(...e)}static documentId(){return new Op(qi.keyField().canonicalString())}isEqual(e){return(e=(0,me.m9)(e))instanceof gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class tu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Bm(){return new ym("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tu(e)}static delete(){const e=function Wy(){return new mc("deleteField")}();return e._methodName="FieldValue.delete",new tu(e)}static arrayUnion(...e){const t=function Ul(...i){return new Yh("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new tu(t)}static arrayRemove(...e){const t=function N0(...i){return new y0("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new tu(t)}static increment(e){const t=function k0(i){return new _0("increment",i)}(e);return t._methodName="FieldValue.increment",new tu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Xy={Firestore:Vm,GeoPoint:gm,Timestamp:Yi,Blob:rf,Transaction:Um,WriteBatch:jm,DocumentReference:Ga,DocumentSnapshot:lf,Query:jo,QueryDocumentSnapshot:cf,QuerySnapshot:Rp,CollectionReference:Jc,FieldPath:Op,FieldValue:tu,setLogLevel:function L0(i){!function vo(i){mo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Jy(i){(function Qy(i,e){i.INTERNAL.registerComponent(new ve.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},Xy)))})(i,(e,t)=>new Vm(e,t,new F0)),i.registerVersion("@firebase/firestore-compat","0.3.12")}(Ae.Z);var nu=O(6796),B0=O(8697),$0=O(7142);function e_(i,e){return function V0(i,e=p.z){return new Q.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function Gm(i,e){return e_(i,e).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function Pp(i,e){return Gm(i,e).pipe((0,fe.O)(void 0),_e(),(0,se.U)(([t,s])=>{const l=s.payload.docChanges(),u=l.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,x)=>{const U=l.find(ae=>ae.doc.ref.isEqual(m.ref)),Y=null==t?void 0:t.payload.docs.find(ae=>ae.ref.isEqual(m.ref));U&&JSON.stringify(U.doc.metadata)===JSON.stringify(m.metadata)||!U&&Y&&JSON.stringify(Y.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:m}})}),u}))}function t_(i,e,t){return Pp(i,t).pipe((0,Oe.R)((s,l)=>function j0(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function H0(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Wm(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Wm(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Wm(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(u=>u.payload),e),[]),(0,xe.x)(),(0,se.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Wm(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function n_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class r_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Pp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,se.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,fe.O)(void 0),_e(),(0,ke.h)(([s,l])=>l.length>0||!s),(0,se.U)(([s,l])=>l),Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Oe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=n_(e);return t_(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ce.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(Ce.iC)}add(e){return this.ref.add(e)}doc(e){return new i_(this.ref.doc(e),this.afs)}}class i_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:u}=Ym(s,t);return new r_(l,u,this.afs)}snapshotChanges(){return function U0(i,e){return e_(i,e).pipe((0,fe.O)(void 0),_e(),(0,se.U)(([t,s])=>s.exists?null!=t&&t.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,le.D)(this.ref.get(e)).pipe(Ce.iC)}}class z0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Pp(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ke.h)(t=>t.length>0),Ce.iC):Pp(this.query,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Oe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=n_(e);return t_(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Ce.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(Ce.iC)}}const s_=new g.OlP("angularfire2.enableFirestorePersistence"),o_=new g.OlP("angularfire2.firestore.persistenceSettings"),a_=new g.OlP("angularfire2.firestore.settings"),l_=new g.OlP("angularfire2.firestore.use-emulator");function Ym(i,e=(t=>t)){return{query:e(i),ref:i}}let qm=(()=>{class i{constructor(t,s,l,u,m,x,U,Y,ae,je,Dt,Ft,fn,Nn,Mn,Ur,bi){this.schedulers=U;const jr=(0,Ke.on)(t,x,s),as=ae;je&&(0,nu.nw)(jr,x,Dt,fn,Nn,Mn,Ft,Ur),[this.firestore,this.persistenceEnabled$]=(0,Ke.cc)(`${jr.name}.firestore`,"AngularFirestore",jr.name,()=>{const bs=x.runOutsideAngular(()=>jr.firestore());if(u&&bs.settings(u),as&&bs.useEmulator(...as),l&&!(0,lt.PM)(m)){const Xi=()=>{try{return(0,le.D)(bs.enablePersistence(Y||void 0).then(()=>!0,()=>!1))}catch(Do){return typeof console<"u"&&console.warn(Do),(0,we.of)(!1)}};return[bs,x.runOutsideAngular(Xi)]}return[bs,(0,we.of)(!1)]},[u,as,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=Ym(l,s),x=this.schedulers.ngZone.run(()=>u);return new r_(x,m,this)}collectionGroup(t,s){const l=s||(m=>m),u=this.firestore.collectionGroup(t);return new z0(l(u),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new i_(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(g.LFG(Ke.Dh),g.LFG(Ke.xv,8),g.LFG(s_,8),g.LFG(a_,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Ce.HU),g.LFG(o_,8),g.LFG(l_,8),g.LFG(nu.zQ,8),g.LFG(nu.Qv,8),g.LFG(nu.L6,8),g.LFG(nu._Q,8),g.LFG(nu.rT,8),g.LFG(nu.lh,8),g.LFG(nu.f7,8),g.LFG(B0.nm,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),c_=(()=>{class i{constructor(){$0.Z.registerVersion("angularfire",Ce.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:s_,useValue:!0},{provide:o_,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[qm]}),i})()},6240:(en,nt,O)=>{"use strict";O.d(nt,{Q1:()=>ro,TE:()=>Qr});var g=O(5592),p=O(2096),Q=O(2459),le=O(6321),we=O(9360),Ce=O(8251),qe=O(7398),Ue=O(4664),_e=O(8186),se=O(5879),Oe=O(6304),xe=O(3106),ke=O(5861),Ke=O(534),lt=O(9058),Re=O(4537);const Ae="firebasestorage.googleapis.com",pe="storageBucket";class me extends lt.ZR{constructor(z,D,E=0){super(ye(z),`Firebase Storage: ${D} (${ye(z)})`),this.status_=E,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return ye(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Se=function(W){return W.UNKNOWN="unknown",W.OBJECT_NOT_FOUND="object-not-found",W.BUCKET_NOT_FOUND="bucket-not-found",W.PROJECT_NOT_FOUND="project-not-found",W.QUOTA_EXCEEDED="quota-exceeded",W.UNAUTHENTICATED="unauthenticated",W.UNAUTHORIZED="unauthorized",W.UNAUTHORIZED_APP="unauthorized-app",W.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",W.INVALID_CHECKSUM="invalid-checksum",W.CANCELED="canceled",W.INVALID_EVENT_NAME="invalid-event-name",W.INVALID_URL="invalid-url",W.INVALID_DEFAULT_BUCKET="invalid-default-bucket",W.NO_DEFAULT_BUCKET="no-default-bucket",W.CANNOT_SLICE_BLOB="cannot-slice-blob",W.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",W.NO_DOWNLOAD_URL="no-download-url",W.INVALID_ARGUMENT="invalid-argument",W.INVALID_ARGUMENT_COUNT="invalid-argument-count",W.APP_DELETED="app-deleted",W.INVALID_ROOT_OPERATION="invalid-root-operation",W.INVALID_FORMAT="invalid-format",W.INTERNAL_ERROR="internal-error",W.UNSUPPORTED_ENVIRONMENT="unsupported-environment",W}(Se||{});function ye(W){return"storage/"+W}function Me(){return new me(Se.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jt(){return new me(Se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tn(){return new me(Se.CANCELED,"User canceled the upload/download.")}function Ie(){return new me(Se.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xe(W){return new me(Se.INVALID_ARGUMENT,W)}function $t(){return new me(Se.APP_DELETED,"The Firebase app was deleted.")}function Yt(W){return new me(Se.INVALID_ROOT_OPERATION,"The operation '"+W+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ft(W,z){return new me(Se.INVALID_FORMAT,"String does not match format '"+W+"': "+z)}function Te(W){throw new me(Se.INTERNAL_ERROR,"Internal error: "+W)}class at{constructor(z,D){this.bucket=z,this.path_=D}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,D){let E;try{E=at.makeFromUrl(z,D)}catch{return new at(z,"")}if(""===E.path)return E;throw function gt(W){return new me(Se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+W+"'.")}(z)}static makeFromUrl(z,D){let E=null;const V="([A-Za-z0-9.\\-_]+)",ut=new RegExp("^gs://"+V+"(/(.*))?$","i");function L(Vr){Vr.path_=decodeURIComponent(Vr.path)}const B=D.replace(/[.]/g,"\\."),Hr=[{regex:ut,indices:{bucket:1,path:3},postModify:function P(Vr){"/"===Vr.path.charAt(Vr.path.length-1)&&(Vr.path_=Vr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${B}/v[A-Za-z0-9_]+/b/${V}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:L},{regex:new RegExp(`^https?://${D===Ae?"(?:storage.googleapis.com|storage.cloud.google.com)":D}/${V}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:L}];for(let Vr=0;Vr<Hr.length;Vr++){const hs=Hr[Vr],Gi=hs.regex.exec(z);if(Gi){let Fs=Gi[hs.indices.path];Fs||(Fs=""),E=new at(Gi[hs.indices.bucket],Fs),hs.postModify(E);break}}if(null==E)throw function Qt(W){return new me(Se.INVALID_URL,"Invalid URL '"+W+"'.")}(z);return E}}class St{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Sn(W){return"string"==typeof W||W instanceof String}function wn(W){return On()&&W instanceof Blob}function On(){return typeof Blob<"u"&&!(0,lt.UG)()}function Bn(W,z,D,E){if(E<z)throw Xe(`Invalid value for '${W}'. Expected ${z} or greater.`);if(E>D)throw Xe(`Invalid value for '${W}'. Expected ${D} or less.`)}function Or(W,z,D){let E=z;return null==D&&(E=`https://${z}`),`${D}://${E}/v0${W}`}function pr(W){const z=encodeURIComponent;let D="?";for(const E in W)W.hasOwnProperty(E)&&(D=D+(z(E)+"=")+z(W[E])+"&");return D=D.slice(0,-1),D}var gr=function(W){return W[W.NO_ERROR=0]="NO_ERROR",W[W.NETWORK_ERROR=1]="NETWORK_ERROR",W[W.ABORT=2]="ABORT",W}(gr||{});function un(W,z){const D=W>=500&&W<600,V=-1!==[408,429].indexOf(W),P=-1!==z.indexOf(W);return D||V||P}class Pn{constructor(z,D,E,V,P,X,ut,v,L,_,B,ie=!0){this.url_=z,this.method_=D,this.headers_=E,this.body_=V,this.successCodes_=P,this.additionalRetryCodes_=X,this.callback_=ut,this.errorCallback_=v,this.timeout_=L,this.progressCallback_=_,this.connectionFactory_=B,this.retry=ie,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((pt,Gt)=>{this.resolve_=pt,this.reject_=Gt,this.start_()})}start_(){const D=(E,V)=>{const P=this.resolve_,X=this.reject_,ut=V.connection;if(V.wasSuccessCode)try{const v=this.callback_(ut,ut.getResponse());!function In(W){return void 0!==W}(v)?P():P(v)}catch(v){X(v)}else if(null!==ut){const v=Me();v.serverResponse=ut.getErrorText(),X(this.errorCallback_?this.errorCallback_(ut,v):v)}else X(V.canceled?this.appDelete_?$t():Tn():jt())};this.canceled_?D(0,new mr(!1,null,!0)):this.backoffId_=function Ct(W,z,D){let E=1,V=null,P=null,X=!1,ut=0;function v(){return 2===ut}let L=!1;function _(...An){L||(L=!0,z.apply(null,An))}function B(An){V=setTimeout(()=>{V=null,W(pt,v())},An)}function ie(){P&&clearTimeout(P)}function pt(An,...Jn){if(L)return void ie();if(An)return ie(),void _.call(null,An,...Jn);if(v()||X)return ie(),void _.call(null,An,...Jn);let Hr;E<64&&(E*=2),1===ut?(ut=2,Hr=0):Hr=1e3*(E+Math.random()),B(Hr)}let Gt=!1;function an(An){Gt||(Gt=!0,ie(),!L&&(null!==V?(An||(ut=2),clearTimeout(V),B(0)):An||(ut=1)))}return B(0),P=setTimeout(()=>{X=!0,an(!0)},D),an}((E,V)=>{if(V)return void E(!1,new mr(!1,null,!0));const P=this.connectionFactory_();this.pendingConnection_=P;const X=ut=>{null!==this.progressCallback_&&this.progressCallback_(ut.loaded,ut.lengthComputable?ut.total:-1)};null!==this.progressCallback_&&P.addUploadProgressListener(X),P.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&P.removeUploadProgressListener(X),this.pendingConnection_=null;const ut=P.getErrorCode()===gr.NO_ERROR,v=P.getStatus();if(!ut||un(v,this.additionalRetryCodes_)&&this.retry){const _=P.getErrorCode()===gr.ABORT;return void E(!1,new mr(!1,null,_))}const L=-1!==this.successCodes_.indexOf(v);E(!0,new mr(L,P))})},D,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function qt(W){W(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mr{constructor(z,D,E){this.wasSuccessCode=z,this.connection=D,this.canceled=!!E}}function li(...W){const z=function ir(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const D=new z;for(let E=0;E<W.length;E++)D.append(W[E]);return D.getBlob()}if(On())return new Blob(W);throw new me(Se.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ri{constructor(z,D){this.data=z,this.contentType=D||null}}function Nr(W,z){switch(W){case Pr.RAW:return new ri(vi(z));case Pr.BASE64:case Pr.BASE64URL:return new ri(Kr(W,z));case Pr.DATA_URL:return new ri(function Wr(W){const z=new kr(W);return z.base64?Kr(Pr.BASE64,z.rest):function ti(W){let z;try{z=decodeURIComponent(W)}catch{throw ft(Pr.DATA_URL,"Malformed data URL.")}return vi(z)}(z.rest)}(z),function vr(W){return new kr(W).contentType}(z))}throw Me()}function vi(W){const z=[];for(let D=0;D<W.length;D++){let E=W.charCodeAt(D);E<=127?z.push(E):E<=2047?z.push(192|E>>6,128|63&E):55296==(64512&E)?D<W.length-1&&56320==(64512&W.charCodeAt(D+1))?(E=65536|(1023&E)<<10|1023&W.charCodeAt(++D),z.push(240|E>>18,128|E>>12&63,128|E>>6&63,128|63&E)):z.push(239,191,189):56320==(64512&E)?z.push(239,191,189):z.push(224|E>>12,128|E>>6&63,128|63&E)}return new Uint8Array(z)}function Kr(W,z){switch(W){case Pr.BASE64:{const V=-1!==z.indexOf("-"),P=-1!==z.indexOf("_");if(V||P)throw ft(W,"Invalid character '"+(V?"-":"_")+"' found: is it base64url encoded?");break}case Pr.BASE64URL:{const V=-1!==z.indexOf("+"),P=-1!==z.indexOf("/");if(V||P)throw ft(W,"Invalid character '"+(V?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let D;try{D=function mi(W){if(typeof atob>"u")throw function tt(W){return new me(Se.UNSUPPORTED_ENVIRONMENT,`${W} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(W)}(z)}catch(V){throw V.message.includes("polyfill")?V:ft(W,"Invalid character found")}const E=new Uint8Array(D.length);for(let V=0;V<D.length;V++)E[V]=D.charCodeAt(V);return E}class kr{constructor(z){this.base64=!1,this.contentType=null;const D=z.match(/^data:([^,]+)?,/);if(null===D)throw ft(Pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const E=D[1]||null;null!=E&&(this.base64=function Ar(W,z){return W.length>=z.length&&W.substring(W.length-z.length)===z}(E,";base64"),this.contentType=this.base64?E.substring(0,E.length-7):E),this.rest=z.substring(z.indexOf(",")+1)}}class qn{constructor(z,D){let E=0,V="";wn(z)?(this.data_=z,E=z.size,V=z.type):z instanceof ArrayBuffer?(D?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),E=this.data_.length):z instanceof Uint8Array&&(D?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),E=z.length),this.size_=E,this.type_=V}size(){return this.size_}type(){return this.type_}slice(z,D){if(wn(this.data_)){const V=function Un(W,z,D){return W.webkitSlice?W.webkitSlice(z,D):W.mozSlice?W.mozSlice(z,D):W.slice?W.slice(z,D):null}(this.data_,z,D);return null===V?null:new qn(V)}{const E=new Uint8Array(this.data_.buffer,z,D-z);return new qn(E,!0)}}static getBlob(...z){if(On()){const D=z.map(E=>E instanceof qn?E.data_:E);return new qn(li.apply(null,D))}{const D=z.map(X=>Sn(X)?Nr(Pr.RAW,X).data:X.data_);let E=0;D.forEach(X=>{E+=X.byteLength});const V=new Uint8Array(E);let P=0;return D.forEach(X=>{for(let ut=0;ut<X.length;ut++)V[P++]=X[ut]}),new qn(V,!0)}}uploadData(){return this.data_}}function Ve(W){let z;try{z=JSON.parse(W)}catch{return null}return function xn(W){return"object"==typeof W&&!Array.isArray(W)}(z)?z:null}function Pe(W){const z=W.lastIndexOf("/",W.length-2);return-1===z?W:W.slice(z+1)}function oe(W,z){return z}class Ge{constructor(z,D,E,V){this.server=z,this.local=D||z,this.writable=!!E,this.xform=V||oe}}let Et=null;function on(){if(Et)return Et;const W=[];W.push(new Ge("bucket")),W.push(new Ge("generation")),W.push(new Ge("metageneration")),W.push(new Ge("name","fullPath",!0));const D=new Ge("name");D.xform=function z(P,X){return function Bt(W){return!Sn(W)||W.length<2?W:Pe(W)}(X)},W.push(D);const V=new Ge("size");return V.xform=function E(P,X){return void 0!==X?Number(X):X},W.push(V),W.push(new Ge("timeCreated")),W.push(new Ge("updated")),W.push(new Ge("md5Hash",null,!0)),W.push(new Ge("cacheControl",null,!0)),W.push(new Ge("contentDisposition",null,!0)),W.push(new Ge("contentEncoding",null,!0)),W.push(new Ge("contentLanguage",null,!0)),W.push(new Ge("contentType",null,!0)),W.push(new Ge("metadata","customMetadata",!0)),Et=W,Et}function Fn(W,z,D){const E=Ve(z);return null===E?null:function ln(W,z,D){const E={type:"file"},V=D.length;for(let P=0;P<V;P++){const X=D[P];E[X.local]=X.xform(E,z[X.server])}return function vn(W,z){Object.defineProperty(W,"ref",{get:function D(){const P=new at(W.bucket,W.fullPath);return z._makeStorageReference(P)}})}(E,W),E}(W,E,D)}function fr(W,z){const D={},E=z.length;for(let V=0;V<E;V++){const P=z[V];P.writable&&(D[P.server]=W[P.local])}return JSON.stringify(D)}const yi="prefixes",Ai="items";class Ot{constructor(z,D,E,V){this.url=z,this.method=D,this.handler=E,this.timeout=V,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hn(W){if(!W)throw Me()}function yn(W,z){return function D(E,V){const P=Fn(W,V,z);return hn(null!==P),P}}function yr(W){return function z(D,E){let V;return V=401===D.getStatus()?D.getErrorText().includes("Firebase App Check token is invalid")?function ht(){return new me(Se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ct(){return new me(Se.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===D.getStatus()?function ze(W){return new me(Se.QUOTA_EXCEEDED,"Quota for bucket '"+W+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(W.bucket):403===D.getStatus()?function It(W){return new me(Se.UNAUTHORIZED,"User does not have permission to access '"+W+"'.")}(W.path):E,V.status=D.getStatus(),V.serverResponse=E.serverResponse,V}}function _r(W){const z=yr(W);return function D(E,V){let P=z(E,V);return 404===E.getStatus()&&(P=function Le(W){return new me(Se.OBJECT_NOT_FOUND,"Object '"+W+"' does not exist.")}(W.path)),P.serverResponse=V.serverResponse,P}}function Mr(W,z,D){const V=Or(z.fullServerUrl(),W.host,W._protocol),X=W.maxOperationRetryTime,ut=new Ot(V,"GET",yn(W,D),X);return ut.errorHandler=_r(z),ut}function $r(W,z,D,E,V){const P={};P.prefix=z.isRoot?"":z.path+"/",D&&D.length>0&&(P.delimiter=D),E&&(P.pageToken=E),V&&(P.maxResults=V);const ut=Or(z.bucketOnlyServerUrl(),W.host,W._protocol),L=W.maxOperationRetryTime,_=new Ot(ut,"GET",function Xt(W,z){return function D(E,V){const P=function rt(W,z,D){const E=Ve(D);return null===E?null:function bt(W,z,D){const E={prefixes:[],items:[],nextPageToken:D.nextPageToken};if(D[yi])for(const V of D[yi]){const P=V.replace(/\/$/,""),X=W._makeStorageReference(new at(z,P));E.prefixes.push(X)}if(D[Ai])for(const V of D[Ai]){const P=W._makeStorageReference(new at(z,V.name));E.items.push(P)}return E}(W,z,E)}(W,z,V);return hn(null!==P),P}}(W,z.bucket),L);return _.urlParams=P,_.errorHandler=yr(z),_}function rs(W,z,D){const E=Object.assign({},D);return E.fullPath=W.path,E.size=z.size(),E.contentType||(E.contentType=function _i(W,z){return W&&W.contentType||z&&z.type()||"application/octet-stream"}(null,z)),E}class Ti{constructor(z,D,E,V){this.current=z,this.total=D,this.finalized=!!E,this.metadata=V||null}}function lr(W,z){let D=null;try{D=W.getResponseHeader("X-Goog-Upload-Status")}catch{hn(!1)}return hn(!!D&&-1!==(z||["active"]).indexOf(D)),D}const Cr={STATE_CHANGED:"state_changed"},ee={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function K(W){switch(W){case"running":case"pausing":case"canceling":return ee.RUNNING;case"paused":return ee.PAUSED;case"success":return ee.SUCCESS;case"canceled":return ee.CANCELED;default:return ee.ERROR}}class Ee{constructor(z,D,E){if(function cn(W){return"function"==typeof W}(z)||null!=D||null!=E)this.next=z,this.error=null!=D?D:void 0,this.complete=null!=E?E:void 0;else{const P=z;this.next=P.next,this.error=P.error,this.complete=P.complete}}}function Ne(W){return(...z)=>{Promise.resolve().then(()=>W(...z))}}let mt=null;class et{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gr.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gr.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gr.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,D,E,V){if(this.sent_)throw Te("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(D,z,!0),void 0!==V)for(const P in V)V.hasOwnProperty(P)&&this.xhr_.setRequestHeader(P,V[P].toString());return void 0!==E?this.xhr_.send(E):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Te("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Te("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Te("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Te("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class At extends et{initXhr(){this.xhr_.responseType="text"}}function Nt(){return mt?mt():new At}class Gn{constructor(z,D,E=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=D,this._metadata=E,this._mappings=on(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=V=>{if(this._request=void 0,this._chunkMultiplier=1,V._codeEquals(Se.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const P=this.isExponentialBackoffExpired();if(un(V.status,[])){if(!P)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();V=jt()}this._error=V,this._transition("error")}},this._metadataErrorHandler=V=>{this._request=void 0,V._codeEquals(Se.CANCELED)?this.completeTransitions_():(this._error=V,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((V,P)=>{this._resolve=V,this._reject=P,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const z=this._transferred;return D=>this._updateProgress(z+D)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([D,E])=>{switch(this._state){case"running":z(D,E);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,D)=>{const E=function Fi(W,z,D,E,V){const P=z.bucketOnlyServerUrl(),X=rs(z,E,V),ut={name:X.fullPath},v=Or(P,W.host,W._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${E.size()}`,"X-Goog-Upload-Header-Content-Type":X.contentType,"Content-Type":"application/json; charset=utf-8"},B=fr(X,D),Gt=new Ot(v,"POST",function pt(an){let An;lr(an);try{An=an.getResponseHeader("X-Goog-Upload-URL")}catch{hn(!1)}return hn(Sn(An)),An},W.maxUploadRetryTime);return Gt.urlParams=ut,Gt.headers=_,Gt.body=B,Gt.errorHandler=yr(z),Gt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),V=this._ref.storage._makeRequest(E,Nt,z,D);this._request=V,V.getPromise().then(P=>{this._request=void 0,this._uploadUrl=P,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((D,E)=>{const V=function ci(W,z,D,E){const v=new Ot(D,"POST",function P(L){const _=lr(L,["active","final"]);let B=null;try{B=L.getResponseHeader("X-Goog-Upload-Size-Received")}catch{hn(!1)}B||hn(!1);const ie=Number(B);return hn(!isNaN(ie)),new Ti(ie,E.size(),"final"===_)},W.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=yr(z),v}(this._ref.storage,this._ref._location,z,this._blob),P=this._ref.storage._makeRequest(V,Nt,D,E);this._request=P,P.getPromise().then(X=>{this._request=void 0,this._updateProgress(X.current),this._needToFetchStatus=!1,X.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,D=new Ti(this._transferred,this._blob.size()),E=this._uploadUrl;this._resolveToken((V,P)=>{let X;try{X=function Ui(W,z,D,E,V,P,X,ut){const v=new Ti(0,0);if(X?(v.current=X.current,v.total=X.total):(v.current=0,v.total=E.size()),E.size()!==v.total)throw function Fe(){return new me(Se.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const L=v.total-v.current;let _=L;V>0&&(_=Math.min(_,V));const B=v.current;let pt="";pt=0===_?"finalize":L===_?"upload, finalize":"upload";const Gt={"X-Goog-Upload-Command":pt,"X-Goog-Upload-Offset":`${v.current}`},an=E.slice(B,B+_);if(null===an)throw Ie();const Hr=new Ot(D,"POST",function An(Vr,hs){const Gi=lr(Vr,["active","final"]),Bi=v.current+_,Fs=E.size();let Ei;return Ei="final"===Gi?yn(z,P)(Vr,hs):null,new Ti(Bi,Fs,"final"===Gi,Ei)},z.maxUploadRetryTime);return Hr.headers=Gt,Hr.body=an.uploadData(),Hr.progressCallback=ut||null,Hr.errorHandler=yr(W),Hr}(this._ref._location,this._ref.storage,E,this._blob,z,this._mappings,D,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const ut=this._ref.storage._makeRequest(X,Nt,V,P,!1);this._request=ut,ut.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,D)=>{const E=Mr(this._ref.storage,this._ref._location,this._mappings),V=this._ref.storage._makeRequest(E,Nt,z,D);this._request=V,V.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,D)=>{const E=function Ci(W,z,D,E,V){const P=z.bucketOnlyServerUrl(),X={"X-Goog-Upload-Protocol":"multipart"},v=function ut(){let Hr="";for(let Vr=0;Vr<2;Vr++)Hr+=Math.random().toString().slice(2);return Hr}();X["Content-Type"]="multipart/related; boundary="+v;const L=rs(z,E,V),_=fr(L,D),pt=qn.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+v+"\r\nContent-Type: "+L.contentType+"\r\n\r\n",E,"\r\n--"+v+"--");if(null===pt)throw Ie();const Gt={name:L.fullPath},an=Or(P,W.host,W._protocol),Jn=W.maxUploadRetryTime,Jr=new Ot(an,"POST",yn(W,D),Jn);return Jr.urlParams=Gt,Jr.headers=X,Jr.body=pt.uploadData(),Jr.errorHandler=yr(z),Jr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),V=this._ref.storage._makeRequest(E,Nt,z,D);this._request=V,V.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const D=this._transferred;this._transferred=z,this._transferred!==D&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const D="paused"===this._state;this._state=z,D&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=z,this._notifyObservers();break;case"canceled":this._error=Tn(),this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=K(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,D,E,V){const P=new Ee(D||void 0,E||void 0,V||void 0);return this._addObserver(P),()=>{this._removeObserver(P)}}then(z,D){return this._promise.then(z,D)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const D=this._observers.indexOf(z);-1!==D&&this._observers.splice(D,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(D=>{this._notifyObserver(D)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch(K(this._state)){case ee.SUCCESS:Ne(this._resolve.bind(null,this.snapshot))();break;case ee.CANCELED:case ee.ERROR:Ne(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch(K(this._state)){case ee.RUNNING:case ee.PAUSED:z.next&&Ne(z.next.bind(z,this.snapshot))();break;case ee.SUCCESS:z.complete&&Ne(z.complete.bind(z))();break;default:z.error&&Ne(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class nr{constructor(z,D){this._service=z,this._location=D instanceof at?D:at.makeFromUrl(D,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,D){return new nr(z,D)}get root(){const z=new at(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pe(this._location.path)}get storage(){return this._service}get parent(){const z=function re(W){if(0===W.length)return null;const z=W.lastIndexOf("/");return-1===z?"":W.slice(0,z)}(this._location.path);if(null===z)return null;const D=new at(this._location.bucket,z);return new nr(this._service,D)}_throwIfRoot(z){if(""===this._location.path)throw Yt(z)}}function kn(W,z,D){return $n.apply(this,arguments)}function $n(){return($n=(0,ke.Z)(function*(W,z,D){const V=yield cr(W,{pageToken:D});z.prefixes.push(...V.prefixes),z.items.push(...V.items),null!=V.nextPageToken&&(yield kn(W,z,V.nextPageToken))})).apply(this,arguments)}function cr(W,z){null!=z&&"number"==typeof z.maxResults&&Bn("options.maxResults",1,1e3,z.maxResults);const D=z||{},E=$r(W.storage,W._location,"/",D.pageToken,D.maxResults);return W.storage.makeRequestWithTokens(E,Nt)}function ii(W){W._throwIfRoot("getDownloadURL");const z=function ar(W,z,D){const V=Or(z.fullServerUrl(),W.host,W._protocol),X=W.maxOperationRetryTime,ut=new Ot(V,"GET",function Qn(W,z){return function D(E,V){const P=Fn(W,V,z);return hn(null!==P),function br(W,z,D,E){const V=Ve(z);if(null===V||!Sn(V.downloadTokens))return null;const P=V.downloadTokens;if(0===P.length)return null;const X=encodeURIComponent;return P.split(",").map(L=>{const B=W.fullPath;return Or("/b/"+X(W.bucket)+"/o/"+X(B),D,E)+pr({alt:"media",token:L})})[0]}(P,V,W.host,W._protocol)}}(W,D),X);return ut.errorHandler=_r(z),ut}(W.storage,W._location,on());return W.storage.makeRequestWithTokens(z,Nt).then(D=>{if(null===D)throw function Ze(){return new me(Se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return D})}function ls(W,z){const D=function J(W,z){const D=z.split("/").filter(E=>E.length>0).join("/");return 0===W.length?D:W+"/"+D}(W._location.path,z),E=new at(W._location.bucket,D);return new nr(W.storage,E)}function tn(W,z){if(W instanceof Ji){const D=W;if(null==D._bucket)throw function ue(){return new me(Se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pe+"' property when initializing the app?")}();const E=new nr(D,D._bucket);return null!=z?tn(E,z):E}return void 0!==z?ls(W,z):W}function Kn(W,z){if(z&&function zi(W){return/^[A-Za-z]+:\/\//.test(W)}(z)){if(W instanceof Ji)return function Yr(W,z){return new nr(W,z)}(W,z);throw Xe("To use ref(service, url), the first argument must be a Storage instance.")}return tn(W,z)}function dr(W,z){const D=null==z?void 0:z[pe];return null==D?null:at.makeFromBucketSpec(D,W)}class Ji{constructor(z,D,E,V,P){this.app=z,this._authProvider=D,this._appCheckProvider=E,this._url=V,this._firebaseVersion=P,this._bucket=null,this._host=Ae,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=V?at.makeFromBucketSpec(V,this._host):dr(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?at.makeFromBucketSpec(this._url,z):dr(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){Bn("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){Bn("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,ke.Z)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const D=z._authProvider.getImmediate({optional:!0});if(D){const E=yield D.getToken();if(null!==E)return E.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,ke.Z)(function*(){const D=z._appCheckProvider.getImmediate({optional:!0});return D?(yield D.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new nr(this,z)}_makeRequest(z,D,E,V,P=!0){if(this._deleted)return new St($t());{const X=function Ut(W,z,D,E,V,P,X=!0){const ut=pr(W.urlParams),v=W.url+ut,L=Object.assign({},W.headers);return function Zt(W,z){z&&(W["X-Firebase-GMPID"]=z)}(L,z),function Yn(W,z){null!==z&&z.length>0&&(W.Authorization="Firebase "+z)}(L,D),function Lr(W,z){W["X-Firebase-Storage-Version"]="webjs/"+(null!=z?z:"AppManager")}(L,P),function Hn(W,z){null!==z&&(W["X-Firebase-AppCheck"]=z)}(L,E),new Pn(v,W.method,L,W.body,W.successCodes,W.additionalRetryCodes,W.handler,W.errorHandler,W.timeout,W.progressCallback,V,X)}(z,this._appId,E,V,D,this._firebaseVersion,P);return this._requests.add(X),X.getPromise().then(()=>this._requests.delete(X),()=>this._requests.delete(X)),X}}makeRequestWithTokens(z,D){var E=this;return(0,ke.Z)(function*(){const[V,P]=yield Promise.all([E._getAuthToken(),E._getAppCheckToken()]);return E._makeRequest(z,D,V,P).getPromise()})()}}const ji="@firebase/storage";function us(W,z){return Kn(W=(0,lt.m9)(W),z)}function or(W,{instanceIdentifier:z}){const D=W.getProvider("app").getImmediate(),E=W.getProvider("auth-internal"),V=W.getProvider("app-check-internal");return new Ji(D,E,V,z,Ke.SDK_VERSION)}!function ms(){(0,Ke._registerComponent)(new Re.wA("storage",or,"PUBLIC").setMultipleInstances(!0)),(0,Ke.registerVersion)(ji,"0.11.2",""),(0,Ke.registerVersion)(ji,"0.11.2","esm2017")}();class ks{constructor(z,D,E){this._delegate=z,this.task=D,this.ref=E}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class is{constructor(z,D){this._delegate=z,this._ref=D,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ks(this._delegate.snapshot,this,this._ref)}then(z,D){return this._delegate.then(E=>{if(z)return z(new ks(E,this,this._ref))},D)}on(z,D,E,V){let P;return D&&(P="function"==typeof D?X=>D(new ks(X,this,this._ref)):{next:D.next?X=>D.next(new ks(X,this,this._ref)):void 0,complete:D.complete||void 0,error:D.error||void 0}),this._delegate.on(z,P,E||void 0,V||void 0)}}class qr{constructor(z,D){this._delegate=z,this._service=D}get prefixes(){return this._delegate.prefixes.map(z=>new Br(z,this._service))}get items(){return this._delegate.items.map(z=>new Br(z,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Br{constructor(z,D){this._delegate=z,this.storage=D}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(z){const D=function wo(W,z){return ls(W,z)}(this._delegate,z);return new Br(D,this.storage)}get root(){return new Br(this._delegate.root,this.storage)}get parent(){const z=this._delegate.parent;return null==z?null:new Br(z,this.storage)}put(z,D){return this._throwIfRoot("put"),new is(function $s(W,z,D){return function Mt(W,z,D){return W._throwIfRoot("uploadBytesResumable"),new Gn(W,new qn(z),D)}(W=(0,lt.m9)(W),z,D)}(this._delegate,z,D),this)}putString(z,D=Pr.RAW,E){this._throwIfRoot("putString");const V=Nr(D,z),P=Object.assign({},E);return null==P.contentType&&null!=V.contentType&&(P.contentType=V.contentType),new is(new Gn(this._delegate,new qn(V.data,!0),P),this)}listAll(){return function Vs(W){return function Jt(W){const z={prefixes:[],items:[]};return kn(W,z).then(()=>z)}(W=(0,lt.m9)(W))}(this._delegate).then(z=>new qr(z,this.storage))}list(z){return function sr(W,z){return cr(W=(0,lt.m9)(W),z)}(this._delegate,z||void 0).then(D=>new qr(D,this.storage))}getMetadata(){return function eo(W){return function ni(W){W._throwIfRoot("getMetadata");const z=Mr(W.storage,W._location,on());return W.storage.makeRequestWithTokens(z,Nt)}(W=(0,lt.m9)(W))}(this._delegate)}updateMetadata(z){return function gs(W,z){return function so(W,z){W._throwIfRoot("updateMetadata");const D=function Ns(W,z,D,E){const P=Or(z.fullServerUrl(),W.host,W._protocol),ut=fr(D,E),L=W.maxOperationRetryTime,_=new Ot(P,"PATCH",yn(W,E),L);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=ut,_.errorHandler=_r(z),_}(W.storage,W._location,z,on());return W.storage.makeRequestWithTokens(D,Nt)}(W=(0,lt.m9)(W),z)}(this._delegate,z)}getDownloadURL(){return function Si(W){return ii(W=(0,lt.m9)(W))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function pi(W){return function Cs(W){W._throwIfRoot("deleteObject");const z=function ki(W,z){const E=Or(z.fullServerUrl(),W.host,W._protocol),ut=new Ot(E,"DELETE",function X(v,L){},W.maxOperationRetryTime);return ut.successCodes=[200,204],ut.errorHandler=_r(z),ut}(W.storage,W._location);return W.storage.makeRequestWithTokens(z,Nt)}(W=(0,lt.m9)(W))}(this._delegate)}_throwIfRoot(z){if(""===this._delegate._location.path)throw Yt(z)}}class ss{constructor(z,D){this.app=z,this._delegate=D}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(z){if(to(z))throw Xe("ref() expected a child path but got a URL, use refFromURL instead.");return new Br(us(this._delegate,z),this)}refFromURL(z){if(!to(z))throw Xe("refFromURL() expected a full URL but got a child path, use ref() instead.");try{at.makeFromUrl(z,this._delegate.host)}catch{throw Xe("refFromUrl() expected a valid full URL but got an invalid one.")}return new Br(us(this._delegate,z),this)}setMaxUploadRetryTime(z){this._delegate.maxUploadRetryTime=z}setMaxOperationRetryTime(z){this._delegate.maxOperationRetryTime=z}useEmulator(z,D,E={}){!function es(W,z,D,E={}){!function Li(W,z,D,E={}){W.host=`${z}:${D}`,W._protocol="http";const{mockUserToken:V}=E;V&&(W._overrideAuthToken="string"==typeof V?V:(0,lt.Sg)(V,W.app.options.projectId))}(W,z,D,E)}(this._delegate,z,D,E)}}function to(W){return/^[A-Za-z]+:\/\//.test(W)}function Ii(W,{instanceIdentifier:z}){const D=W.getProvider("app-compat").getImmediate(),E=W.getProvider("storage").getImmediate({identifier:z});return new ss(D,E)}!function oo(W){const z={TaskState:ee,TaskEvent:Cr,StringFormat:Pr,Storage:ss,Reference:Br};W.INTERNAL.registerComponent(new Re.wA("storage-compat",Ii,"PUBLIC").setServiceProps(z).setMultipleInstances(!0)),W.registerVersion("@firebase/storage-compat","0.3.2")}(xe.Z);var xi=O(8697),ds=O(7142);function Ks(W){const z=function ui(W){return new g.y(z=>{const D=X=>z.next(X);D(W.snapshot);const P=W.on("state_changed",D);return W.then(X=>{D(X),z.complete()},X=>{D(W.snapshot),(X=>{z.error(X)})(X)}),function(){P()}}).pipe(function fe(W,z=le.z){return(0,we.e)((D,E)=>{let V=null,P=null,X=null;const ut=()=>{if(V){V.unsubscribe(),V=null;const L=P;P=null,E.next(L)}};function v(){const L=X+W,_=z.now();if(_<L)return V=this.schedule(void 0,L-_),void E.add(V);ut()}D.subscribe((0,Ce.x)(E,L=>{P=L,X=z.now(),V||(V=z.schedule(v,W),E.add(V))},()=>{ut(),E.complete()},void 0,()=>{P=V=null}))})}(0))}(W);return{task:W,then:W.then.bind(W),catch:W.catch.bind(W),pause:W.pause.bind(W),cancel:W.cancel.bind(W),resume:W.resume.bind(W),snapshotChanges:()=>z,percentageChanges:()=>z.pipe((0,qe.U)(D=>D.bytesTransferred/D.totalBytes*100))}}function no(W){return{getDownloadURL:()=>(0,p.of)(void 0).pipe(_e.fc,(0,Ue.w)(()=>W.getDownloadURL()),_e.iC),getMetadata:()=>(0,p.of)(void 0).pipe(_e.fc,(0,Ue.w)(()=>W.getMetadata()),_e.iC),delete:()=>(0,Q.D)(W.delete()),child:z=>no(W.child(z)),updateMetadata:z=>(0,Q.D)(W.updateMetadata(z)),put:(z,D)=>Ks(W.put(z,D)),putString:(z,D,E)=>Ks(W.putString(z,D,E)),list:z=>(0,Q.D)(W.list(z)),listAll:()=>(0,Q.D)(W.listAll())}}const ao=new se.OlP("angularfire2.storageBucket"),lo=new se.OlP("angularfire2.storage.maxUploadRetryTime"),bo=new se.OlP("angularfire2.storage.maxOperationRetryTime"),Zs=new se.OlP("angularfire2.storage.use-emulator");let ro=(()=>{class W{constructor(D,E,V,P,X,ut,v,L,_,B){const ie=(0,Oe.on)(D,X,E);this.storage=(0,Oe.cc)(`${ie.name}.storage.${V}`,"AngularFireStorage",ie.name,()=>{const pt=X.runOutsideAngular(()=>ie.storage(V||void 0)),Gt=_;return Gt&&pt.useEmulator(...Gt),v&&pt.setMaxUploadRetryTime(v),L&&pt.setMaxOperationRetryTime(L),pt},[v,L])}ref(D){return no(this.storage.ref(D))}refFromURL(D){return no(this.storage.refFromURL(D))}upload(D,E,V){return no(this.storage.ref(D)).put(E,V)}}return W.\u0275fac=function(D){return new(D||W)(se.LFG(Oe.Dh),se.LFG(Oe.xv,8),se.LFG(ao,8),se.LFG(se.Lbi),se.LFG(se.R0b),se.LFG(_e.HU),se.LFG(lo,8),se.LFG(bo,8),se.LFG(Zs,8),se.LFG(xi.nm,8))},W.\u0275prov=se.Yz7({token:W,factory:W.\u0275fac,providedIn:"any"}),W})(),_a=(()=>{class W{}return W.\u0275fac=function(D){return new(D||W)},W.\u0275mod=se.oAB({type:W}),W.\u0275inj=se.cJS({}),W})(),Qr=(()=>{class W{constructor(){ds.Z.registerVersion("angularfire",_e.q4.full,"gcs-compat")}}return W.\u0275fac=function(D){return new(D||W)},W.\u0275mod=se.oAB({type:W}),W.\u0275inj=se.cJS({providers:[ro],imports:[_a]}),W})()},6304:(en,nt,O)=>{"use strict";O.d(nt,{Dh:()=>qe,GT:()=>Ce,cc:()=>ke,hO:()=>xe,on:()=>_e,pX:()=>we,xv:()=>Ue});var g=O(5879),p=O(7142),Q=O(8186);en=O.hmd(en);const le=["ngOnDestroy"],we=(Ae,pe,_t,ve={})=>new Proxy(Ae,{get:(ge,me)=>_t.runOutsideAngular(()=>{var Se;if(Ae[me])return!(null===(Se=null==ve?void 0:ve.spy)||void 0===Se)&&Se.get&&ve.spy.get(me,Ae[me]),Ae[me];if(le.indexOf(me)>-1)return()=>{};const ye=pe.toPromise().then(Me=>{const Le=Me&&Me[me];return"function"==typeof Le?Le.bind(Me):Le&&Le.then?Le.then(ze=>_t.run(()=>ze)):_t.run(()=>Le)});return new Proxy(()=>{},{get:(Me,Le)=>ye[Le],apply:(Me,Le,ze)=>ye.then(ct=>{var ht;const It=ct&&ct(...ze);return!(null===(ht=null==ve?void 0:ve.spy)||void 0===ht)&&ht.apply&&ve.spy.apply(me,ze,It),It})})})}),Ce=(Ae,pe)=>{pe.forEach(_t=>{Object.getOwnPropertyNames(_t.prototype||_t).forEach(ve=>{Object.defineProperty(Ae.prototype,ve,Object.getOwnPropertyDescriptor(_t.prototype||_t,ve))})})};class fe{constructor(pe){return pe}}const qe=new g.OlP("angularfire2.app.options"),Ue=new g.OlP("angularfire2.app.name");function _e(Ae,pe,_t){const ge="object"==typeof _t&&_t||{};ge.name=ge.name||"string"==typeof _t&&_t||"[DEFAULT]";const Se=p.Z.apps.filter(ye=>ye&&ye.name===ge.name)[0]||pe.runOutsideAngular(()=>p.Z.initializeApp(Ae,ge));try{JSON.stringify(Ae)!==JSON.stringify(Se.options)&&se("error",`${Se.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Se)}const se=(Ae,...pe)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ae](...pe)},Oe={provide:fe,useFactory:_e,deps:[qe,g.R0b,[new g.FiY,Ue]]};let xe=(()=>{class Ae{constructor(_t){p.Z.registerVersion("angularfire",Q.q4.full,"core"),p.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),p.Z.registerVersion("angular",g.q4F.full,_t.toString())}static initializeApp(_t,ve){return{ngModule:Ae,providers:[{provide:qe,useValue:_t},{provide:Ue,useValue:ve}]}}}return Ae.\u0275fac=function(_t){return new(_t||Ae)(g.LFG(g.Lbi))},Ae.\u0275mod=g.oAB({type:Ae}),Ae.\u0275inj=g.cJS({providers:[Oe]}),Ae})();function ke(Ae,pe,_t,ve,ge){const[,me,Se]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===Ae)||[];if(me)return function Ke(Ae,pe){try{return Ae.toString()===pe.toString()}catch{return Ae===pe}}(ge,Se)||(Re("error",`${pe} was already initialized on the ${_t} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:ge,was:Se})),me;{const ye=ve();return globalThis.\u0275AngularfireInstanceCache.push([Ae,ye,ge]),ye}}const lt=!!en.hot,Re=(Ae,...pe)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ae](...pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(en,nt,O)=>{"use strict";O.d(nt,{q4:()=>Bs,iC:()=>$a,fc:()=>xa,HU:()=>Ba,vb:()=>Ma,JM:()=>To});var g=O(5879),p=O(3182),Q=O(5861),le=O(534),we=O(9058),Ce=O(4537),fe=O(7879);const qe=(A,N)=>N.some(q=>A instanceof q);let Ue,_e;const xe=new WeakMap,ke=new WeakMap,Ke=new WeakMap,lt=new WeakMap,Re=new WeakMap;let _t={get(A,N,q){if(A instanceof IDBTransaction){if("done"===N)return ke.get(A);if("objectStoreNames"===N)return A.objectStoreNames||Ke.get(A);if("store"===N)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return Se(A[N])},set:(A,N,q)=>(A[N]=q,!0),has:(A,N)=>A instanceof IDBTransaction&&("done"===N||"store"===N)||N in A};function me(A){return"function"==typeof A?function ge(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...N){return A.apply(ye(this),N),Se(xe.get(this))}:function(...N){return Se(A.apply(ye(this),N))}:function(N,...q){const be=A.call(ye(this),N,...q);return Ke.set(be,N.sort?N.sort():[N]),Se(be)}}(A):(A instanceof IDBTransaction&&function pe(A){if(ke.has(A))return;const N=new Promise((q,be)=>{const Je=()=>{A.removeEventListener("complete",ot),A.removeEventListener("error",xt),A.removeEventListener("abort",xt)},ot=()=>{q(),Je()},xt=()=>{be(A.error||new DOMException("AbortError","AbortError")),Je()};A.addEventListener("complete",ot),A.addEventListener("error",xt),A.addEventListener("abort",xt)});ke.set(A,N)}(A),qe(A,function se(){return Ue||(Ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,_t):A)}function Se(A){if(A instanceof IDBRequest)return function Ae(A){const N=new Promise((q,be)=>{const Je=()=>{A.removeEventListener("success",ot),A.removeEventListener("error",xt)},ot=()=>{q(Se(A.result)),Je()},xt=()=>{be(A.error),Je()};A.addEventListener("success",ot),A.addEventListener("error",xt)});return N.then(q=>{q instanceof IDBCursor&&xe.set(q,A)}).catch(()=>{}),Re.set(N,A),N}(A);if(lt.has(A))return lt.get(A);const N=me(A);return N!==A&&(lt.set(A,N),Re.set(N,A)),N}const ye=A=>Re.get(A),ze=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],ht=new Map;function It(A,N){if(!(A instanceof IDBDatabase)||N in A||"string"!=typeof N)return;if(ht.get(N))return ht.get(N);const q=N.replace(/FromIndex$/,""),be=N!==q,Je=ct.includes(q);if(!(q in(be?IDBIndex:IDBObjectStore).prototype)||!Je&&!ze.includes(q))return;const ot=function(){var xt=(0,Q.Z)(function*(_n,...gn){const jn=this.transaction(_n,Je?"readwrite":"readonly");let Dr=jn.store;return be&&(Dr=Dr.index(gn.shift())),(yield Promise.all([Dr[q](...gn),Je&&jn.done]))[0]});return function(gn){return xt.apply(this,arguments)}}();return ht.set(N,ot),ot}!function ve(A){_t=A(_t)}(A=>({...A,get:(N,q,be)=>It(N,q)||A.get(N,q,be),has:(N,q)=>!!It(N,q)||A.has(N,q)}));const jt="@firebase/installations",Tn="0.6.4",Qt=1e4,gt=`w:${Tn}`,ue="FIS_v2",Ie="https://firebaseinstallations.googleapis.com/v1",Fe=36e5,$t=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Yt(A){return A instanceof we.ZR&&A.code.includes("request-failed")}function ft({projectId:A}){return`${Ie}/projects/${A}/installations`}function Te(A){return{token:A.token,requestStatus:2,expiresIn:xn(A.expiresIn),creationTime:Date.now()}}function at(A,N){return St.apply(this,arguments)}function St(){return(St=(0,Q.Z)(function*(A,N){const be=(yield N.json()).error;return $t.create("request-failed",{requestName:A,serverCode:be.code,serverMessage:be.message,serverStatus:be.status})})).apply(this,arguments)}function Ct({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function In(A){return cn.apply(this,arguments)}function cn(){return(cn=(0,Q.Z)(function*(A){const N=yield A();return N.status>=500&&N.status<600?A():N})).apply(this,arguments)}function xn(A){return Number(A.replace("s","000"))}function On(){return(On=(0,Q.Z)(function*({appConfig:A,heartbeatServiceProvider:N},{fid:q}){const be=ft(A),Je=Ct(A),ot=N.getImmediate({optional:!0});if(ot){const jn=yield ot.getHeartbeatsHeader();jn&&Je.append("x-firebase-client",jn)}const _n={method:"POST",headers:Je,body:JSON.stringify({fid:q,authVersion:ue,appId:A.appId,sdkVersion:gt})},gn=yield In(()=>fetch(be,_n));if(gn.ok){const jn=yield gn.json();return{fid:jn.fid||q,registrationStatus:2,refreshToken:jn.refreshToken,authToken:Te(jn.authToken)}}throw yield at("Create Installation",gn)})).apply(this,arguments)}function Bn(A){return new Promise(N=>{setTimeout(N,A)})}const pr=/^[cdef][\w-]{21}$/,gr="";function un(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const q=function Pn(A){return function Or(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return pr.test(q)?q:gr}catch{return gr}}function mr(A){return`${A.appName}!${A.appId}`}const Yn=new Map;function Lr(A,N){const q=mr(A);Ut(q,N),function ir(A,N){const q=function Un(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=A=>{Ut(A.data.key,A.data.fid)}),li}();q&&q.postMessage({key:A,fid:N}),function mi(){0===Yn.size&&li&&(li.close(),li=null)}()}(q,N)}function Ut(A,N){const q=Yn.get(A);if(q)for(const be of q)be(N)}let li=null;const Pr="firebase-installations-database",ri=1,Nr="firebase-installations-store";let vi=null;function ti(){return vi||(vi=function Me(A,N,{blocked:q,upgrade:be,blocking:Je,terminated:ot}={}){const xt=indexedDB.open(A,N),_n=Se(xt);return be&&xt.addEventListener("upgradeneeded",gn=>{be(Se(xt.result),gn.oldVersion,gn.newVersion,Se(xt.transaction))}),q&&xt.addEventListener("blocked",()=>q()),_n.then(gn=>{ot&&gn.addEventListener("close",()=>ot()),Je&&gn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),_n}(Pr,ri,{upgrade:(A,N)=>{0===N&&A.createObjectStore(Nr)}})),vi}function Kr(A,N){return kr.apply(this,arguments)}function kr(){return(kr=(0,Q.Z)(function*(A,N){const q=mr(A),Je=(yield ti()).transaction(Nr,"readwrite"),ot=Je.objectStore(Nr),xt=yield ot.get(q);return yield ot.put(N,q),yield Je.done,(!xt||xt.fid!==N.fid)&&Lr(A,N.fid),N})).apply(this,arguments)}function Wr(A){return vr.apply(this,arguments)}function vr(){return(vr=(0,Q.Z)(function*(A){const N=mr(A),be=(yield ti()).transaction(Nr,"readwrite");yield be.objectStore(Nr).delete(N),yield be.done})).apply(this,arguments)}function Ar(A,N){return qn.apply(this,arguments)}function qn(){return(qn=(0,Q.Z)(function*(A,N){const q=mr(A),Je=(yield ti()).transaction(Nr,"readwrite"),ot=Je.objectStore(Nr),xt=yield ot.get(q),_n=N(xt);return void 0===_n?yield ot.delete(q):yield ot.put(_n,q),yield Je.done,_n&&(!xt||xt.fid!==_n.fid)&&Lr(A,_n.fid),_n})).apply(this,arguments)}function Ve(A){return re.apply(this,arguments)}function re(){return re=(0,Q.Z)(function*(A){let N;const q=yield Ar(A.appConfig,be=>{const Je=function J(A){return vn(A||{fid:un(),registrationStatus:0})}(be),ot=function Pe(A,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject($t.create("app-offline"))};const q={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},be=function oe(A,N){return Ge.apply(this,arguments)}(A,q);return{installationEntry:q,registrationPromise:be}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Et(A)}:{installationEntry:N}}(A,Je);return N=ot.registrationPromise,ot.installationEntry});return q.fid===gr?{installationEntry:yield N}:{installationEntry:q,registrationPromise:N}}),re.apply(this,arguments)}function Ge(){return Ge=(0,Q.Z)(function*(A,N){try{const q=yield function wn(A,N){return On.apply(this,arguments)}(A,N);return Kr(A.appConfig,q)}catch(q){throw Yt(q)&&409===q.customData.serverCode?yield Wr(A.appConfig):yield Kr(A.appConfig,{fid:N.fid,registrationStatus:0}),q}}),Ge.apply(this,arguments)}function Et(A){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,Q.Z)(function*(A){let N=yield on(A.appConfig);for(;1===N.registrationStatus;)yield Bn(100),N=yield on(A.appConfig);if(0===N.registrationStatus){const{installationEntry:q,registrationPromise:be}=yield Ve(A);return be||q}return N})).apply(this,arguments)}function on(A){return Ar(A,N=>{if(!N)throw $t.create("installation-not-found");return vn(N)})}function vn(A){return function ln(A){return 1===A.registrationStatus&&A.registrationTime+Qt<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function br(){return(br=(0,Q.Z)(function*({appConfig:A,heartbeatServiceProvider:N},q){const be=function fr(A,{fid:N}){return`${ft(A)}/${N}/authTokens:generate`}(A,q),Je=function qt(A,{refreshToken:N}){const q=Ct(A);return q.append("Authorization",function Sn(A){return`${ue} ${A}`}(N)),q}(A,q),ot=N.getImmediate({optional:!0});if(ot){const jn=yield ot.getHeartbeatsHeader();jn&&Je.append("x-firebase-client",jn)}const _n={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:gt,appId:A.appId}})},gn=yield In(()=>fetch(be,_n));if(gn.ok)return Te(yield gn.json());throw yield at("Generate Auth Token",gn)})).apply(this,arguments)}function yi(A){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,Q.Z)(function*(A,N=!1){let q;const be=yield Ar(A.appConfig,ot=>{if(!Xt(ot))throw $t.create("not-registered");const xt=ot.authToken;if(!N&&function Qn(A){return 2===A.requestStatus&&!function yr(A){const N=Date.now();return N<A.creationTime||A.creationTime+A.expiresIn<N+Fe}(A)}(xt))return ot;if(1===xt.requestStatus)return q=function bt(A,N){return rt.apply(this,arguments)}(A,N),ot;{if(!navigator.onLine)throw $t.create("app-offline");const _n=function _r(A){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:N})}(ot);return q=function hn(A,N){return yn.apply(this,arguments)}(A,_n),_n}});return q?yield q:be.authToken}),Ai.apply(this,arguments)}function rt(){return(rt=(0,Q.Z)(function*(A,N){let q=yield Ot(A.appConfig);for(;1===q.authToken.requestStatus;)yield Bn(100),q=yield Ot(A.appConfig);const be=q.authToken;return 0===be.requestStatus?yi(A,N):be})).apply(this,arguments)}function Ot(A){return Ar(A,N=>{if(!Xt(N))throw $t.create("not-registered");return function Mr(A){return 1===A.requestStatus&&A.requestTime+Qt<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function yn(){return yn=(0,Q.Z)(function*(A,N){try{const q=yield function Fn(A,N){return br.apply(this,arguments)}(A,N),be=Object.assign(Object.assign({},N),{authToken:q});return yield Kr(A.appConfig,be),q}catch(q){if(!Yt(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const be=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Kr(A.appConfig,be)}else yield Wr(A.appConfig);throw q}}),yn.apply(this,arguments)}function Xt(A){return void 0!==A&&2===A.registrationStatus}function Er(){return(Er=(0,Q.Z)(function*(A){const N=A,{installationEntry:q,registrationPromise:be}=yield Ve(N);return be?be.catch(console.error):yi(N).catch(console.error),q.fid})).apply(this,arguments)}function Ns(){return Ns=(0,Q.Z)(function*(A,N=!1){const q=A;return yield function ki(A){return _i.apply(this,arguments)}(q),(yield yi(q,N)).token}),Ns.apply(this,arguments)}function _i(){return(_i=(0,Q.Z)(function*(A){const{registrationPromise:N}=yield Ve(A);N&&(yield N)})).apply(this,arguments)}function Cr(A){return $t.create("missing-app-config-values",{valueName:A})}const ee="installations",Ee=A=>{const N=A.getProvider("app").getImmediate(),q=function Ui(A){if(!A||!A.options)throw Cr("App Configuration");if(!A.name)throw Cr("App Name");const N=["projectId","apiKey","appId"];for(const q of N)if(!A.options[q])throw Cr(q);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(N);return{app:N,appConfig:q,heartbeatServiceProvider:(0,le._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Ne=A=>{const N=A.getProvider("app").getImmediate(),q=(0,le._getProvider)(N,ee).getImmediate();return{getId:()=>function $r(A){return Er.apply(this,arguments)}(q),getToken:Je=>function ar(A){return Ns.apply(this,arguments)}(q,Je)}};(function mt(){(0,le._registerComponent)(new Ce.wA(ee,Ee,"PUBLIC")),(0,le._registerComponent)(new Ce.wA("installations-internal",Ne,"PRIVATE"))})(),(0,le.registerVersion)(jt,Tn),(0,le.registerVersion)(jt,Tn,"esm2017");const et="@firebase/remote-config",dn=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tn{constructor(N,q,be,Je){this.client=N,this.storage=q,this.storageCache=be,this.logger=Je}isCachedDataFresh(N,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const be=Date.now()-q,Je=be<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${be}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Je}.`),Je}fetch(N){var q=this;return(0,Q.Z)(function*(){const[be,Je]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Je&&q.isCachedDataFresh(N.cacheMaxAgeMillis,be))return Je;N.eTag=Je&&Je.eTag;const ot=yield q.client.fetch(N),xt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ot.status&&xt.push(q.storage.setLastSuccessfulFetchResponse(ot)),yield Promise.all(xt),ot})()}}function Kn(A=navigator){return A.languages&&A.languages[0]||A.language}class dr{constructor(N,q,be,Je,ot,xt){this.firebaseInstallations=N,this.sdkVersion=q,this.namespace=be,this.projectId=Je,this.apiKey=ot,this.appId=xt}fetch(N){var q=this;return(0,Q.Z)(function*(){const[be,Je]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},gn={sdk_version:q.sdkVersion,app_instance_id:be,app_instance_id_token:Je,app_id:q.appId,language_code:Kn()},jn={method:"POST",headers:_n,body:JSON.stringify(gn)},Dr=fetch(xt,jn),wr=new Promise((na,ra)=>{N.signal.addEventListener(()=>{const nl=new Error("The operation was aborted.");nl.name="AbortError",ra(nl)})});let Bo;try{yield Promise.race([Dr,wr]),Bo=yield Dr}catch(na){let ra="fetch-client-network";throw"AbortError"===(null==na?void 0:na.name)&&(ra="fetch-timeout"),dn.create(ra,{originalErrorMessage:null==na?void 0:na.message})}let oi=Bo.status;const Gs=Bo.headers.get("ETag")||void 0;let Pi,Ws;if(200===Bo.status){let na;try{na=yield Bo.json()}catch(ra){throw dn.create("fetch-client-parse",{originalErrorMessage:null==ra?void 0:ra.message})}Pi=na.entries,Ws=na.state}if("INSTANCE_STATE_UNSPECIFIED"===Ws?oi=500:"NO_CHANGE"===Ws?oi=304:("NO_TEMPLATE"===Ws||"EMPTY_CONFIG"===Ws)&&(Pi={}),304!==oi&&200!==oi)throw dn.create("fetch-status",{httpStatus:oi});return{status:oi,eTag:Gs,config:Pi}})()}}class ji{constructor(N,q){this.client=N,this.storage=q}fetch(N){var q=this;return(0,Q.Z)(function*(){const be=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(N,be)})()}attemptFetch(N,{throttleEndTimeMillis:q,backoffCount:be}){var Je=this;return(0,Q.Z)(function*(){yield function Li(A,N){return new Promise((q,be)=>{const Je=Math.max(N-Date.now(),0),ot=setTimeout(q,Je);A.addEventListener(()=>{clearTimeout(ot),be(dn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,q);try{const ot=yield Je.client.fetch(N);return yield Je.storage.deleteThrottleMetadata(),ot}catch(ot){if(!function Ji(A){if(!(A instanceof we.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}(ot))throw ot;const xt={throttleEndTimeMillis:Date.now()+(0,we.$s)(be),backoffCount:be+1};return yield Je.storage.setThrottleMetadata(xt),Je.attemptFetch(N,xt)}})()}}class qs{constructor(N,q,be,Je,ot){this.app=N,this._client=q,this._storageCache=be,this._storage=Je,this._logger=ot,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fi(A,N){const q=A.target.error||void 0;return dn.create(N,{originalErrorMessage:q&&(null==q?void 0:q.message)})}const Rn="app_namespace_store";class sr{constructor(N,q,be,Je=function gs(){return new Promise((A,N)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=be=>{N(fi(be,"storage-open"))},q.onsuccess=be=>{A(be.target.result)},q.onupgradeneeded=be=>{0===be.oldVersion&&be.target.result.createObjectStore(Rn,{keyPath:"compositeKey"})}}catch(q){N(dn.create("storage-open",{originalErrorMessage:null==q?void 0:q.message}))}})}()){this.appId=N,this.appName=q,this.namespace=be,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var q=this;return(0,Q.Z)(function*(){const be=yield q.openDbPromise;return new Promise((Je,ot)=>{const _n=be.transaction([Rn],"readonly").objectStore(Rn),gn=q.createCompositeKey(N);try{const jn=_n.get(gn);jn.onerror=Dr=>{ot(fi(Dr,"storage-get"))},jn.onsuccess=Dr=>{const wr=Dr.target.result;Je(wr?wr.value:void 0)}}catch(jn){ot(dn.create("storage-get",{originalErrorMessage:null==jn?void 0:jn.message}))}})})()}set(N,q){var be=this;return(0,Q.Z)(function*(){const Je=yield be.openDbPromise;return new Promise((ot,xt)=>{const gn=Je.transaction([Rn],"readwrite").objectStore(Rn),jn=be.createCompositeKey(N);try{const Dr=gn.put({compositeKey:jn,value:q});Dr.onerror=wr=>{xt(fi(wr,"storage-set"))},Dr.onsuccess=()=>{ot()}}catch(Dr){xt(dn.create("storage-set",{originalErrorMessage:null==Dr?void 0:Dr.message}))}})})()}delete(N){var q=this;return(0,Q.Z)(function*(){const be=yield q.openDbPromise;return new Promise((Je,ot)=>{const _n=be.transaction([Rn],"readwrite").objectStore(Rn),gn=q.createCompositeKey(N);try{const jn=_n.delete(gn);jn.onerror=Dr=>{ot(fi(Dr,"storage-delete"))},jn.onsuccess=()=>{Je()}}catch(jn){ot(dn.create("storage-delete",{originalErrorMessage:null==jn?void 0:jn.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Vs{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,Q.Z)(function*(){const q=N.storage.getLastFetchStatus(),be=N.storage.getLastSuccessfulFetchTimestampMillis(),Je=N.storage.getActiveConfig(),ot=yield q;ot&&(N.lastFetchStatus=ot);const xt=yield be;xt&&(N.lastSuccessfulFetchTimestampMillis=xt);const _n=yield Je;_n&&(N.activeConfig=_n)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function wo(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,Q.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}!function Si(){(0,le._registerComponent)(new Ce.wA("remote-config",function A(N,{instanceIdentifier:q}){const be=N.getProvider("app").getImmediate(),Je=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!(0,we.hl)())throw dn.create("indexed-db-unavailable");const{projectId:ot,apiKey:xt,appId:_n}=be.options;if(!ot)throw dn.create("registration-project-id");if(!xt)throw dn.create("registration-api-key");if(!_n)throw dn.create("registration-app-id");const gn=new sr(_n,be.name,q=q||"firebase"),jn=new Vs(gn),Dr=new fe.Yd(et);Dr.logLevel=fe.in.ERROR;const wr=new dr(Je,le.SDK_VERSION,q,ot,xt,_n),Bo=new ji(wr,gn),oi=new tn(Bo,gn,jn,Dr),Gs=new qs(be,oi,jn,gn,Dr);return function kn(A){const N=(0,we.m9)(A);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Gs),Gs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(et,"0.4.4"),(0,le.registerVersion)(et,"0.4.4","esm2017")}();const es=(A,N)=>N.some(q=>A instanceof q);let ho,Ss;const ks=new WeakMap,is=new WeakMap,qr=new WeakMap,Br=new WeakMap,ss=new WeakMap;let fo={get(A,N,q){if(A instanceof IDBTransaction){if("done"===N)return is.get(A);if("objectStoreNames"===N)return A.objectStoreNames||qr.get(A);if("store"===N)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return xi(A[N])},set:(A,N,q)=>(A[N]=q,!0),has:(A,N)=>A instanceof IDBTransaction&&("done"===N||"store"===N)||N in A};function oo(A){return"function"==typeof A?function Ii(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ms(){return Ss||(Ss=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...N){return A.apply(ds(this),N),xi(ks.get(this))}:function(...N){return xi(A.apply(ds(this),N))}:function(N,...q){const be=A.call(ds(this),N,...q);return qr.set(be,N.sort?N.sort():[N]),xi(be)}}(A):(A instanceof IDBTransaction&&function Mi(A){if(is.has(A))return;const N=new Promise((q,be)=>{const Je=()=>{A.removeEventListener("complete",ot),A.removeEventListener("error",xt),A.removeEventListener("abort",xt)},ot=()=>{q(),Je()},xt=()=>{be(A.error||new DOMException("AbortError","AbortError")),Je()};A.addEventListener("complete",ot),A.addEventListener("error",xt),A.addEventListener("abort",xt)});is.set(A,N)}(A),es(A,function or(){return ho||(ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,fo):A)}function xi(A){if(A instanceof IDBRequest)return function to(A){const N=new Promise((q,be)=>{const Je=()=>{A.removeEventListener("success",ot),A.removeEventListener("error",xt)},ot=()=>{q(xi(A.result)),Je()},xt=()=>{be(A.error),Je()};A.addEventListener("success",ot),A.addEventListener("error",xt)});return N.then(q=>{q instanceof IDBCursor&&ks.set(q,A)}).catch(()=>{}),ss.set(N,A),N}(A);if(Br.has(A))return Br.get(A);const N=oo(A);return N!==A&&(Br.set(A,N),ss.set(N,A)),N}const ds=A=>ss.get(A);function ui(A,N,{blocked:q,upgrade:be,blocking:Je,terminated:ot}={}){const xt=indexedDB.open(A,N),_n=xi(xt);return be&&xt.addEventListener("upgradeneeded",gn=>{be(xi(xt.result),gn.oldVersion,gn.newVersion,xi(xt.transaction))}),q&&xt.addEventListener("blocked",()=>q()),_n.then(gn=>{ot&&gn.addEventListener("close",()=>ot()),Je&&gn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),_n}function Ks(A,{blocked:N}={}){const q=indexedDB.deleteDatabase(A);return N&&q.addEventListener("blocked",()=>N()),xi(q).then(()=>{})}const no=["get","getKey","getAll","getAllKeys","count"],ao=["put","add","delete","clear"],lo=new Map;function bo(A,N){if(!(A instanceof IDBDatabase)||N in A||"string"!=typeof N)return;if(lo.get(N))return lo.get(N);const q=N.replace(/FromIndex$/,""),be=N!==q,Je=ao.includes(q);if(!(q in(be?IDBIndex:IDBObjectStore).prototype)||!Je&&!no.includes(q))return;const ot=function(){var xt=(0,Q.Z)(function*(_n,...gn){const jn=this.transaction(_n,Je?"readwrite":"readonly");let Dr=jn.store;return be&&(Dr=Dr.index(gn.shift())),(yield Promise.all([Dr[q](...gn),Je&&jn.done]))[0]});return function(gn){return xt.apply(this,arguments)}}();return lo.set(N,ot),ot}!function Hi(A){fo=A(fo)}(A=>({...A,get:(N,q,be)=>bo(N,q)||A.get(N,q,be),has:(N,q)=>!!bo(N,q)||A.has(N,q)}));const Zs="/firebase-messaging-sw.js",ro="/firebase-cloud-messaging-push-scope",Ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_a="https://fcmregistrations.googleapis.com/v1",Qr="google.c.a.c_id",W="google.c.a.c_l",z="google.c.a.ts";var V=function(A){return A.PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",A}(V||{});function P(A){const N=new Uint8Array(A);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function X(A){const q=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),be=atob(q),Je=new Uint8Array(be.length);for(let ot=0;ot<be.length;++ot)Je[ot]=be.charCodeAt(ot);return Je}const ut="fcm_token_details_db",v=5,L="fcm_token_object_Store";function B(){return B=(0,Q.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ot=>ot.name).includes(ut))return null;let N=null;return(yield ui(ut,v,{upgrade:(be=(0,Q.Z)(function*(Je,ot,xt,_n){var gn;if(ot<2||!Je.objectStoreNames.contains(L))return;const jn=_n.objectStore(L),Dr=yield jn.index("fcmSenderId").get(A);if(yield jn.clear(),Dr)if(2===ot){const wr=Dr;if(!wr.auth||!wr.p256dh||!wr.endpoint)return;N={token:wr.fcmToken,createTime:null!==(gn=wr.createTime)&&void 0!==gn?gn:Date.now(),subscriptionOptions:{auth:wr.auth,p256dh:wr.p256dh,endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:"string"==typeof wr.vapidKey?wr.vapidKey:P(wr.vapidKey)}}}else if(3===ot){const wr=Dr;N={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:P(wr.auth),p256dh:P(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:P(wr.vapidKey)}}}else if(4===ot){const wr=Dr;N={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:P(wr.auth),p256dh:P(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:P(wr.vapidKey)}}}}),function(ot,xt,_n,gn){return be.apply(this,arguments)})})).close(),yield Ks(ut),yield Ks("fcm_vapid_details_db"),yield Ks("undefined"),function ie(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:N}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var be}),B.apply(this,arguments)}const pt="firebase-messaging-database",Gt=1,an="firebase-messaging-store";let An=null;function Jn(){return An||(An=ui(pt,Gt,{upgrade:(A,N)=>{0===N&&A.createObjectStore(an)}})),An}function Jr(A){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,Q.Z)(function*(A){const N=Fs(A),be=yield(yield Jn()).transaction(an).objectStore(an).get(N);if(be)return be;{const Je=yield function _(A){return B.apply(this,arguments)}(A.appConfig.senderId);if(Je)return yield Vr(A,Je),Je}}),Hr.apply(this,arguments)}function Vr(A,N){return hs.apply(this,arguments)}function hs(){return(hs=(0,Q.Z)(function*(A,N){const q=Fs(A),Je=(yield Jn()).transaction(an,"readwrite");return yield Je.objectStore(an).put(N,q),yield Je.done,N})).apply(this,arguments)}function Bi(){return(Bi=(0,Q.Z)(function*(A){const N=Fs(A),be=(yield Jn()).transaction(an,"readwrite");yield be.objectStore(an).delete(N),yield be.done})).apply(this,arguments)}function Fs({appConfig:A}){return A.appId}const fs=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fl(A,N){return aa.apply(this,arguments)}function aa(){return(aa=(0,Q.Z)(function*(A,N){const q=yield po(A),be=Ia(N),Je={method:"POST",headers:q,body:JSON.stringify(be)};let ot;try{ot=yield(yield fetch(ua(A.appConfig),Je)).json()}catch(xt){throw fs.create("token-subscribe-failed",{errorInfo:null==xt?void 0:xt.toString()})}if(ot.error)throw fs.create("token-subscribe-failed",{errorInfo:ot.error.message});if(!ot.token)throw fs.create("token-subscribe-no-token");return ot.token})).apply(this,arguments)}function ca(){return(ca=(0,Q.Z)(function*(A,N){const q=yield po(A),be=Ia(N.subscriptionOptions),Je={method:"PATCH",headers:q,body:JSON.stringify(be)};let ot;try{ot=yield(yield fetch(`${ua(A.appConfig)}/${N.token}`,Je)).json()}catch(xt){throw fs.create("token-update-failed",{errorInfo:null==xt?void 0:xt.toString()})}if(ot.error)throw fs.create("token-update-failed",{errorInfo:ot.error.message});if(!ot.token)throw fs.create("token-update-no-token");return ot.token})).apply(this,arguments)}function xo(A,N){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,Q.Z)(function*(A,N){const be={method:"DELETE",headers:yield po(A)};try{const ot=yield(yield fetch(`${ua(A.appConfig)}/${N}`,be)).json();if(ot.error)throw fs.create("token-unsubscribe-failed",{errorInfo:ot.error.message})}catch(Je){throw fs.create("token-unsubscribe-failed",{errorInfo:null==Je?void 0:Je.toString()})}})).apply(this,arguments)}function ua({projectId:A}){return`${_a}/projects/${A}/registrations`}function po(A){return da.apply(this,arguments)}function da(){return(da=(0,Q.Z)(function*({appConfig:A,installations:N}){const q=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function Ia({p256dh:A,auth:N,endpoint:q,vapidKey:be}){const Je={web:{endpoint:q,auth:N,p256dh:A}};return be!==Ho&&(Je.web.applicationPubKey=be),Je}const qa=6048e5;function Ea(){return Ea=(0,Q.Z)(function*(A){const N=yield function Zo(A,N){return si.apply(this,arguments)}(A.swRegistration,A.vapidKey),q={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:N.endpoint,auth:P(N.getKey("auth")),p256dh:P(N.getKey("p256dh"))},be=yield Jr(A.firebaseDependencies);if(be){if(function S(A,N){return N.vapidKey===A.vapidKey&&N.endpoint===A.endpoint&&N.auth===A.auth&&N.p256dh===A.p256dh}(be.subscriptionOptions,q))return Date.now()>=be.createTime+qa?function pl(A,N){return Ro.apply(this,arguments)}(A,{token:be.token,createTime:Date.now(),subscriptionOptions:q}):be.token;try{yield xo(A.firebaseDependencies,be.token)}catch(Je){console.warn(Je)}return Ka(A.firebaseDependencies,q)}return Ka(A.firebaseDependencies,q)}),Ea.apply(this,arguments)}function Da(){return Da=(0,Q.Z)(function*(A){const N=yield Jr(A.firebaseDependencies);N&&(yield xo(A.firebaseDependencies,N.token),yield function Gi(A){return Bi.apply(this,arguments)}(A.firebaseDependencies));const q=yield A.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),Da.apply(this,arguments)}function Ro(){return Ro=(0,Q.Z)(function*(A,N){try{const q=yield function la(A,N){return ca.apply(this,arguments)}(A.firebaseDependencies,N),be=Object.assign(Object.assign({},N),{token:q,createTime:Date.now()});return yield Vr(A.firebaseDependencies,be),q}catch(q){throw yield function Xs(A){return Da.apply(this,arguments)}(A),q}}),Ro.apply(this,arguments)}function Ka(A,N){return vs.apply(this,arguments)}function vs(){return(vs=(0,Q.Z)(function*(A,N){const be={token:yield fl(A,N),createTime:Date.now(),subscriptionOptions:N};return yield Vr(A,be),be.token})).apply(this,arguments)}function si(){return(si=(0,Q.Z)(function*(A,N){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:X(N)})})).apply(this,arguments)}function j(A){const N={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function De(A,N){if(!N.notification)return;A.notification={};const q=N.notification.title;q&&(A.notification.title=q);const be=N.notification.body;be&&(A.notification.body=be);const Je=N.notification.image;Je&&(A.notification.image=Je);const ot=N.notification.icon;ot&&(A.notification.icon=ot)}(N,A),function $(A,N){N.data&&(A.data=N.data)}(N,A),function ce(A,N){var q,be,Je,ot,xt;if(!(N.fcmOptions||null!==(q=N.notification)&&void 0!==q&&q.click_action))return;A.fcmOptions={};const _n=null!==(Je=null===(be=N.fcmOptions)||void 0===be?void 0:be.link)&&void 0!==Je?Je:null===(ot=N.notification)||void 0===ot?void 0:ot.click_action;_n&&(A.fcmOptions.link=_n);const gn=null===(xt=N.fcmOptions)||void 0===xt?void 0:xt.analytics_label;gn&&(A.fcmOptions.analyticsLabel=gn)}(N,A),N}function Pt(A,N){const q=[];for(let be=0;be<A.length;be++)q.push(A.charAt(be)),be<N.length&&q.push(N.charAt(be));return q.join("")}function bn(A){return fs.create("missing-app-config-values",{valueName:A})}Pt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hr{constructor(N,q,be){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function nn(A){if(!A||!A.options)throw bn("App Configuration Object");if(!A.name)throw bn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:q}=A;for(const be of N)if(!q[be])throw bn(be);return{appName:A.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Je,installations:q,analyticsProvider:be}}_delete(){return Promise.resolve()}}function Wn(){return(Wn=(0,Q.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(Zs,{scope:ro}),A.swRegistration.update().catch(()=>{})}catch(N){throw fs.create("failed-service-worker-registration",{browserErrorMessage:null==N?void 0:N.message})}})).apply(this,arguments)}function Tr(){return(Tr=(0,Q.Z)(function*(A,N){if(!N&&!A.swRegistration&&(yield function er(A){return Wn.apply(this,arguments)}(A)),N||!A.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw fs.create("invalid-sw-registration");A.swRegistration=N}})).apply(this,arguments)}function Ri(){return(Ri=(0,Q.Z)(function*(A,N){N?A.vapidKey=N:A.vapidKey||(A.vapidKey=Ho)})).apply(this,arguments)}function Oo(){return Oo=(0,Q.Z)(function*(A,N){if(!navigator)throw fs.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fs.create("permission-blocked");return yield function ei(A,N){return Ri.apply(this,arguments)}(A,null==N?void 0:N.vapidKey),yield function Di(A,N){return Tr.apply(this,arguments)}(A,null==N?void 0:N.serviceWorkerRegistration),function Gl(A){return Ea.apply(this,arguments)}(A)}),Oo.apply(this,arguments)}function As(){return(As=(0,Q.Z)(function*(A,N,q){const be=function zo(A){switch(A){case V.NOTIFICATION_CLICKED:return"notification_open";case V.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(be,{message_id:q[Qr],message_name:q[W],message_time:q[z],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ms(){return Ms=(0,Q.Z)(function*(A,N){const q=N.data;if(!q.isFirebaseMessaging)return;A.onMessageHandler&&q.messageType===V.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(j(q)):A.onMessageHandler.next(j(q)));const be=q.data;(function Be(A){return"object"==typeof A&&!!A&&Qr in A})(be)&&"1"===be["google.c.a.e"]&&(yield function go(A,N,q){return As.apply(this,arguments)}(A,q.messageType,be))}),Ms.apply(this,arguments)}const Za="@firebase/messaging",ba=A=>{const N=new hr(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function ha(A,N){return Ms.apply(this,arguments)}(N,q)),N},ur=A=>{const N=A.getProvider("messaging").getImmediate();return{getToken:be=>function ps(A,N){return Oo.apply(this,arguments)}(N,be)}};function Wl(){return ys.apply(this,arguments)}function ys(){return(ys=(0,Q.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ca(){(0,le._registerComponent)(new Ce.wA("messaging",ba,"PUBLIC")),(0,le._registerComponent)(new Ce.wA("messaging-internal",ur,"PRIVATE")),(0,le.registerVersion)(Za,"0.12.4"),(0,le.registerVersion)(Za,"0.12.4","esm2017")}();const pn="analytics",yt="firebase_id",Xr="origin",Dn=6e4,Tt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kt="https://www.googletagmanager.com/gtag/js",zr=new fe.Yd("@firebase/analytics"),ns=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Sa(A){if(!A.startsWith(kt)){const N=ns.create("invalid-gtag-resource",{gtagURL:A});return zr.warn(N.message),""}return A}function Qa(A){return Promise.all(A.map(N=>N.catch(q=>q)))}function Go(){return(Go=(0,Q.Z)(function*(A,N,q,be,Je,ot){const xt=be[Je];try{if(xt)yield N[xt];else{const gn=(yield Qa(q)).find(jn=>jn.measurementId===Je);gn&&(yield N[gn.appId])}}catch(_n){zr.error(_n)}A("config",Je,ot)})).apply(this,arguments)}function Xo(){return(Xo=(0,Q.Z)(function*(A,N,q,be,Je){try{let ot=[];if(Je&&Je.send_to){let xt=Je.send_to;Array.isArray(xt)||(xt=[xt]);const _n=yield Qa(q);for(const gn of xt){const jn=_n.find(wr=>wr.measurementId===gn),Dr=jn&&N[jn.appId];if(!Dr){ot=[];break}ot.push(Dr)}}0===ot.length&&(ot=Object.values(N)),yield Promise.all(ot),A("event",be,Je||{})}catch(ot){zr.error(ot)}})).apply(this,arguments)}const Yi=30,Gr=new class Co{constructor(N={},q=1e3){this.throttleMetadata=N,this.intervalMillis=q}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,q){this.throttleMetadata[N]=q}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ql(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function En(){return(En=(0,Q.Z)(function*(A){var N;const{appId:q,apiKey:be}=A,Je={method:"GET",headers:ql(be)},ot=Tt.replace("{app-id}",q),xt=yield fetch(ot,Je);if(200!==xt.status&&304!==xt.status){let _n="";try{const gn=yield xt.json();null!==(N=gn.error)&&void 0!==N&&N.message&&(_n=gn.error.message)}catch{}throw ns.create("config-fetch-failed",{httpStatus:xt.status,responseMessage:_n})}return xt.json()})).apply(this,arguments)}function Qo(){return(Qo=(0,Q.Z)(function*(A,N=Gr,q){const{appId:be,apiKey:Je,measurementId:ot}=A.options;if(!be)throw ns.create("no-app-id");if(!Je){if(ot)return{measurementId:ot,appId:be};throw ns.create("no-api-key")}const xt=N.getThrottleMetadata(be)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new M;return setTimeout((0,Q.Z)(function*(){_n.abort()}),void 0!==q?q:Dn),fa({appId:be,apiKey:Je,measurementId:ot},xt,_n,N)})).apply(this,arguments)}function fa(A,N,q){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,Q.Z)(function*(A,{throttleEndTimeMillis:N,backoffCount:q},be,Je=Gr){var ot;const{appId:xt,measurementId:_n}=A;try{yield function yl(A,N){return new Promise((q,be)=>{const Je=Math.max(N-Date.now(),0),ot=setTimeout(q,Je);A.addEventListener(()=>{clearTimeout(ot),be(ns.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(be,N)}catch(gn){if(_n)return zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${null==gn?void 0:gn.message}]`),{appId:xt,measurementId:_n};throw gn}try{const gn=yield function qi(A){return En.apply(this,arguments)}(A);return Je.deleteThrottleMetadata(xt),gn}catch(gn){const jn=gn;if(!function b(A){if(!(A instanceof we.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}(jn)){if(Je.deleteThrottleMetadata(xt),_n)return zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${null==jn?void 0:jn.message}]`),{appId:xt,measurementId:_n};throw gn}const Dr=503===Number(null===(ot=null==jn?void 0:jn.customData)||void 0===ot?void 0:ot.httpStatus)?(0,we.$s)(q,Je.intervalMillis,Yi):(0,we.$s)(q,Je.intervalMillis),wr={throttleEndTimeMillis:Date.now()+Dr,backoffCount:q+1};return Je.setThrottleMetadata(xt,wr),zr.debug(`Calling attemptFetch again in ${Dr} millis`),fa(A,wr,be,Je)}}),Kl.apply(this,arguments)}class M{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let k,$i;function F(){return(F=(0,Q.Z)(function*(A,N,q,be,Je){if(Je&&Je.global)A("event",q,be);else{const ot=yield N;A("event",q,Object.assign(Object.assign({},be),{send_to:ot}))}})).apply(this,arguments)}function No(){return(No=(0,Q.Z)(function*(){if(!(0,we.hl)())return zr.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(A){return zr.warn(ns.create("indexeddb-unavailable",{errorInfo:null==A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function ko(){return ko=(0,Q.Z)(function*(A,N,q,be,Je,ot,xt){var _n;const gn=function vl(A){return Qo.apply(this,arguments)}(A);gn.then(oi=>{q[oi.measurementId]=oi.appId,A.options.measurementId&&oi.measurementId!==A.options.measurementId&&zr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(oi=>zr.error(oi)),N.push(gn);const jn=function Po(){return No.apply(this,arguments)}().then(oi=>{if(oi)return be.getId()}),[Dr,wr]=yield Promise.all([gn,jn]);(function Yl(A){const N=window.document.getElementsByTagName("script");for(const q of Object.values(N))if(q.src&&q.src.includes(kt)&&q.src.includes(A))return q;return null})(ot)||function Dc(A,N){const q=function ml(A,N){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(A,N)),q}("firebase-js-sdk-policy",{createScriptURL:Sa}),be=document.createElement("script"),Je=`${kt}?l=${A}&id=${N}`;be.src=q?null==q?void 0:q.createScriptURL(Je):Je,be.async=!0,document.head.appendChild(be)}(ot,Dr.measurementId),$i&&(Je("consent","default",$i),function co(A){$i=A}(void 0)),Je("js",new Date);const Bo=null!==(_n=null==xt?void 0:xt.config)&&void 0!==_n?_n:{};return Bo[Xr]="firebase",Bo.update=!0,null!=wr&&(Bo[yt]=wr),Je("config",Dr.measurementId,Bo),k&&(Je("set",k),function Ls(A){k=A}(void 0)),Dr.measurementId}),ko.apply(this,arguments)}class js{constructor(N){this.app=N}_delete(){return delete Rs[this.app.options.appId],Promise.resolve()}}let Rs={},pa=[];const iu={};let su,Hs,Qs="dataLayer",bc=!1;function Zl(A,N,q){!function Gd(){const A=[];if((0,we.ru)()&&A.push("This is a browser extension environment."),(0,we.zI)()||A.push("Cookies are not available."),A.length>0){const N=A.map((be,Je)=>`(${Je+1}) ${be}`).join(" "),q=ns.create("invalid-analytics-context",{errorInfo:N});zr.warn(q.message)}}();const be=A.options.appId;if(!be)throw ns.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw ns.create("no-api-key");zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rs[be])throw ns.create("already-exists",{id:be});if(!bc){!function wc(A){let N=[];Array.isArray(window[A])?N=window[A]:window[A]=N}(Qs);const{wrappedGtag:ot,gtagCore:xt}=function Aa(A,N,q,be,Je){let ot=function(...xt){window[be].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(ot=window[Je]),window[Je]=function rr(A,N,q,be){function ot(){return ot=(0,Q.Z)(function*(xt,..._n){try{if("event"===xt){const[gn,jn]=_n;yield function Ja(A,N,q,be,Je){return Xo.apply(this,arguments)}(A,N,q,gn,jn)}else if("config"===xt){const[gn,jn]=_n;yield function Us(A,N,q,be,Je,ot){return Go.apply(this,arguments)}(A,N,q,be,gn,jn)}else if("consent"===xt){const[gn]=_n;A("consent","update",gn)}else if("get"===xt){const[gn,jn,Dr]=_n;A("get",gn,jn,Dr)}else if("set"===xt){const[gn]=_n;A("set",gn)}else A(xt,..._n)}catch(gn){zr.error(gn)}}),ot.apply(this,arguments)}return function Je(xt){return ot.apply(this,arguments)}}(ot,A,N,q),{gtagCore:ot,wrappedGtag:window[Je]}}(Rs,pa,iu,Qs,"gtag");Hs=ot,su=xt,bc=!0}return Rs[be]=function Na(A,N,q,be,Je,ot,xt){return ko.apply(this,arguments)}(A,pa,iu,N,su,Qs,q),new js(A)}function el(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,Q.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const Ac="@firebase/analytics";!function cu(){(0,le._registerComponent)(new Ce.wA(pn,(N,{options:q})=>Zl(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,le._registerComponent)(new Ce.wA("analytics-internal",function A(N){try{const q=N.getProvider(pn).getImmediate();return{logEvent:(be,Je,ot)=>function Il(A,N,q,be){A=(0,we.m9)(A),function T(A,N,q,be,Je){return F.apply(this,arguments)}(Hs,Rs[A.app.options.appId],N,q,be).catch(Je=>zr.error(Je))}(q,be,Je,ot)}}catch(q){throw ns.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,le.registerVersion)(Ac,"0.10.0"),(0,le.registerVersion)(Ac,"0.10.0","esm2017")}();var Mc=O(1954),Wu=O(2631);const zs=new class Dl extends Wu.v{}(class uu extends Mc.o{constructor(N,q){super(N,q),this.scheduler=N,this.work=q}schedule(N,q=0){return q>0?super.schedule(N,q):(this.delay=q,this.state=N,this.scheduler.flush(this),this)}execute(N,q){return q>0||this.closed?super.execute(N,q):this._execute(N,q)}requestAsyncId(N,q,be=0){return null!=be&&be>0||null==be&&this.delay>0?super.requestAsyncId(N,q,be):(N.flush(this),0)}});var Fo=O(6321),ka=O(9397),Oi=O(3093),Fa=O(5137);const Bs=new g.GfV("7.6.1"),gi="__angularfire_symbol__analyticsIsSupportedValue",wl="__angularfire_symbol__analyticsIsSupported",_s="__angularfire_symbol__remoteConfigIsSupportedValue",io="__angularfire_symbol__remoteConfigIsSupported",bl="__angularfire_symbol__messagingIsSupportedValue",Cl="__angularfire_symbol__messagingIsSupported";function To(A,N,q){if(N){if(1===N.length)return N[0];const ot=N.filter(xt=>xt.app===q);if(1===ot.length)return ot[0]}return q.container.getProvider(A).getImmediate({optional:!0})}globalThis[wl]||(globalThis[wl]=el().then(A=>globalThis[gi]=A).catch(()=>globalThis[gi]=!1)),globalThis[Cl]||(globalThis[Cl]=Wl().then(A=>globalThis[bl]=A).catch(()=>globalThis[bl]=!1)),globalThis[io]||(globalThis[io]=wo().then(A=>globalThis[_s]=A).catch(()=>globalThis[_s]=!1));const Ma=(A,N)=>{const q=N?[N]:(0,p.C6)(),be=[];return q.forEach(Je=>{Je.container.getProvider(A).instances.forEach(xt=>{be.includes(xt)||be.push(xt)})}),be};function Wo(){}class La{constructor(N,q=zs){this.zone=N,this.delegate=q}now(){return this.delegate.now()}schedule(N,q,be){const Je=this.zone;return this.delegate.schedule(function(xt){Je.runGuarded(()=>{N.apply(this,[xt])})},q,be)}}class Tl{constructor(N){this.zone=N,this.task=null}call(N,q){const be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),q.pipe((0,ka.b)({next:be,complete:be,error:be})).subscribe(N).add(be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ba=(()=>{class A{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new La(Zone.current)),this.insideAngular=q.run(()=>new La(Zone.current,Fo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(q){return new(q||A)(g.LFG(g.R0b))},A.\u0275prov=g.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function So(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function xa(A){return A.pipe((0,Oi.Q)(So().outsideAngular))}function $a(A){return So(),function Yd(A){return function(q){return(q=q.lift(new Tl(A.ngZone))).pipe((0,Fa.R)(A.outsideAngular),(0,Oi.Q)(A.insideAngular))}}(So())(A)}},9058:(en,nt,O)=>{"use strict";O.d(nt,{$s:()=>Wr,BH:()=>me,DV:()=>xn,Dv:()=>Ut,G6:()=>gt,GJ:()=>In,L:()=>Ue,LL:()=>Xe,Pz:()=>ge,Sg:()=>Se,UG:()=>Le,UI:()=>wn,US:()=>Ce,Wj:()=>Un,Wl:()=>Te,Yr:()=>Qt,ZB:()=>Oe,ZR:()=>tt,aH:()=>ve,b$:()=>ht,cI:()=>ft,dS:()=>Pr,eu:()=>Ie,g5:()=>Q,gK:()=>ir,gQ:()=>Pn,h$:()=>qe,hl:()=>ue,hu:()=>p,jU:()=>ze,lb:()=>mi,m9:()=>qn,ne:()=>mr,p$:()=>se,pd:()=>un,r3:()=>cn,ru:()=>ct,tV:()=>_e,uI:()=>Me,ug:()=>ri,vZ:()=>On,w1:()=>jt,w9:()=>qt,xO:()=>pr,xb:()=>Sn,z$:()=>ye,zI:()=>Fe,zd:()=>gr});const g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},p=function(Ve,re){if(!Ve)throw Q(re)},Q=function(Ve){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ve)},le=function(Ve){const re=[];let J=0;for(let Pe=0;Pe<Ve.length;Pe++){let oe=Ve.charCodeAt(Pe);oe<128?re[J++]=oe:oe<2048?(re[J++]=oe>>6|192,re[J++]=63&oe|128):55296==(64512&oe)&&Pe+1<Ve.length&&56320==(64512&Ve.charCodeAt(Pe+1))?(oe=65536+((1023&oe)<<10)+(1023&Ve.charCodeAt(++Pe)),re[J++]=oe>>18|240,re[J++]=oe>>12&63|128,re[J++]=oe>>6&63|128,re[J++]=63&oe|128):(re[J++]=oe>>12|224,re[J++]=oe>>6&63|128,re[J++]=63&oe|128)}return re},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ve,re){if(!Array.isArray(Ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let oe=0;oe<Ve.length;oe+=3){const Ge=Ve[oe],Et=oe+1<Ve.length,Bt=Et?Ve[oe+1]:0,on=oe+2<Ve.length,vn=on?Ve[oe+2]:0;let br=(15&Bt)<<2|vn>>6,fr=63&vn;on||(fr=64,Et||(br=64)),Pe.push(J[Ge>>2],J[(3&Ge)<<4|Bt>>4],J[br],J[fr])}return Pe.join("")},encodeString(Ve,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Ve):this.encodeByteArray(le(Ve),re)},decodeString(Ve,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Ve):function(Ve){const re=[];let J=0,Pe=0;for(;J<Ve.length;){const oe=Ve[J++];if(oe<128)re[Pe++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ge=Ve[J++];re[Pe++]=String.fromCharCode((31&oe)<<6|63&Ge)}else if(oe>239&&oe<365){const on=((7&oe)<<18|(63&Ve[J++])<<12|(63&Ve[J++])<<6|63&Ve[J++])-65536;re[Pe++]=String.fromCharCode(55296+(on>>10)),re[Pe++]=String.fromCharCode(56320+(1023&on))}else{const Ge=Ve[J++],Et=Ve[J++];re[Pe++]=String.fromCharCode((15&oe)<<12|(63&Ge)<<6|63&Et)}}return re.join("")}(this.decodeStringToByteArray(Ve,re))},decodeStringToByteArray(Ve,re){this.init_();const J=re?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let oe=0;oe<Ve.length;){const Ge=J[Ve.charAt(oe++)],Bt=oe<Ve.length?J[Ve.charAt(oe)]:0;++oe;const vn=oe<Ve.length?J[Ve.charAt(oe)]:64;++oe;const Fn=oe<Ve.length?J[Ve.charAt(oe)]:64;if(++oe,null==Ge||null==Bt||null==vn||null==Fn)throw new fe;Pe.push(Ge<<2|Bt>>4),64!==vn&&(Pe.push(Bt<<4&240|vn>>2),64!==Fn&&Pe.push(vn<<6&192|Fn))}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ve=0;Ve<this.ENCODED_VALS.length;Ve++)this.byteToCharMap_[Ve]=this.ENCODED_VALS.charAt(Ve),this.charToByteMap_[this.byteToCharMap_[Ve]]=Ve,this.byteToCharMapWebSafe_[Ve]=this.ENCODED_VALS_WEBSAFE.charAt(Ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ve]]=Ve,Ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ve)]=Ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ve)]=Ve)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qe=function(Ve){const re=le(Ve);return Ce.encodeByteArray(re,!0)},Ue=function(Ve){return qe(Ve).replace(/\./g,"")},_e=function(Ve){try{return Ce.decodeString(Ve,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function se(Ve){return Oe(void 0,Ve)}function Oe(Ve,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Ve&&(Ve={});break;case Array:Ve=[];break;default:return re}for(const J in re)!re.hasOwnProperty(J)||!xe(J)||(Ve[J]=Oe(Ve[J],re[J]));return Ve}function xe(Ve){return"__proto__"!==Ve}const Ae=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ve=process.env.__FIREBASE_DEFAULTS__;return Ve?JSON.parse(Ve):void 0})()||(()=>{if(typeof document>"u")return;let Ve;try{Ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=Ve&&_e(Ve[1]);return re&&JSON.parse(re)})()}catch(Ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ve}`)}},ve=()=>{var Ve;return null===(Ve=Ae())||void 0===Ve?void 0:Ve.config},ge=Ve=>{var re;return null===(re=Ae())||void 0===re?void 0:re[`_${Ve}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,J)=>{this.resolve=re,this.reject=J})}wrapCallback(re){return(J,Pe)=>{J?this.reject(J):this.resolve(Pe),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(J):re(J,Pe))}}}function Se(Ve,re){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pe=re||"demo-project",oe=Ve.iat||0,Ge=Ve.sub||Ve.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:oe,exp:oe+3600,auth_time:oe,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},Ve);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(Et)),""].join(".")}function ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function Le(){var Ve;const re=null===(Ve=Ae())||void 0===Ve?void 0:Ve.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ze(){return"object"==typeof self&&self.self===self}function ct(){const Ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ve&&void 0!==Ve.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jt(){const Ve=ye();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function Qt(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN}function gt(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((Ve,re)=>{try{let J=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(Pe);oe.onsuccess=()=>{oe.result.close(),J||self.indexedDB.deleteDatabase(Pe),Ve(!0)},oe.onupgradeneeded=()=>{J=!1},oe.onerror=()=>{var Ge;re((null===(Ge=oe.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(J){re(J)}})}function Fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(re,J,Pe){super(J),this.code=re,this.customData=Pe,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(re,J,Pe){this.service=re,this.serviceName=J,this.errors=Pe}create(re,...J){const Pe=J[0]||{},oe=`${this.service}/${re}`,Ge=this.errors[re],Et=Ge?function $t(Ve,re){return Ve.replace(Yt,(J,Pe)=>{const oe=re[Pe];return null!=oe?String(oe):`<${Pe}?>`})}(Ge,Pe):"Error";return new tt(oe,`${this.serviceName}: ${Et} (${oe}).`,Pe)}}const Yt=/\{\$([^}]+)}/g;function ft(Ve){return JSON.parse(Ve)}function Te(Ve){return JSON.stringify(Ve)}const at=function(Ve){let re={},J={},Pe={},oe="";try{const Ge=Ve.split(".");re=ft(_e(Ge[0])||""),J=ft(_e(Ge[1])||""),oe=Ge[2],Pe=J.d||{},delete J.d}catch{}return{header:re,claims:J,data:Pe,signature:oe}},qt=function(Ve){const J=at(Ve).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},In=function(Ve){const re=at(Ve).claims;return"object"==typeof re&&!0===re.admin};function cn(Ve,re){return Object.prototype.hasOwnProperty.call(Ve,re)}function xn(Ve,re){if(Object.prototype.hasOwnProperty.call(Ve,re))return Ve[re]}function Sn(Ve){for(const re in Ve)if(Object.prototype.hasOwnProperty.call(Ve,re))return!1;return!0}function wn(Ve,re,J){const Pe={};for(const oe in Ve)Object.prototype.hasOwnProperty.call(Ve,oe)&&(Pe[oe]=re.call(J,Ve[oe],oe,Ve));return Pe}function On(Ve,re){if(Ve===re)return!0;const J=Object.keys(Ve),Pe=Object.keys(re);for(const oe of J){if(!Pe.includes(oe))return!1;const Ge=Ve[oe],Et=re[oe];if(Bn(Ge)&&Bn(Et)){if(!On(Ge,Et))return!1}else if(Ge!==Et)return!1}for(const oe of Pe)if(!J.includes(oe))return!1;return!0}function Bn(Ve){return null!==Ve&&"object"==typeof Ve}function pr(Ve){const re=[];for(const[J,Pe]of Object.entries(Ve))Array.isArray(Pe)?Pe.forEach(oe=>{re.push(encodeURIComponent(J)+"="+encodeURIComponent(oe))}):re.push(encodeURIComponent(J)+"="+encodeURIComponent(Pe));return re.length?"&"+re.join("&"):""}function gr(Ve){const re={};return Ve.replace(/^\?/,"").split("&").forEach(Pe=>{if(Pe){const[oe,Ge]=Pe.split("=");re[decodeURIComponent(oe)]=decodeURIComponent(Ge)}}),re}function un(Ve){const re=Ve.indexOf("?");if(!re)return"";const J=Ve.indexOf("#",re);return Ve.substring(re,J>0?J:void 0)}class Pn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let re=1;re<this.blockSize;++re)this.pad_[re]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(re,J){J||(J=0);const Pe=this.W_;if("string"==typeof re)for(let Fn=0;Fn<16;Fn++)Pe[Fn]=re.charCodeAt(J)<<24|re.charCodeAt(J+1)<<16|re.charCodeAt(J+2)<<8|re.charCodeAt(J+3),J+=4;else for(let Fn=0;Fn<16;Fn++)Pe[Fn]=re[J]<<24|re[J+1]<<16|re[J+2]<<8|re[J+3],J+=4;for(let Fn=16;Fn<80;Fn++){const br=Pe[Fn-3]^Pe[Fn-8]^Pe[Fn-14]^Pe[Fn-16];Pe[Fn]=4294967295&(br<<1|br>>>31)}let vn,ln,oe=this.chain_[0],Ge=this.chain_[1],Et=this.chain_[2],Bt=this.chain_[3],on=this.chain_[4];for(let Fn=0;Fn<80;Fn++){Fn<40?Fn<20?(vn=Bt^Ge&(Et^Bt),ln=1518500249):(vn=Ge^Et^Bt,ln=1859775393):Fn<60?(vn=Ge&Et|Bt&(Ge|Et),ln=2400959708):(vn=Ge^Et^Bt,ln=3395469782);const br=(oe<<5|oe>>>27)+vn+on+ln+Pe[Fn]&4294967295;on=Bt,Bt=Et,Et=4294967295&(Ge<<30|Ge>>>2),Ge=oe,oe=br}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+Et&4294967295,this.chain_[3]=this.chain_[3]+Bt&4294967295,this.chain_[4]=this.chain_[4]+on&4294967295}update(re,J){if(null==re)return;void 0===J&&(J=re.length);const Pe=J-this.blockSize;let oe=0;const Ge=this.buf_;let Et=this.inbuf_;for(;oe<J;){if(0===Et)for(;oe<=Pe;)this.compress_(re,oe),oe+=this.blockSize;if("string"==typeof re){for(;oe<J;)if(Ge[Et]=re.charCodeAt(oe),++Et,++oe,Et===this.blockSize){this.compress_(Ge),Et=0;break}}else for(;oe<J;)if(Ge[Et]=re[oe],++Et,++oe,Et===this.blockSize){this.compress_(Ge),Et=0;break}}this.inbuf_=Et,this.total_+=J}digest(){const re=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&J,J/=256;this.compress_(this.buf_);let Pe=0;for(let oe=0;oe<5;oe++)for(let Ge=24;Ge>=0;Ge-=8)re[Pe]=this.chain_[oe]>>Ge&255,++Pe;return re}}function mr(Ve,re){const J=new Yn(Ve,re);return J.subscribe.bind(J)}class Yn{constructor(re,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{re(this)}).catch(Pe=>{this.error(Pe)})}next(re){this.forEachObserver(J=>{J.next(re)})}error(re){this.forEachObserver(J=>{J.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,J,Pe){let oe;if(void 0===re&&void 0===J&&void 0===Pe)throw new Error("Missing Observer.");oe=function Zt(Ve,re){if("object"!=typeof Ve||null===Ve)return!1;for(const J of re)if(J in Ve&&"function"==typeof Ve[J])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:J,complete:Pe},void 0===oe.next&&(oe.next=Hn),void 0===oe.error&&(oe.error=Hn),void 0===oe.complete&&(oe.complete=Hn);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Ge}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,re)}sendOne(re,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{J(this.observers[re])}catch(Pe){typeof console<"u"&&console.error&&console.error(Pe)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}const Ut=function(Ve,re,J,Pe){let oe;if(Pe<re?oe="at least "+re:Pe>J&&(oe=0===J?"none":"no more than "+J),oe)throw new Error(Ve+" failed: Was called with "+Pe+(1===Pe?" argument.":" arguments.")+" Expects "+oe+".")};function ir(Ve,re){return`${Ve} failed: ${re} argument `}function Un(Ve,re,J,Pe){if((!Pe||J)&&"function"!=typeof J)throw new Error(ir(Ve,re)+"must be a valid function.")}function mi(Ve,re,J,Pe){if((!Pe||J)&&("object"!=typeof J||null===J))throw new Error(ir(Ve,re)+"must be a valid context object.")}const Pr=function(Ve){const re=[];let J=0;for(let Pe=0;Pe<Ve.length;Pe++){let oe=Ve.charCodeAt(Pe);if(oe>=55296&&oe<=56319){const Ge=oe-55296;Pe++,p(Pe<Ve.length,"Surrogate pair missing trail surrogate."),oe=65536+(Ge<<10)+(Ve.charCodeAt(Pe)-56320)}oe<128?re[J++]=oe:oe<2048?(re[J++]=oe>>6|192,re[J++]=63&oe|128):oe<65536?(re[J++]=oe>>12|224,re[J++]=oe>>6&63|128,re[J++]=63&oe|128):(re[J++]=oe>>18|240,re[J++]=oe>>12&63|128,re[J++]=oe>>6&63|128,re[J++]=63&oe|128)}return re},ri=function(Ve){let re=0;for(let J=0;J<Ve.length;J++){const Pe=Ve.charCodeAt(J);Pe<128?re++:Pe<2048?re+=2:Pe>=55296&&Pe<=56319?(re+=4,J++):re+=3}return re},vi=1e3,ti=2,Kr=144e5,kr=.5;function Wr(Ve,re=vi,J=ti){const Pe=re*Math.pow(J,Ve),oe=Math.round(kr*Pe*(Math.random()-.5)*2);return Math.min(Kr,Pe+oe)}function qn(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}},1774:(en,nt,O)=>{"use strict";O.d(nt,{c:()=>lt});var g=O(6225),p=O(839);let Q;const we=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ce=Re=>(void 0===Q&&(Q=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),Q),fe=(Re,Ae,pe)=>{const _t=Ae.startsWith("animation")?Ce(Re):"";Re.style.setProperty(_t+Ae,pe)},qe=(Re,Ae)=>{const pe=Ae.startsWith("animation")?Ce(Re):"";Re.style.removeProperty(pe+Ae)},se=[],Ke=(Re=[],Ae)=>{if(void 0!==Ae){const pe=Array.isArray(Ae)?Ae:[Ae];return[...Re,...pe]}return Re},lt=Re=>{let Ae,pe,_t,ve,ge,me,ze,ue,Ie,Fe,Ze,Yt,ft,Se=[],ye=[],Me=[],Le=!1,ct={},ht=[],It=[],jt={},Tn=0,Qt=!1,gt=!1,tt=!0,Xe=!1,$t=!0,Te=!1;const at=Re,St=[],Ct=[],qt=[],In=[],cn=[],xn=[],Sn=[],wn=[],On=[],Bn=[],Or="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,pr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Or,un=()=>Bn,Zt=(K,Ee)=>((null!=Ee&&Ee.oneTimeCallback?Ct:St).push({c:K,o:Ee}),ft),Ut=()=>{if(pr)Bn.forEach(K=>{K.cancel()}),Bn.length=0;else{const K=qt.slice();(0,p.r)(()=>{K.forEach(Ee=>{qe(Ee,"animation-name"),qe(Ee,"animation-duration"),qe(Ee,"animation-timing-function"),qe(Ee,"animation-iteration-count"),qe(Ee,"animation-delay"),qe(Ee,"animation-play-state"),qe(Ee,"animation-fill-mode"),qe(Ee,"animation-direction")})})}},ir=()=>{cn.forEach(K=>{null!=K&&K.parentNode&&K.parentNode.removeChild(K)}),cn.length=0},Ar=()=>void 0!==ge?ge:ze?ze.getFill():"both",qn=()=>void 0!==Ie?Ie:void 0!==me?me:ze?ze.getDirection():"normal",Ve=()=>Qt?"linear":void 0!==_t?_t:ze?ze.getEasing():"linear",re=()=>gt?0:void 0!==Fe?Fe:void 0!==pe?pe:ze?ze.getDuration():0,J=()=>void 0!==ve?ve:ze?ze.getIterations():1,Pe=()=>void 0!==Ze?Ze:void 0!==Ae?Ae:ze?ze.getDelay():0,Ot=()=>{0!==Tn&&(Tn--,0===Tn&&((()=>{rs(),wn.forEach(et=>et()),On.forEach(et=>et());const K=tt?1:0,Ee=ht,Ne=It,mt=jt;qt.forEach(et=>{const At=et.classList;Ee.forEach(Nt=>At.add(Nt)),Ne.forEach(Nt=>At.remove(Nt));for(const Nt in mt)mt.hasOwnProperty(Nt)&&fe(et,Nt,mt[Nt])}),St.forEach(et=>et.c(K,ft)),Ct.forEach(et=>et.c(K,ft)),Ct.length=0,$t=!0,tt&&(Xe=!0),tt=!0})(),ze&&ze.animationFinish()))},hn=(K=!0)=>{ir();const Ee=(Re=>(Re.forEach(Ae=>{for(const pe in Ae)if(Ae.hasOwnProperty(pe)){const _t=Ae[pe];if("easing"===pe)Ae["animation-timing-function"]=_t,delete Ae[pe];else{const ve=we(pe);ve!==pe&&(Ae[ve]=_t,delete Ae[pe])}}}),Re))(Se);qt.forEach(Ne=>{if(Ee.length>0){const mt=((Re=[])=>Re.map(Ae=>{const pe=Ae.offset,_t=[];for(const ve in Ae)Ae.hasOwnProperty(ve)&&"offset"!==ve&&_t.push(`${ve}: ${Ae[ve]};`);return`${100*pe}% { ${_t.join(" ")} }`}).join(" "))(Ee);Yt=void 0!==Re?Re:(Re=>{let Ae=se.indexOf(Re);return Ae<0&&(Ae=se.push(Re)-1),`ion-animation-${Ae}`})(mt);const et=((Re,Ae,pe)=>{var _t;const ve=(Re=>{const Ae=void 0!==Re.getRootNode?Re.getRootNode():Re;return Ae.head||Ae})(pe),ge=Ce(pe),me=ve.querySelector("#"+Re);if(me)return me;const Se=(null!==(_t=pe.ownerDocument)&&void 0!==_t?_t:document).createElement("style");return Se.id=Re,Se.textContent=`@${ge}keyframes ${Re} { ${Ae} } @${ge}keyframes ${Re}-alt { ${Ae} }`,ve.appendChild(Se),Se})(Yt,mt,Ne);cn.push(et),fe(Ne,"animation-duration",`${re()}ms`),fe(Ne,"animation-timing-function",Ve()),fe(Ne,"animation-delay",`${Pe()}ms`),fe(Ne,"animation-fill-mode",Ar()),fe(Ne,"animation-direction",qn());const At=J()===1/0?"infinite":J().toString();fe(Ne,"animation-iteration-count",At),fe(Ne,"animation-play-state","paused"),K&&fe(Ne,"animation-name",`${et.id}-alt`),(0,p.r)(()=>{fe(Ne,"animation-name",et.id||null)})}})},Xt=(K=!0)=>{(()=>{xn.forEach(mt=>mt()),Sn.forEach(mt=>mt());const K=ye,Ee=Me,Ne=ct;qt.forEach(mt=>{const et=mt.classList;K.forEach(At=>et.add(At)),Ee.forEach(At=>et.remove(At));for(const At in Ne)Ne.hasOwnProperty(At)&&fe(mt,At,Ne[At])})})(),Se.length>0&&(pr?(qt.forEach(K=>{const Ee=K.animate(Se,{id:at,delay:Pe(),duration:re(),easing:Ve(),iterations:J(),fill:Ar(),direction:qn()});Ee.pause(),Bn.push(Ee)}),Bn.length>0&&(Bn[0].onfinish=()=>{Ot()})):hn(K)),Le=!0},Qn=K=>{if(K=Math.min(Math.max(K,0),.9999),pr)Bn.forEach(Ee=>{Ee.currentTime=Ee.effect.getComputedTiming().delay+re()*K,Ee.pause()});else{const Ee=`-${re()*K}ms`;qt.forEach(Ne=>{Se.length>0&&(fe(Ne,"animation-delay",Ee),fe(Ne,"animation-play-state","paused"))})}},yr=K=>{Bn.forEach(Ee=>{Ee.effect.updateTiming({delay:Pe(),duration:re(),easing:Ve(),iterations:J(),fill:Ar(),direction:qn()})}),void 0!==K&&Qn(K)},_r=(K=!0,Ee)=>{(0,p.r)(()=>{qt.forEach(Ne=>{fe(Ne,"animation-name",Yt||null),fe(Ne,"animation-duration",`${re()}ms`),fe(Ne,"animation-timing-function",Ve()),fe(Ne,"animation-delay",void 0!==Ee?`-${Ee*re()}ms`:`${Pe()}ms`),fe(Ne,"animation-fill-mode",Ar()||null),fe(Ne,"animation-direction",qn()||null);const mt=J()===1/0?"infinite":J().toString();fe(Ne,"animation-iteration-count",mt),K&&fe(Ne,"animation-name",`${Yt}-alt`),(0,p.r)(()=>{fe(Ne,"animation-name",Yt||null)})})})},Mr=(K=!1,Ee=!0,Ne)=>(K&&In.forEach(mt=>{mt.update(K,Ee,Ne)}),pr?yr(Ne):_r(Ee,Ne),ft),Ns=()=>{Le&&(pr?Bn.forEach(K=>{K.pause()}):qt.forEach(K=>{fe(K,"animation-play-state","paused")}),Te=!0)},_i=()=>{ue=void 0,Ot()},rs=()=>{ue&&clearTimeout(ue)},ci=K=>new Promise(Ee=>{null!=K&&K.sync&&(gt=!0,Zt(()=>gt=!1,{oneTimeCallback:!0})),Le||Xt(),Xe&&(pr?(Qn(0),yr()):_r(),Xe=!1),$t&&(Tn=In.length+1,$t=!1),Zt(()=>Ee(),{oneTimeCallback:!0}),In.forEach(Ne=>{Ne.play()}),pr?(Bn.forEach(K=>{K.play()}),(0===Se.length||0===qt.length)&&Ot()):(()=>{if(rs(),(0,p.r)(()=>{qt.forEach(K=>{Se.length>0&&fe(K,"animation-play-state","running")})}),0===Se.length||0===qt.length)Ot();else{const K=Pe()||0,Ee=re()||0,Ne=J()||1;isFinite(Ne)&&(ue=setTimeout(_i,K+Ee*Ne+100)),((Re,Ae)=>{let pe;const _t={passive:!0},ge=me=>{Re===me.target&&(pe&&pe(),rs(),(0,p.r)(()=>{qt.forEach(K=>{qe(K,"animation-duration"),qe(K,"animation-delay"),qe(K,"animation-play-state")}),(0,p.r)(Ot)}))};Re&&(Re.addEventListener("webkitAnimationEnd",ge,_t),Re.addEventListener("animationend",ge,_t),pe=()=>{Re.removeEventListener("webkitAnimationEnd",ge,_t),Re.removeEventListener("animationend",ge,_t)})})(qt[0])}})(),Te=!1}),Ui=(K,Ee)=>{const Ne=Se[0];return void 0===Ne||void 0!==Ne.offset&&0!==Ne.offset?Se=[{offset:0,[K]:Ee},...Se]:Ne[K]=Ee,ft};return ft={parentAnimation:ze,elements:qt,childAnimations:In,id:at,animationFinish:Ot,from:Ui,to:(K,Ee)=>{const Ne=Se[Se.length-1];return void 0===Ne||void 0!==Ne.offset&&1!==Ne.offset?Se=[...Se,{offset:1,[K]:Ee}]:Ne[K]=Ee,ft},fromTo:(K,Ee,Ne)=>Ui(K,Ee).to(K,Ne),parent:K=>(ze=K,ft),play:ci,pause:()=>(In.forEach(K=>{K.pause()}),Ns(),ft),stop:()=>{In.forEach(K=>{K.stop()}),Le&&(Ut(),Le=!1),Qt=!1,gt=!1,$t=!0,Ie=void 0,Fe=void 0,Ze=void 0,Tn=0,Xe=!1,tt=!0,Te=!1},destroy:K=>(In.forEach(Ee=>{Ee.destroy(K)}),(K=>{Ut(),K&&ir()})(K),qt.length=0,In.length=0,Se.length=0,St.length=0,Ct.length=0,Le=!1,$t=!0,ft),keyframes:K=>{const Ee=Se!==K;return Se=K,Ee&&(K=>{pr?un().forEach(Ee=>{if(Ee.effect.setKeyframes)Ee.effect.setKeyframes(K);else{const Ne=new KeyframeEffect(Ee.effect.target,K,Ee.effect.getTiming());Ee.effect=Ne}}):hn()})(Se),ft},addAnimation:K=>{if(null!=K)if(Array.isArray(K))for(const Ee of K)Ee.parent(ft),In.push(Ee);else K.parent(ft),In.push(K);return ft},addElement:K=>{if(null!=K)if(1===K.nodeType)qt.push(K);else if(K.length>=0)for(let Ee=0;Ee<K.length;Ee++)qt.push(K[Ee]);else console.error("Invalid addElement value");return ft},update:Mr,fill:K=>(ge=K,Mr(!0),ft),direction:K=>(me=K,Mr(!0),ft),iterations:K=>(ve=K,Mr(!0),ft),duration:K=>(!pr&&0===K&&(K=1),pe=K,Mr(!0),ft),easing:K=>(_t=K,Mr(!0),ft),delay:K=>(Ae=K,Mr(!0),ft),getWebAnimations:un,getKeyframes:()=>Se,getFill:Ar,getDirection:qn,getDelay:Pe,getIterations:J,getEasing:Ve,getDuration:re,afterAddRead:K=>(wn.push(K),ft),afterAddWrite:K=>(On.push(K),ft),afterClearStyles:(K=[])=>{for(const Ee of K)jt[Ee]="";return ft},afterStyles:(K={})=>(jt=K,ft),afterRemoveClass:K=>(It=Ke(It,K),ft),afterAddClass:K=>(ht=Ke(ht,K),ft),beforeAddRead:K=>(xn.push(K),ft),beforeAddWrite:K=>(Sn.push(K),ft),beforeClearStyles:(K=[])=>{for(const Ee of K)ct[Ee]="";return ft},beforeStyles:(K={})=>(ct=K,ft),beforeRemoveClass:K=>(Me=Ke(Me,K),ft),beforeAddClass:K=>(ye=Ke(ye,K),ft),onFinish:Zt,isRunning:()=>0!==Tn&&!Te,progressStart:(K=!1,Ee)=>(In.forEach(Ne=>{Ne.progressStart(K,Ee)}),Ns(),Qt=K,Le||Xt(),Mr(!1,!0,Ee),ft),progressStep:K=>(In.forEach(Ee=>{Ee.progressStep(K)}),Qn(K),ft),progressEnd:(K,Ee,Ne)=>(Qt=!1,In.forEach(mt=>{mt.progressEnd(K,Ee,Ne)}),void 0!==Ne&&(Fe=Ne),Xe=!1,tt=!0,0===K?(Ie="reverse"===qn()?"normal":"reverse","reverse"===Ie&&(tt=!1),pr?(Mr(),Qn(1-Ee)):(Ze=(1-Ee)*re()*-1,Mr(!1,!1))):1===K&&(pr?(Mr(),Qn(Ee)):(Ze=Ee*re()*-1,Mr(!1,!1))),void 0!==K&&(Zt(()=>{Fe=void 0,Ie=void 0,Ze=void 0},{oneTimeCallback:!0}),ze||ci()),ft)}}},3365:(en,nt,O)=>{"use strict";O.d(nt,{E:()=>_e,a:()=>g,s:()=>qe});const g=se=>{try{if(se instanceof fe)return se.value;if(!le()||"string"!=typeof se||""===se)return se;if(se.includes("onload="))return"";const Oe=document.createDocumentFragment(),xe=document.createElement("div");Oe.appendChild(xe),xe.innerHTML=se,Ce.forEach(Re=>{const Ae=Oe.querySelectorAll(Re);for(let pe=Ae.length-1;pe>=0;pe--){const _t=Ae[pe];_t.parentNode?_t.parentNode.removeChild(_t):Oe.removeChild(_t);const ve=Q(_t);for(let ge=0;ge<ve.length;ge++)p(ve[ge])}});const ke=Q(Oe);for(let Re=0;Re<ke.length;Re++)p(ke[Re]);const Ke=document.createElement("div");Ke.appendChild(Oe);const lt=Ke.querySelector("div");return null!==lt?lt.innerHTML:Ke.innerHTML}catch(Oe){return console.error(Oe),""}},p=se=>{if(se.nodeType&&1!==se.nodeType)return;if(typeof NamedNodeMap<"u"&&!(se.attributes instanceof NamedNodeMap))return void se.remove();for(let xe=se.attributes.length-1;xe>=0;xe--){const ke=se.attributes.item(xe),Ke=ke.name;if(!we.includes(Ke.toLowerCase())){se.removeAttribute(Ke);continue}const lt=ke.value,Re=se[Ke];(null!=lt&&lt.toLowerCase().includes("javascript:")||null!=Re&&Re.toLowerCase().includes("javascript:"))&&se.removeAttribute(Ke)}const Oe=Q(se);for(let xe=0;xe<Oe.length;xe++)p(Oe[xe])},Q=se=>null!=se.children?se.children:se.childNodes,le=()=>{var se;const Oe=window,xe=null===(se=null==Oe?void 0:Oe.Ionic)||void 0===se?void 0:se.config;return!xe||(xe.get?xe.get("sanitizerEnabled",!0):!0===xe.sanitizerEnabled||void 0===xe.sanitizerEnabled)},we=["class","id","href","src","name","slot"],Ce=["script","style","iframe","meta","link","object","embed"];class fe{constructor(Oe){this.value=Oe}}const qe=se=>{const Oe=window,xe=Oe.Ionic;if(!xe||!xe.config||"Object"===xe.config.constructor.name)return Oe.Ionic=Oe.Ionic||{},Oe.Ionic.config=Object.assign(Object.assign({},Oe.Ionic.config),se),Oe.Ionic.config},_e=!1},1042:(en,nt,O)=>{"use strict";O.d(nt,{C:()=>we,a:()=>Q,d:()=>le});var g=O(5861),p=O(839);const Q=function(){var Ce=(0,g.Z)(function*(fe,qe,Ue,_e,se,Oe){var xe;if(fe)return fe.attachViewToDom(qe,Ue,se,_e);if(!(Oe||"string"==typeof Ue||Ue instanceof HTMLElement))throw new Error("framework delegate is missing");const ke="string"==typeof Ue?null===(xe=qe.ownerDocument)||void 0===xe?void 0:xe.createElement(Ue):Ue;return _e&&_e.forEach(Ke=>ke.classList.add(Ke)),se&&Object.assign(ke,se),qe.appendChild(ke),yield new Promise(Ke=>(0,p.c)(ke,Ke)),ke});return function(qe,Ue,_e,se,Oe,xe){return Ce.apply(this,arguments)}}(),le=(Ce,fe)=>{if(fe){if(Ce)return Ce.removeViewFromDom(fe.parentElement,fe);fe.remove()}return Promise.resolve()},we=()=>{let Ce,fe;return{attachViewToDom:function(){var _e=(0,g.Z)(function*(se,Oe,xe={},ke=[]){var Ke,lt;if(Ce=se,Oe){const Ae="string"==typeof Oe?null===(Ke=Ce.ownerDocument)||void 0===Ke?void 0:Ke.createElement(Oe):Oe;ke.forEach(pe=>Ae.classList.add(pe)),Object.assign(Ae,xe),Ce.appendChild(Ae),yield new Promise(pe=>(0,p.c)(Ae,pe))}else if(Ce.children.length>0&&("ION-MODAL"===Ce.tagName||"ION-POPOVER"===Ce.tagName)&&!Ce.children[0].classList.contains("ion-delegate-host")){const pe=null===(lt=Ce.ownerDocument)||void 0===lt?void 0:lt.createElement("div");pe.classList.add("ion-delegate-host"),ke.forEach(_t=>pe.classList.add(_t)),pe.append(...Ce.children),Ce.appendChild(pe)}const Re=document.querySelector("ion-app")||document.body;return fe=document.createComment("ionic teleport"),Ce.parentNode.insertBefore(fe,Ce),Re.appendChild(Ce),Ce});return function(Oe,xe){return _e.apply(this,arguments)}}(),removeViewFromDom:()=>(Ce&&fe&&(fe.parentNode.insertBefore(Ce,fe),fe.remove()),Promise.resolve())}}},619:(en,nt,O)=>{"use strict";O.d(nt,{G:()=>we});class p{constructor(fe,qe,Ue,_e,se){this.id=qe,this.name=Ue,this.disableScroll=se,this.priority=1e6*_e+qe,this.ctrl=fe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const fe=this.ctrl.capture(this.name,this.id,this.priority);return fe&&this.disableScroll&&this.ctrl.disableScroll(this.id),fe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Q{constructor(fe,qe,Ue,_e){this.id=qe,this.disable=Ue,this.disableScroll=_e,this.ctrl=fe}block(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.disableGesture(fe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.enableGesture(fe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const le="backdrop-no-scroll",we=new class g{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(fe){var qe;return new p(this,this.newID(),fe.name,null!==(qe=fe.priority)&&void 0!==qe?qe:0,!!fe.disableScroll)}createBlocker(fe={}){return new Q(this,this.newID(),fe.disable,!!fe.disableScroll)}start(fe,qe,Ue){return this.canStart(fe)?(this.requestedStart.set(qe,Ue),!0):(this.requestedStart.delete(qe),!1)}capture(fe,qe,Ue){if(!this.start(fe,qe,Ue))return!1;const _e=this.requestedStart;let se=-1e4;if(_e.forEach(Oe=>{se=Math.max(se,Oe)}),se===Ue){this.capturedId=qe,_e.clear();const Oe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:fe}});return document.dispatchEvent(Oe),!0}return _e.delete(qe),!1}release(fe){this.requestedStart.delete(fe),this.capturedId===fe&&(this.capturedId=void 0)}disableGesture(fe,qe){let Ue=this.disabledGestures.get(fe);void 0===Ue&&(Ue=new Set,this.disabledGestures.set(fe,Ue)),Ue.add(qe)}enableGesture(fe,qe){const Ue=this.disabledGestures.get(fe);void 0!==Ue&&Ue.delete(qe)}disableScroll(fe){this.disabledScroll.add(fe),1===this.disabledScroll.size&&document.body.classList.add(le)}enableScroll(fe){this.disabledScroll.delete(fe),0===this.disabledScroll.size&&document.body.classList.remove(le)}canStart(fe){return!(void 0!==this.capturedId||this.isDisabled(fe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(fe){const qe=this.disabledGestures.get(fe);return!!(qe&&qe.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(en,nt,O)=>{"use strict";O.r(nt),O.d(nt,{MENU_BACK_BUTTON_PRIORITY:()=>we,OVERLAY_BACK_BUTTON_PRIORITY:()=>le,blockHardwareBackButton:()=>p,startHardwareBackButton:()=>Q});var g=O(5861);const p=()=>{document.addEventListener("backbutton",()=>{})},Q=()=>{const Ce=document;let fe=!1;Ce.addEventListener("backbutton",()=>{if(fe)return;let qe=0,Ue=[];const _e=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(xe,ke){Ue.push({priority:xe,handler:ke,id:qe++})}}});Ce.dispatchEvent(_e);const se=function(){var xe=(0,g.Z)(function*(ke){try{if(null!=ke&&ke.handler){const Ke=ke.handler(Oe);null!=Ke&&(yield Ke)}}catch(Ke){console.error(Ke)}});return function(Ke){return xe.apply(this,arguments)}}(),Oe=()=>{if(Ue.length>0){let xe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ue.forEach(ke=>{ke.priority>=xe.priority&&(xe=ke)}),fe=!0,Ue=Ue.filter(ke=>ke.id!==xe.id),se(xe).then(()=>fe=!1)}};Oe()})},le=100,we=99},839:(en,nt,O)=>{"use strict";O.d(nt,{a:()=>qe,b:()=>Ue,c:()=>Q,d:()=>lt,e:()=>Ke,f:()=>ke,g:()=>_e,h:()=>xe,i:()=>fe,j:()=>ge,k:()=>we,l:()=>Re,m:()=>le,n:()=>Oe,o:()=>Ae,p:()=>ve,q:()=>me,r:()=>se,s:()=>Se,t:()=>g,u:()=>pe,v:()=>_t});const g=(ye,Me=0)=>new Promise(Le=>{p(ye,Me,Le)}),p=(ye,Me=0,Le)=>{let ze,ct;const ht={passive:!0},jt=()=>{ze&&ze()},Tn=Qt=>{(void 0===Qt||ye===Qt.target)&&(jt(),Le(Qt))};return ye&&(ye.addEventListener("webkitTransitionEnd",Tn,ht),ye.addEventListener("transitionend",Tn,ht),ct=setTimeout(Tn,Me+500),ze=()=>{ct&&(clearTimeout(ct),ct=void 0),ye.removeEventListener("webkitTransitionEnd",Tn,ht),ye.removeEventListener("transitionend",Tn,ht)}),jt},Q=(ye,Me)=>{ye.componentOnReady?ye.componentOnReady().then(Le=>Me(Le)):se(()=>Me(ye))},le=ye=>void 0!==ye.componentOnReady,we=(ye,Me=[])=>{const Le={};return Me.forEach(ze=>{ye.hasAttribute(ze)&&(null!==ye.getAttribute(ze)&&(Le[ze]=ye.getAttribute(ze)),ye.removeAttribute(ze))}),Le},Ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],fe=(ye,Me)=>{let Le=Ce;return Me&&Me.length>0&&(Le=Le.filter(ze=>!Me.includes(ze))),we(ye,Le)},qe=(ye,Me,Le,ze)=>{var ct;if(typeof window<"u"){const ht=window,It=null===(ct=null==ht?void 0:ht.Ionic)||void 0===ct?void 0:ct.config;if(It){const jt=It.get("_ael");if(jt)return jt(ye,Me,Le,ze);if(It._ael)return It._ael(ye,Me,Le,ze)}}return ye.addEventListener(Me,Le,ze)},Ue=(ye,Me,Le,ze)=>{var ct;if(typeof window<"u"){const ht=window,It=null===(ct=null==ht?void 0:ht.Ionic)||void 0===ct?void 0:ct.config;if(It){const jt=It.get("_rel");if(jt)return jt(ye,Me,Le,ze);if(It._rel)return It._rel(ye,Me,Le,ze)}}return ye.removeEventListener(Me,Le,ze)},_e=(ye,Me=ye)=>ye.shadowRoot||Me,se=ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(ye):setTimeout(ye),Oe=ye=>!!ye.shadowRoot&&!!ye.attachShadow,xe=ye=>{const Me=ye.closest("ion-item");return Me?Me.querySelector("ion-label"):null},ke=ye=>{if(ye.focus(),ye.classList.contains("ion-focusable")){const Me=ye.closest("ion-app");Me&&Me.setFocus([ye])}},Ke=(ye,Me)=>{let Le;const ze=ye.getAttribute("aria-labelledby"),ct=ye.id;let ht=null!==ze&&""!==ze.trim()?ze:Me+"-lbl",It=null!==ze&&""!==ze.trim()?document.getElementById(ze):xe(ye);return It?(null===ze&&(It.id=ht),Le=It.textContent,It.setAttribute("aria-hidden","true")):""!==ct.trim()&&(It=document.querySelector(`label[for="${ct}"]`),It&&(""!==It.id?ht=It.id:It.id=ht=`${ct}-lbl`,Le=It.textContent)),{label:It,labelId:ht,labelText:Le}},lt=(ye,Me,Le,ze,ct)=>{if(ye||Oe(Me)){let ht=Me.querySelector("input.aux-input");ht||(ht=Me.ownerDocument.createElement("input"),ht.type="hidden",ht.classList.add("aux-input"),Me.appendChild(ht)),ht.disabled=ct,ht.name=Le,ht.value=ze||""}},Re=(ye,Me,Le)=>Math.max(ye,Math.min(Me,Le)),Ae=(ye,Me)=>{if(!ye){const Le="ASSERT: "+Me;throw console.error(Le),new Error(Le)}},pe=ye=>ye.timeStamp||Date.now(),_t=ye=>{if(ye){const Me=ye.changedTouches;if(Me&&Me.length>0){const Le=Me[0];return{x:Le.clientX,y:Le.clientY}}if(void 0!==ye.pageX)return{x:ye.pageX,y:ye.pageY}}return{x:0,y:0}},ve=ye=>{const Me="rtl"===document.dir;switch(ye){case"start":return Me;case"end":return!Me;default:throw new Error(`"${ye}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ge=(ye,Me)=>{const Le=ye._original||ye;return{_original:ye,emit:me(Le.emit.bind(Le),Me)}},me=(ye,Me=0)=>{let Le;return(...ze)=>{clearTimeout(Le),Le=setTimeout(ye,Me,...ze)}},Se=(ye,Me)=>{if(null!=ye||(ye={}),null!=Me||(Me={}),ye===Me)return!0;const Le=Object.keys(ye);if(Le.length!==Object.keys(Me).length)return!1;for(const ze of Le)if(!(ze in Me)||ye[ze]!==Me[ze])return!1;return!0}},6710:(en,nt,O)=>{"use strict";O.d(nt,{a:()=>p,b:()=>Q,p:()=>g});const g=(le,...we)=>console.warn(`[Ionic Warning]: ${le}`,...we),p=(le,...we)=>console.error(`[Ionic Error]: ${le}`,...we),Q=(le,...we)=>console.error(`<${le.tagName.toLowerCase()}> must be used inside ${we.join(" or ")}.`)},1651:(en,nt,O)=>{"use strict";O.d(nt,{L:()=>le,a:()=>we,b:()=>Ce,c:()=>fe,d:()=>qe,e:()=>ye,g:()=>ze,l:()=>me,s:()=>Me,t:()=>se,w:()=>Se});var g=O(5861),p=O(1688),Q=O(839);const le="ionViewWillEnter",we="ionViewDidEnter",Ce="ionViewWillLeave",fe="ionViewDidLeave",qe="ionViewWillUnload",se=ct=>new Promise((ht,It)=>{(0,p.w)(()=>{Oe(ct),xe(ct).then(jt=>{jt.animation&&jt.animation.destroy(),ke(ct),ht(jt)},jt=>{ke(ct),It(jt)})})}),Oe=ct=>{const ht=ct.enteringEl,It=ct.leavingEl;Le(ht,It,ct.direction),ct.showGoBack?ht.classList.add("can-go-back"):ht.classList.remove("can-go-back"),Me(ht,!1),ht.style.setProperty("pointer-events","none"),It&&(Me(It,!1),It.style.setProperty("pointer-events","none"))},xe=function(){var ct=(0,g.Z)(function*(ht){const It=yield Ke(ht);return It&&p.B.isBrowser?lt(It,ht):Re(ht)});return function(It){return ct.apply(this,arguments)}}(),ke=ct=>{const ht=ct.enteringEl,It=ct.leavingEl;ht.classList.remove("ion-page-invisible"),ht.style.removeProperty("pointer-events"),void 0!==It&&(It.classList.remove("ion-page-invisible"),It.style.removeProperty("pointer-events"))},Ke=function(){var ct=(0,g.Z)(function*(ht){return ht.leavingEl&&ht.animated&&0!==ht.duration?ht.animationBuilder?ht.animationBuilder:"ios"===ht.mode?(yield Promise.resolve().then(O.bind(O,2650))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,1904))).mdTransitionAnimation:void 0});return function(It){return ct.apply(this,arguments)}}(),lt=function(){var ct=(0,g.Z)(function*(ht,It){yield Ae(It,!0);const jt=ht(It.baseEl,It);ve(It.enteringEl,It.leavingEl);const Tn=yield _t(jt,It);return It.progressCallback&&It.progressCallback(void 0),Tn&&ge(It.enteringEl,It.leavingEl),{hasCompleted:Tn,animation:jt}});return function(It,jt){return ct.apply(this,arguments)}}(),Re=function(){var ct=(0,g.Z)(function*(ht){const It=ht.enteringEl,jt=ht.leavingEl;return yield Ae(ht,!1),ve(It,jt),ge(It,jt),{hasCompleted:!0}});return function(It){return ct.apply(this,arguments)}}(),Ae=function(){var ct=(0,g.Z)(function*(ht,It){(void 0!==ht.deepWait?ht.deepWait:It)&&(yield Promise.all([ye(ht.enteringEl),ye(ht.leavingEl)])),yield pe(ht.viewIsReady,ht.enteringEl)});return function(It,jt){return ct.apply(this,arguments)}}(),pe=function(){var ct=(0,g.Z)(function*(ht,It){ht&&(yield ht(It))});return function(It,jt){return ct.apply(this,arguments)}}(),_t=(ct,ht)=>{const It=ht.progressCallback,jt=new Promise(Tn=>{ct.onFinish(Qt=>Tn(1===Qt))});return It?(ct.progressStart(!0),It(ct)):ct.play(),jt},ve=(ct,ht)=>{me(ht,Ce),me(ct,le)},ge=(ct,ht)=>{me(ct,we),me(ht,fe)},me=(ct,ht)=>{if(ct){const It=new CustomEvent(ht,{bubbles:!1,cancelable:!1});ct.dispatchEvent(It)}},Se=()=>new Promise(ct=>(0,Q.r)(()=>(0,Q.r)(()=>ct()))),ye=function(){var ct=(0,g.Z)(function*(ht){const It=ht;if(It){if(null!=It.componentOnReady){if(null!=(yield It.componentOnReady()))return}else if(null!=It.__registerHost)return void(yield new Promise(Tn=>(0,Q.r)(Tn)));yield Promise.all(Array.from(It.children).map(ye))}});return function(It){return ct.apply(this,arguments)}}(),Me=(ct,ht)=>{ht?(ct.setAttribute("aria-hidden","true"),ct.classList.add("ion-page-hidden")):(ct.hidden=!1,ct.removeAttribute("aria-hidden"),ct.classList.remove("ion-page-hidden"))},Le=(ct,ht,It)=>{void 0!==ct&&(ct.style.zIndex="back"===It?"99":"101"),void 0!==ht&&(ht.style.zIndex="100")},ze=ct=>ct.classList.contains("ion-page")?ct:ct.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ct},6225:(en,nt,O)=>{"use strict";O.d(nt,{d:()=>p,w:()=>g});const g=typeof window<"u"?window:void 0,p=typeof document<"u"?document:void 0},1688:(en,nt,O)=>{"use strict";O.d(nt,{B:()=>se,H:()=>jt,a:()=>Ns,b:()=>ln,c:()=>Xe,d:()=>Te,e:()=>Ui,f:()=>ft,g:()=>$t,h:()=>ht,i:()=>vr,j:()=>Oe,r:()=>Ot,w:()=>Cr});var g=O(5861);let Q,le,we,Ce=!1,fe=!1,qe=!1,Ue=!1,_e=!1;const se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Oe=ee=>{const K=new URL(ee,ar.$resourcesUrl$);return K.origin!==$r.location.origin?K.href:K.pathname},pe="s-id",_t="sty-id",me="http://www.w3.org/1999/xlink",Se={},ze=ee=>"object"==(ee=typeof ee)||"function"===ee;function ct(ee){var K,Ee,Ne;return null!==(Ne=null===(Ee=null===(K=ee.head)||void 0===K?void 0:K.querySelector('meta[name="csp-nonce"]'))||void 0===Ee?void 0:Ee.getAttribute("content"))&&void 0!==Ne?Ne:void 0}const ht=(ee,K,...Ee)=>{let Ne=null,mt=null,et=null,At=!1,Nt=!1;const Rt=[],Vt=zn=>{for(let Gn=0;Gn<zn.length;Gn++)Ne=zn[Gn],Array.isArray(Ne)?Vt(Ne):null!=Ne&&"boolean"!=typeof Ne&&((At="function"!=typeof ee&&!ze(Ne))&&(Ne=String(Ne)),At&&Nt?Rt[Rt.length-1].$text$+=Ne:Rt.push(At?It(null,Ne):Ne),Nt=At)};if(Vt(Ee),K){K.key&&(mt=K.key),K.name&&(et=K.name);{const zn=K.className||K.class;zn&&(K.class="object"!=typeof zn?zn:Object.keys(zn).filter(Gn=>zn[Gn]).join(" "))}}if("function"==typeof ee)return ee(null===K?{}:K,Rt,Qt);const dn=It(ee,null);return dn.$attrs$=K,Rt.length>0&&(dn.$children$=Rt),dn.$key$=mt,dn.$name$=et,dn},It=(ee,K)=>({$flags$:0,$tag$:ee,$text$:K,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),jt={},Qt={forEach:(ee,K)=>ee.map(gt).forEach(K),map:(ee,K)=>ee.map(gt).map(K).map(ue)},gt=ee=>({vattrs:ee.$attrs$,vchildren:ee.$children$,vkey:ee.$key$,vname:ee.$name$,vtag:ee.$tag$,vtext:ee.$text$}),ue=ee=>{if("function"==typeof ee.vtag){const Ee=Object.assign({},ee.vattrs);return ee.vkey&&(Ee.key=ee.vkey),ee.vname&&(Ee.name=ee.vname),ht(ee.vtag,Ee,...ee.vchildren||[])}const K=It(ee.vtag,ee.vtext);return K.$attrs$=ee.vattrs,K.$children$=ee.vchildren,K.$key$=ee.vkey,K.$name$=ee.vname,K},Fe=(ee,K,Ee,Ne,mt,et,At)=>{let Nt,Rt,Vt,dn;if(1===et.nodeType){for(Nt=et.getAttribute("c-id"),Nt&&(Rt=Nt.split("."),(Rt[0]===At||"0"===Rt[0])&&(Vt={$flags$:0,$hostId$:Rt[0],$nodeId$:Rt[1],$depth$:Rt[2],$index$:Rt[3],$tag$:et.tagName.toLowerCase(),$elm$:et,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},K.push(Vt),et.removeAttribute("c-id"),ee.$children$||(ee.$children$=[]),ee.$children$[Vt.$index$]=Vt,ee=Vt,Ne&&"0"===Vt.$depth$&&(Ne[Vt.$index$]=Vt.$elm$))),dn=et.childNodes.length-1;dn>=0;dn--)Fe(ee,K,Ee,Ne,mt,et.childNodes[dn],At);if(et.shadowRoot)for(dn=et.shadowRoot.childNodes.length-1;dn>=0;dn--)Fe(ee,K,Ee,Ne,mt,et.shadowRoot.childNodes[dn],At)}else if(8===et.nodeType)Rt=et.nodeValue.split("."),(Rt[1]===At||"0"===Rt[1])&&(Nt=Rt[0],Vt={$flags$:0,$hostId$:Rt[1],$nodeId$:Rt[2],$depth$:Rt[3],$index$:Rt[4],$elm$:et,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Nt?(Vt.$elm$=et.nextSibling,Vt.$elm$&&3===Vt.$elm$.nodeType&&(Vt.$text$=Vt.$elm$.textContent,K.push(Vt),et.remove(),ee.$children$||(ee.$children$=[]),ee.$children$[Vt.$index$]=Vt,Ne&&"0"===Vt.$depth$&&(Ne[Vt.$index$]=Vt.$elm$))):Vt.$hostId$===At&&("s"===Nt?(Vt.$tag$="slot",et["s-sn"]=Rt[5]?Vt.$name$=Rt[5]:"",et["s-sr"]=!0,Ne&&(Vt.$elm$=Er.createElement(Vt.$tag$),Vt.$name$&&Vt.$elm$.setAttribute("name",Vt.$name$),et.parentNode.insertBefore(Vt.$elm$,et),et.remove(),"0"===Vt.$depth$&&(Ne[Vt.$index$]=Vt.$elm$)),Ee.push(Vt),ee.$children$||(ee.$children$=[]),ee.$children$[Vt.$index$]=Vt):"r"===Nt&&(Ne?et.remove():(mt["s-cr"]=et,et["s-cn"]=!0))));else if(ee&&"style"===ee.$tag$){const zn=It(null,et.textContent);zn.$elm$=et,zn.$index$="0",ee.$children$=[zn]}},Ze=(ee,K)=>{if(1===ee.nodeType){let Ee=0;for(;Ee<ee.childNodes.length;Ee++)Ze(ee.childNodes[Ee],K);if(ee.shadowRoot)for(Ee=0;Ee<ee.shadowRoot.childNodes.length;Ee++)Ze(ee.shadowRoot.childNodes[Ee],K)}else if(8===ee.nodeType){const Ee=ee.nodeValue.split(".");"o"===Ee[0]&&(K.set(Ee[1]+"."+Ee[2],ee),ee.nodeValue="",ee["s-en"]=Ee[3])}},Xe=ee=>Mr.push(ee),$t=ee=>rt(ee).$modeName$,ft=ee=>rt(ee).$hostElement$,Te=(ee,K,Ee)=>{const Ne=ft(ee);return{emit:mt=>at(Ne,K,{bubbles:!!(4&Ee),composed:!!(2&Ee),cancelable:!!(1&Ee),detail:mt})}},at=(ee,K,Ee)=>{const Ne=ar.ce(K,Ee);return ee.dispatchEvent(Ne),Ne},St=new WeakMap,Ct=(ee,K,Ee)=>{let Ne=_r.get(ee);rs&&Ee?(Ne=Ne||new CSSStyleSheet,"string"==typeof Ne?Ne=K:Ne.replaceSync(K)):Ne=K,_r.set(ee,Ne)},qt=(ee,K,Ee)=>{var Ne;const mt=cn(K,Ee),et=_r.get(mt);if(ee=11===ee.nodeType?ee:Er,et)if("string"==typeof et){let Nt,At=St.get(ee=ee.head||ee);if(At||St.set(ee,At=new Set),!At.has(mt)){if(ee.host&&(Nt=ee.querySelector(`[${_t}="${mt}"]`)))Nt.innerHTML=et;else{Nt=Er.createElement("style"),Nt.innerHTML=et;const Rt=null!==(Ne=ar.$nonce$)&&void 0!==Ne?Ne:ct(Er);null!=Rt&&Nt.setAttribute("nonce",Rt),ee.insertBefore(Nt,ee.querySelector("link"))}At&&At.add(mt)}}else ee.adoptedStyleSheets.includes(et)||(ee.adoptedStyleSheets=[...ee.adoptedStyleSheets,et]);return mt},cn=(ee,K)=>"sc-"+(K&&32&ee.$flags$?ee.$tagName$+"-"+K:ee.$tagName$),xn=ee=>ee.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Sn=(ee,K,Ee,Ne,mt,et)=>{if(Ee!==Ne){let At=yn(ee,K),Nt=K.toLowerCase();if("class"===K){const Rt=ee.classList,Vt=On(Ee),dn=On(Ne);Rt.remove(...Vt.filter(zn=>zn&&!dn.includes(zn))),Rt.add(...dn.filter(zn=>zn&&!Vt.includes(zn)))}else if("style"===K){for(const Rt in Ee)(!Ne||null==Ne[Rt])&&(Rt.includes("-")?ee.style.removeProperty(Rt):ee.style[Rt]="");for(const Rt in Ne)(!Ee||Ne[Rt]!==Ee[Rt])&&(Rt.includes("-")?ee.style.setProperty(Rt,Ne[Rt]):ee.style[Rt]=Ne[Rt])}else if("key"!==K)if("ref"===K)Ne&&Ne(ee);else if(At||"o"!==K[0]||"n"!==K[1]){const Rt=ze(Ne);if((At||Rt&&null!==Ne)&&!mt)try{if(ee.tagName.includes("-"))ee[K]=Ne;else{const dn=null==Ne?"":Ne;"list"===K?At=!1:(null==Ee||ee[K]!=dn)&&(ee[K]=dn)}}catch{}let Vt=!1;Nt!==(Nt=Nt.replace(/^xlink\:?/,""))&&(K=Nt,Vt=!0),null==Ne||!1===Ne?(!1!==Ne||""===ee.getAttribute(K))&&(Vt?ee.removeAttributeNS(me,K):ee.removeAttribute(K)):(!At||4&et||mt)&&!Rt&&(Ne=!0===Ne?"":Ne,Vt?ee.setAttributeNS(me,K,Ne):ee.setAttribute(K,Ne))}else K="-"===K[2]?K.slice(3):yn($r,Nt)?Nt.slice(2):Nt[2]+K.slice(3),Ee&&ar.rel(ee,K,Ee,!1),Ne&&ar.ael(ee,K,Ne,!1)}},wn=/\s/,On=ee=>ee?ee.split(wn):[],Bn=(ee,K,Ee,Ne)=>{const mt=11===K.$elm$.nodeType&&K.$elm$.host?K.$elm$.host:K.$elm$,et=ee&&ee.$attrs$||Se,At=K.$attrs$||Se;for(Ne in et)Ne in At||Sn(mt,Ne,et[Ne],void 0,Ee,K.$flags$);for(Ne in At)Sn(mt,Ne,et[Ne],At[Ne],Ee,K.$flags$)},Or=(ee,K,Ee,Ne)=>{const mt=K.$children$[Ee];let At,Nt,Rt,et=0;if(Ce||(qe=!0,"slot"===mt.$tag$&&(Q&&Ne.classList.add(Q+"-s"),mt.$flags$|=mt.$children$?2:1)),null!==mt.$text$)At=mt.$elm$=Er.createTextNode(mt.$text$);else if(1&mt.$flags$)At=mt.$elm$=Er.createTextNode("");else{if(Ue||(Ue="svg"===mt.$tag$),At=mt.$elm$=Er.createElementNS(Ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&mt.$flags$?"slot-fb":mt.$tag$),Ue&&"foreignObject"===mt.$tag$&&(Ue=!1),Bn(null,mt,Ue),(ee=>null!=ee)(Q)&&At["s-si"]!==Q&&At.classList.add(At["s-si"]=Q),mt.$children$)for(et=0;et<mt.$children$.length;++et)Nt=Or(ee,mt,et,At),Nt&&At.appendChild(Nt);"svg"===mt.$tag$?Ue=!1:"foreignObject"===At.tagName&&(Ue=!0)}return At["s-hn"]=we,3&mt.$flags$&&(At["s-sr"]=!0,At["s-cr"]=le,At["s-sn"]=mt.$name$||"",Rt=ee&&ee.$children$&&ee.$children$[Ee],Rt&&Rt.$tag$===mt.$tag$&&ee.$elm$&&pr(ee.$elm$,!1)),At},pr=(ee,K)=>{ar.$flags$|=1;const Ee=ee.childNodes;for(let Ne=Ee.length-1;Ne>=0;Ne--){const mt=Ee[Ne];mt["s-hn"]!==we&&mt["s-ol"]&&(Lr(mt).insertBefore(mt,Yn(mt)),mt["s-ol"].remove(),mt["s-ol"]=void 0,qe=!0),K&&pr(mt,K)}ar.$flags$&=-2},gr=(ee,K,Ee,Ne,mt,et)=>{let Nt,At=ee["s-cr"]&&ee["s-cr"].parentNode||ee;for(At.shadowRoot&&At.tagName===we&&(At=At.shadowRoot);mt<=et;++mt)Ne[mt]&&(Nt=Or(null,Ee,mt,ee),Nt&&(Ne[mt].$elm$=Nt,At.insertBefore(Nt,Yn(K))))},un=(ee,K,Ee)=>{for(let Ne=K;Ne<=Ee;++Ne){const mt=ee[Ne];if(mt){const et=mt.$elm$;Un(mt),et&&(fe=!0,et["s-ol"]?et["s-ol"].remove():pr(et,!0),et.remove())}}},mr=(ee,K)=>ee.$tag$===K.$tag$&&("slot"===ee.$tag$?ee.$name$===K.$name$:ee.$key$===K.$key$),Yn=ee=>ee&&ee["s-ol"]||ee,Lr=ee=>(ee["s-ol"]?ee["s-ol"]:ee).parentNode,Zt=(ee,K)=>{const Ee=K.$elm$=ee.$elm$,Ne=ee.$children$,mt=K.$children$,et=K.$tag$,At=K.$text$;let Nt;null===At?(Ue="svg"===et||"foreignObject"!==et&&Ue,"slot"===et||Bn(ee,K,Ue),null!==Ne&&null!==mt?((ee,K,Ee,Ne)=>{let Qe,Ye,mt=0,et=0,At=0,Nt=0,Rt=K.length-1,Vt=K[0],dn=K[Rt],zn=Ne.length-1,Gn=Ne[0],nr=Ne[zn];for(;mt<=Rt&&et<=zn;)if(null==Vt)Vt=K[++mt];else if(null==dn)dn=K[--Rt];else if(null==Gn)Gn=Ne[++et];else if(null==nr)nr=Ne[--zn];else if(mr(Vt,Gn))Zt(Vt,Gn),Vt=K[++mt],Gn=Ne[++et];else if(mr(dn,nr))Zt(dn,nr),dn=K[--Rt],nr=Ne[--zn];else if(mr(Vt,nr))("slot"===Vt.$tag$||"slot"===nr.$tag$)&&pr(Vt.$elm$.parentNode,!1),Zt(Vt,nr),ee.insertBefore(Vt.$elm$,dn.$elm$.nextSibling),Vt=K[++mt],nr=Ne[--zn];else if(mr(dn,Gn))("slot"===Vt.$tag$||"slot"===nr.$tag$)&&pr(dn.$elm$.parentNode,!1),Zt(dn,Gn),ee.insertBefore(dn.$elm$,Vt.$elm$),dn=K[--Rt],Gn=Ne[++et];else{for(At=-1,Nt=mt;Nt<=Rt;++Nt)if(K[Nt]&&null!==K[Nt].$key$&&K[Nt].$key$===Gn.$key$){At=Nt;break}At>=0?(Ye=K[At],Ye.$tag$!==Gn.$tag$?Qe=Or(K&&K[et],Ee,At,ee):(Zt(Ye,Gn),K[At]=void 0,Qe=Ye.$elm$),Gn=Ne[++et]):(Qe=Or(K&&K[et],Ee,et,ee),Gn=Ne[++et]),Qe&&Lr(Vt.$elm$).insertBefore(Qe,Yn(Vt.$elm$))}mt>Rt?gr(ee,null==Ne[zn+1]?null:Ne[zn+1].$elm$,Ee,Ne,et,zn):et>zn&&un(K,mt,Rt)})(Ee,Ne,K,mt):null!==mt?(null!==ee.$text$&&(Ee.textContent=""),gr(Ee,null,K,mt,0,mt.length-1)):null!==Ne&&un(Ne,0,Ne.length-1),Ue&&"svg"===et&&(Ue=!1)):(Nt=Ee["s-cr"])?Nt.parentNode.textContent=At:ee.$text$!==At&&(Ee.data=At)},Hn=ee=>{const K=ee.childNodes;let Ee,Ne,mt,et,At,Nt;for(Ne=0,mt=K.length;Ne<mt;Ne++)if(Ee=K[Ne],1===Ee.nodeType){if(Ee["s-sr"])for(At=Ee["s-sn"],Ee.hidden=!1,et=0;et<mt;et++)if(Nt=K[et].nodeType,K[et]["s-hn"]!==Ee["s-hn"]||""!==At){if(1===Nt&&At===K[et].getAttribute("slot")){Ee.hidden=!0;break}}else if(1===Nt||3===Nt&&""!==K[et].textContent.trim()){Ee.hidden=!0;break}Hn(Ee)}},Ut=[],ir=ee=>{let K,Ee,Ne,mt,et,At,Nt=0;const Rt=ee.childNodes,Vt=Rt.length;for(;Nt<Vt;Nt++){if(K=Rt[Nt],K["s-sr"]&&(Ee=K["s-cr"])&&Ee.parentNode)for(Ne=Ee.parentNode.childNodes,mt=K["s-sn"],At=Ne.length-1;At>=0;At--)Ee=Ne[At],!Ee["s-cn"]&&!Ee["s-nr"]&&Ee["s-hn"]!==K["s-hn"]&&(li(Ee,mt)?(et=Ut.find(dn=>dn.$nodeToRelocate$===Ee),fe=!0,Ee["s-sn"]=Ee["s-sn"]||mt,et?et.$slotRefNode$=K:Ut.push({$slotRefNode$:K,$nodeToRelocate$:Ee}),Ee["s-sr"]&&Ut.map(dn=>{li(dn.$nodeToRelocate$,Ee["s-sn"])&&(et=Ut.find(zn=>zn.$nodeToRelocate$===Ee),et&&!dn.$slotRefNode$&&(dn.$slotRefNode$=et.$slotRefNode$))})):Ut.some(dn=>dn.$nodeToRelocate$===Ee)||Ut.push({$nodeToRelocate$:Ee}));1===K.nodeType&&ir(K)}},li=(ee,K)=>1===ee.nodeType?null===ee.getAttribute("slot")&&""===K||ee.getAttribute("slot")===K:ee["s-sn"]===K||""===K,Un=ee=>{ee.$attrs$&&ee.$attrs$.ref&&ee.$attrs$.ref(null),ee.$children$&&ee.$children$.map(Un)},Pr=(ee,K)=>{K&&!ee.$onRenderResolve$&&K["s-p"]&&K["s-p"].push(new Promise(Ee=>ee.$onRenderResolve$=Ee))},ri=(ee,K)=>{if(ee.$flags$|=16,!(4&ee.$flags$))return Pr(ee,ee.$ancestorComponent$),Cr(()=>Nr(ee,K));ee.$flags$|=512},Nr=(ee,K)=>{const Ne=ee.$lazyInstance$;let mt;return K&&(ee.$flags$|=256,ee.$queuedListeners$&&(ee.$queuedListeners$.map(([et,At])=>qn(Ne,et,At)),ee.$queuedListeners$=void 0),mt=qn(Ne,"componentWillLoad")),mt=vi(mt,()=>qn(Ne,"componentWillRender")),vi(mt,()=>Kr(ee,Ne,K))},vi=(ee,K)=>ti(ee)?ee.then(K):K(),ti=ee=>ee instanceof Promise||ee&&ee.then&&"function"==typeof ee.then,Kr=function(){var ee=(0,g.Z)(function*(K,Ee,Ne){var mt;const et=K.$hostElement$,Nt=et["s-rc"];Ne&&(ee=>{const K=ee.$cmpMeta$,Ee=ee.$hostElement$,Ne=K.$flags$,et=qt(Ee.shadowRoot?Ee.shadowRoot:Ee.getRootNode(),K,ee.$modeName$);10&Ne&&(Ee["s-sc"]=et,Ee.classList.add(et+"-h"),2&Ne&&Ee.classList.add(et+"-s"))})(K);kr(K,Ee,et,Ne),Nt&&(Nt.map(Vt=>Vt()),et["s-rc"]=void 0);{const Vt=null!==(mt=et["s-p"])&&void 0!==mt?mt:[],dn=()=>Wr(K);0===Vt.length?dn():(Promise.all(Vt).then(dn),K.$flags$|=4,Vt.length=0)}});return function(Ee,Ne,mt){return ee.apply(this,arguments)}}(),kr=(ee,K,Ee,Ne)=>{try{K=K.render&&K.render(),ee.$flags$&=-17,ee.$flags$|=2,((ee,K,Ee=!1)=>{const Ne=ee.$hostElement$,mt=ee.$cmpMeta$,et=ee.$vnode$||It(null,null),At=(ee=>ee&&ee.$tag$===jt)(K)?K:ht(null,null,K);if(we=Ne.tagName,mt.$attrsToReflect$&&(At.$attrs$=At.$attrs$||{},mt.$attrsToReflect$.map(([Nt,Rt])=>At.$attrs$[Rt]=Ne[Nt])),Ee&&At.$attrs$)for(const Nt of Object.keys(At.$attrs$))Ne.hasAttribute(Nt)&&!["key","ref","style","class"].includes(Nt)&&(At.$attrs$[Nt]=Ne[Nt]);if(At.$tag$=null,At.$flags$|=4,ee.$vnode$=At,At.$elm$=et.$elm$=Ne.shadowRoot||Ne,Q=Ne["s-sc"],le=Ne["s-cr"],Ce=0!=(1&mt.$flags$),fe=!1,Zt(et,At),ar.$flags$|=1,qe){ir(At.$elm$);let Nt,Rt,Vt,dn,zn,Gn,nr=0;for(;nr<Ut.length;nr++)Nt=Ut[nr],Rt=Nt.$nodeToRelocate$,Rt["s-ol"]||(Vt=Er.createTextNode(""),Vt["s-nr"]=Rt,Rt.parentNode.insertBefore(Rt["s-ol"]=Vt,Rt));for(nr=0;nr<Ut.length;nr++)if(Nt=Ut[nr],Rt=Nt.$nodeToRelocate$,Nt.$slotRefNode$){for(dn=Nt.$slotRefNode$.parentNode,zn=Nt.$slotRefNode$.nextSibling,Vt=Rt["s-ol"];Vt=Vt.previousSibling;)if(Gn=Vt["s-nr"],Gn&&Gn["s-sn"]===Rt["s-sn"]&&dn===Gn.parentNode&&(Gn=Gn.nextSibling,!Gn||!Gn["s-nr"])){zn=Gn;break}(!zn&&dn!==Rt.parentNode||Rt.nextSibling!==zn)&&Rt!==zn&&(!Rt["s-hn"]&&Rt["s-ol"]&&(Rt["s-hn"]=Rt["s-ol"].parentNode.nodeName),dn.insertBefore(Rt,zn))}else 1===Rt.nodeType&&(Rt.hidden=!0)}fe&&Hn(At.$elm$),ar.$flags$&=-2,Ut.length=0})(ee,K,Ne)}catch(mt){Xt(mt,ee.$hostElement$)}return null},Wr=ee=>{const Ee=ee.$hostElement$,mt=ee.$lazyInstance$,et=ee.$ancestorComponent$;qn(mt,"componentDidRender"),64&ee.$flags$?qn(mt,"componentDidUpdate"):(ee.$flags$|=64,Ve(Ee),qn(mt,"componentDidLoad"),ee.$onReadyResolve$(Ee),et||Ar()),ee.$onInstanceResolve$(Ee),ee.$onRenderResolve$&&(ee.$onRenderResolve$(),ee.$onRenderResolve$=void 0),512&ee.$flags$&&Qi(()=>ri(ee,!1)),ee.$flags$&=-517},vr=ee=>{{const K=rt(ee),Ee=K.$hostElement$.isConnected;return Ee&&2==(18&K.$flags$)&&ri(K,!1),Ee}},Ar=ee=>{Ve(Er.documentElement),Qi(()=>at($r,"appload",{detail:{namespace:"ionic"}}))},qn=(ee,K,Ee)=>{if(ee&&ee[K])try{return ee[K](Ee)}catch(Ne){Xt(Ne)}},Ve=ee=>ee.classList.add("hydrated"),Pe=(ee,K,Ee)=>{if(K.$members$){ee.watchers&&(K.$watchers$=ee.watchers);const Ne=Object.entries(K.$members$),mt=ee.prototype;if(Ne.map(([et,[At]])=>{31&At||2&Ee&&32&At?Object.defineProperty(mt,et,{get(){return((ee,K)=>rt(this).$instanceValues$.get(K))(0,et)},set(Nt){((ee,K,Ee,Ne)=>{const mt=rt(ee),et=mt.$hostElement$,At=mt.$instanceValues$.get(K),Nt=mt.$flags$,Rt=mt.$lazyInstance$;Ee=((ee,K)=>null==ee||ze(ee)?ee:4&K?"false"!==ee&&(""===ee||!!ee):2&K?parseFloat(ee):1&K?String(ee):ee)(Ee,Ne.$members$[K][0]);const Vt=Number.isNaN(At)&&Number.isNaN(Ee);if((!(8&Nt)||void 0===At)&&Ee!==At&&!Vt&&(mt.$instanceValues$.set(K,Ee),Rt)){if(Ne.$watchers$&&128&Nt){const zn=Ne.$watchers$[K];zn&&zn.map(Gn=>{try{Rt[Gn](Ee,At,K)}catch(nr){Xt(nr,et)}})}2==(18&Nt)&&ri(mt,!1)}})(this,et,Nt,K)},configurable:!0,enumerable:!0}):1&Ee&&64&At&&Object.defineProperty(mt,et,{value(...Nt){const Rt=rt(this);return Rt.$onInstancePromise$.then(()=>Rt.$lazyInstance$[et](...Nt))}})}),1&Ee){const et=new Map;mt.attributeChangedCallback=function(At,Nt,Rt){ar.jmp(()=>{const Vt=et.get(At);if(this.hasOwnProperty(Vt))Rt=this[Vt],delete this[Vt];else if(mt.hasOwnProperty(Vt)&&"number"==typeof this[Vt]&&this[Vt]==Rt)return;this[Vt]=(null!==Rt||"boolean"!=typeof this[Vt])&&Rt})},ee.observedAttributes=Ne.filter(([At,Nt])=>15&Nt[0]).map(([At,Nt])=>{const Rt=Nt[1]||At;return et.set(Rt,At),512&Nt[0]&&K.$attrsToReflect$.push([At,Rt]),Rt})}}return ee},oe=function(){var ee=(0,g.Z)(function*(K,Ee,Ne,mt,et){if(!(32&Ee.$flags$)){Ee.$flags$|=32;{if((et=yr(Ne)).then){const Vt=()=>{};et=yield et,Vt()}et.isProxied||(Ne.$watchers$=et.watchers,Pe(et,Ne,2),et.isProxied=!0);const Rt=()=>{};Ee.$flags$|=8;try{new et(Ee)}catch(Vt){Xt(Vt)}Ee.$flags$&=-9,Ee.$flags$|=128,Rt(),Ge(Ee.$lazyInstance$)}if(et.style){let Rt=et.style;"string"!=typeof Rt&&(Rt=Rt[Ee.$modeName$=(ee=>Mr.map(K=>K(ee)).find(K=>!!K))(K)]);const Vt=cn(Ne,Ee.$modeName$);if(!_r.has(Vt)){const dn=()=>{};Ct(Vt,Rt,!!(1&Ne.$flags$)),dn()}}}const At=Ee.$ancestorComponent$,Nt=()=>ri(Ee,!0);At&&At["s-rc"]?At["s-rc"].push(Nt):Nt()});return function(Ee,Ne,mt,et,At){return ee.apply(this,arguments)}}(),Ge=ee=>{qn(ee,"connectedCallback")},Bt=ee=>{const K=ee["s-cr"]=Er.createComment("");K["s-cn"]=!0,ee.insertBefore(K,ee.firstChild)},on=ee=>{qn(ee,"disconnectedCallback")},vn=function(){var ee=(0,g.Z)(function*(K){if(!(1&ar.$flags$)){const Ee=rt(K);Ee.$rmListeners$&&(Ee.$rmListeners$.map(Ne=>Ne()),Ee.$rmListeners$=void 0),null!=Ee&&Ee.$lazyInstance$?on(Ee.$lazyInstance$):null!=Ee&&Ee.$onReadyPromise$&&Ee.$onReadyPromise$.then(()=>on(Ee.$lazyInstance$))}});return function(Ee){return ee.apply(this,arguments)}}(),ln=(ee,K={})=>{var Ee;const mt=[],et=K.exclude||[],At=$r.customElements,Nt=Er.head,Rt=Nt.querySelector("meta[charset]"),Vt=Er.createElement("style"),dn=[],zn=Er.querySelectorAll(`[${_t}]`);let Gn,nr=!0,Qe=0;for(Object.assign(ar,K),ar.$resourcesUrl$=new URL(K.resourcesUrl||"./",Er.baseURI).href,ar.$flags$|=2;Qe<zn.length;Qe++)Ct(zn[Qe].getAttribute(_t),xn(zn[Qe].innerHTML),!0);ee.map(Ye=>{Ye[1].map(st=>{const Mt={$flags$:st[0],$tagName$:st[1],$members$:st[2],$listeners$:st[3]};Mt.$members$=st[2],Mt.$listeners$=st[3],Mt.$attrsToReflect$=[],Mt.$watchers$={};const Ht=Mt.$tagName$,Jt=class extends HTMLElement{constructor(kn){super(kn),hn(kn=this,Mt),1&Mt.$flags$&&kn.attachShadow({mode:"open",delegatesFocus:!!(16&Mt.$flags$)})}connectedCallback(){Gn&&(clearTimeout(Gn),Gn=null),nr?dn.push(this):ar.jmp(()=>(ee=>{if(!(1&ar.$flags$)){const K=rt(ee),Ee=K.$cmpMeta$,Ne=()=>{};if(1&K.$flags$)Fn(ee,K,Ee.$listeners$),null!=K&&K.$lazyInstance$?Ge(K.$lazyInstance$):null!=K&&K.$onReadyPromise$&&K.$onReadyPromise$.then(()=>Ge(K.$lazyInstance$));else{let mt;if(K.$flags$|=1,mt=ee.getAttribute(pe),mt){if(1&Ee.$flags$){const et=qt(ee.shadowRoot,Ee,ee.getAttribute("s-mode"));ee.classList.remove(et+"-h",et+"-s")}((ee,K,Ee,Ne)=>{const et=ee.shadowRoot,At=[],Rt=et?[]:null,Vt=Ne.$vnode$=It(K,null);ar.$orgLocNodes$||Ze(Er.body,ar.$orgLocNodes$=new Map),ee[pe]=Ee,ee.removeAttribute(pe),Fe(Vt,At,[],Rt,ee,ee,Ee),At.map(dn=>{const zn=dn.$hostId$+"."+dn.$nodeId$,Gn=ar.$orgLocNodes$.get(zn),nr=dn.$elm$;Gn&&ki&&""===Gn["s-en"]&&Gn.parentNode.insertBefore(nr,Gn.nextSibling),et||(nr["s-hn"]=K,Gn&&(nr["s-ol"]=Gn,nr["s-ol"]["s-nr"]=nr)),ar.$orgLocNodes$.delete(zn)}),et&&Rt.map(dn=>{dn&&et.appendChild(dn)})})(ee,Ee.$tagName$,mt,K)}mt||12&Ee.$flags$&&Bt(ee);{let et=ee;for(;et=et.parentNode||et.host;)if(1===et.nodeType&&et.hasAttribute("s-id")&&et["s-p"]||et["s-p"]){Pr(K,K.$ancestorComponent$=et);break}}Ee.$members$&&Object.entries(Ee.$members$).map(([et,[At]])=>{if(31&At&&ee.hasOwnProperty(et)){const Nt=ee[et];delete ee[et],ee[et]=Nt}}),oe(ee,K,Ee)}Ne()}})(this))}disconnectedCallback(){ar.jmp(()=>vn(this))}componentOnReady(){return rt(this).$onReadyPromise$}};Mt.$lazyBundleId$=Ye[0],!et.includes(Ht)&&!At.get(Ht)&&(mt.push(Ht),At.define(Ht,Pe(Jt,Mt,1)))})});{Vt.innerHTML=mt+"{visibility:hidden}.hydrated{visibility:inherit}",Vt.setAttribute("data-styles","");const Ye=null!==(Ee=ar.$nonce$)&&void 0!==Ee?Ee:ct(Er);null!=Ye&&Vt.setAttribute("nonce",Ye),Nt.insertBefore(Vt,Rt?Rt.nextSibling:Nt.firstChild)}nr=!1,dn.length?dn.map(Ye=>Ye.connectedCallback()):ar.jmp(()=>Gn=setTimeout(Ar,30))},Fn=(ee,K,Ee,Ne)=>{Ee&&Ee.map(([mt,et,At])=>{const Nt=fr(ee,mt),Rt=br(K,At),Vt=yi(mt);ar.ael(Nt,et,Rt,Vt),(K.$rmListeners$=K.$rmListeners$||[]).push(()=>ar.rel(Nt,et,Rt,Vt))})},br=(ee,K)=>Ee=>{try{256&ee.$flags$?ee.$lazyInstance$[K](Ee):(ee.$queuedListeners$=ee.$queuedListeners$||[]).push([K,Ee])}catch(Ne){Xt(Ne)}},fr=(ee,K)=>4&K?Er:8&K?$r:16&K?Er.body:ee,yi=ee=>0!=(2&ee),bt=new WeakMap,rt=ee=>bt.get(ee),Ot=(ee,K)=>bt.set(K.$lazyInstance$=ee,K),hn=(ee,K)=>{const Ee={$flags$:0,$hostElement$:ee,$cmpMeta$:K,$instanceValues$:new Map};return Ee.$onInstancePromise$=new Promise(Ne=>Ee.$onInstanceResolve$=Ne),Ee.$onReadyPromise$=new Promise(Ne=>Ee.$onReadyResolve$=Ne),ee["s-p"]=[],ee["s-rc"]=[],Fn(ee,Ee,K.$listeners$),bt.set(ee,Ee)},yn=(ee,K)=>K in ee,Xt=(ee,K)=>(0,console.error)(ee,K),Qn=new Map,yr=(ee,K,Ee)=>{const Ne=ee.$tagName$.replace(/-/g,"_"),mt=ee.$lazyBundleId$,et=Qn.get(mt);return et?et[Ne]:O(863)(`./${mt}.entry.js`).then(At=>(Qn.set(mt,At),At[Ne]),Xt)},_r=new Map,Mr=[],$r=typeof window<"u"?window:{},Er=$r.document||{head:{}},ar={$flags$:0,$resourcesUrl$:"",jmp:ee=>ee(),raf:ee=>requestAnimationFrame(ee),ael:(ee,K,Ee,Ne)=>ee.addEventListener(K,Ee,Ne),rel:(ee,K,Ee,Ne)=>ee.removeEventListener(K,Ee,Ne),ce:(ee,K)=>new CustomEvent(ee,K)},Ns=ee=>{Object.assign(ar,ee)},ki=!0,rs=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ci=[],Ti=[],lr=(ee,K)=>Ee=>{ee.push(Ee),_e||(_e=!0,K&&4&ar.$flags$?Qi(ci):ar.raf(ci))},Fi=ee=>{for(let K=0;K<ee.length;K++)try{ee[K](performance.now())}catch(Ee){Xt(Ee)}ee.length=0},ci=()=>{Fi(Ci),Fi(Ti),(_e=Ci.length>0)&&ar.raf(ci)},Qi=ee=>Promise.resolve(void 0).then(ee),Ui=lr(Ci,!1),Cr=lr(Ti,!0)},5662:(en,nt,O)=>{"use strict";O.d(nt,{m:()=>se});var g=O(5861),p=O(2124),Q=O(839),le=O(2085),we=O(1774);const Ce=Oe=>(0,we.c)().duration(Oe?400:300),fe=Oe=>{let xe,ke;const Ke=Oe.width+8,lt=(0,we.c)(),Re=(0,we.c)();Oe.isEndSide?(xe=Ke+"px",ke="0px"):(xe=-Ke+"px",ke="0px"),lt.addElement(Oe.menuInnerEl).fromTo("transform",`translateX(${xe})`,`translateX(${ke})`);const pe="ios"===(0,le.b)(Oe),_t=pe?.2:.25;return Re.addElement(Oe.backdropEl).fromTo("opacity",.01,_t),Ce(pe).addAnimation([lt,Re])},qe=Oe=>{let xe,ke;const Ke=(0,le.b)(Oe),lt=Oe.width;Oe.isEndSide?(xe=-lt+"px",ke=lt+"px"):(xe=lt+"px",ke=-lt+"px");const Re=(0,we.c)().addElement(Oe.menuInnerEl).fromTo("transform",`translateX(${ke})`,"translateX(0px)"),Ae=(0,we.c)().addElement(Oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${xe})`),pe=(0,we.c)().addElement(Oe.backdropEl).fromTo("opacity",.01,.32);return Ce("ios"===Ke).addAnimation([Re,Ae,pe])},Ue=Oe=>{const xe=(0,le.b)(Oe),ke=Oe.width*(Oe.isEndSide?-1:1)+"px",Ke=(0,we.c)().addElement(Oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`);return Ce("ios"===xe).addAnimation(Ke)},se=(()=>{const Oe=new Map,xe=[],ke=function(){var ue=(0,g.Z)(function*(Ie){const Fe=yield ve(Ie);return!!Fe&&Fe.open()});return function(Fe){return ue.apply(this,arguments)}}(),Ke=function(){var ue=(0,g.Z)(function*(Ie){const Fe=yield void 0!==Ie?ve(Ie):ge();return void 0!==Fe&&Fe.close()});return function(Fe){return ue.apply(this,arguments)}}(),lt=function(){var ue=(0,g.Z)(function*(Ie){const Fe=yield ve(Ie);return!!Fe&&Fe.toggle()});return function(Fe){return ue.apply(this,arguments)}}(),Re=function(){var ue=(0,g.Z)(function*(Ie,Fe){const Ze=yield ve(Fe);return Ze&&(Ze.disabled=!Ie),Ze});return function(Fe,Ze){return ue.apply(this,arguments)}}(),Ae=function(){var ue=(0,g.Z)(function*(Ie,Fe){const Ze=yield ve(Fe);return Ze&&(Ze.swipeGesture=Ie),Ze});return function(Fe,Ze){return ue.apply(this,arguments)}}(),pe=function(){var ue=(0,g.Z)(function*(Ie){if(null!=Ie){const Fe=yield ve(Ie);return void 0!==Fe&&Fe.isOpen()}return void 0!==(yield ge())});return function(Fe){return ue.apply(this,arguments)}}(),_t=function(){var ue=(0,g.Z)(function*(Ie){const Fe=yield ve(Ie);return!!Fe&&!Fe.disabled});return function(Fe){return ue.apply(this,arguments)}}(),ve=function(){var ue=(0,g.Z)(function*(Ie){return yield gt(),"start"===Ie||"end"===Ie?Qt(tt=>tt.side===Ie&&!tt.disabled)||Qt(tt=>tt.side===Ie):null!=Ie?Qt(Ze=>Ze.menuId===Ie):Qt(Ze=>!Ze.disabled)||(xe.length>0?xe[0].el:void 0)});return function(Fe){return ue.apply(this,arguments)}}(),ge=function(){var ue=(0,g.Z)(function*(){return yield gt(),It()});return function(){return ue.apply(this,arguments)}}(),me=function(){var ue=(0,g.Z)(function*(){return yield gt(),jt()});return function(){return ue.apply(this,arguments)}}(),Se=function(){var ue=(0,g.Z)(function*(){return yield gt(),Tn()});return function(){return ue.apply(this,arguments)}}(),ye=(ue,Ie)=>{Oe.set(ue,Ie)},ze=ue=>{const Ie=ue.side;xe.filter(Fe=>Fe.side===Ie&&Fe!==ue).forEach(Fe=>Fe.disabled=!0)},ct=function(){var ue=(0,g.Z)(function*(Ie,Fe,Ze){if(Tn())return!1;if(Fe){const tt=yield ge();tt&&Ie.el!==tt&&(yield tt.setOpen(!1,!1))}return Ie._setOpen(Fe,Ze)});return function(Fe,Ze,tt){return ue.apply(this,arguments)}}(),It=()=>Qt(ue=>ue._isOpen),jt=()=>xe.map(ue=>ue.el),Tn=()=>xe.some(ue=>ue.isAnimating),Qt=ue=>{const Ie=xe.find(ue);if(void 0!==Ie)return Ie.el},gt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ue=>new Promise(Ie=>(0,Q.c)(ue,Ie))));return ye("reveal",Ue),ye("push",qe),ye("overlay",fe),typeof document<"u"&&document.addEventListener("ionBackButton",ue=>{const Ie=It();Ie&&ue.detail.register(p.MENU_BACK_BUTTON_PRIORITY,()=>Ie.close())}),{registerAnimation:ye,get:ve,getMenus:me,getOpen:ge,isEnabled:_t,swipeGesture:Ae,isAnimating:Se,isOpen:pe,enable:Re,toggle:lt,close:Ke,open:ke,_getOpenSync:It,_createAnimation:(ue,Ie)=>{const Fe=Oe.get(ue);if(!Fe)throw new Error("animation not registered");return Fe(Ie)},_register:ue=>{xe.indexOf(ue)<0&&(ue.disabled||ze(ue),xe.push(ue))},_unregister:ue=>{const Ie=xe.indexOf(ue);Ie>-1&&xe.splice(Ie,1)},_setOpen:ct,_setActiveMenu:ze}})()},9203:(en,nt,O)=>{"use strict";O.r(nt),O.d(nt,{GESTURE_CONTROLLER:()=>g.G,createGesture:()=>Ue});var g=O(619);const p=(xe,ke,Ke,lt)=>{const Re=Q(xe)?{capture:!!lt.capture,passive:!!lt.passive}:!!lt.capture;let Ae,pe;return xe.__zone_symbol__addEventListener?(Ae="__zone_symbol__addEventListener",pe="__zone_symbol__removeEventListener"):(Ae="addEventListener",pe="removeEventListener"),xe[Ae](ke,Ke,Re),()=>{xe[pe](ke,Ke,Re)}},Q=xe=>{if(void 0===le)try{const ke=Object.defineProperty({},"passive",{get:()=>{le=!0}});xe.addEventListener("optsTest",()=>{},ke)}catch{le=!1}return!!le};let le;const fe=xe=>xe instanceof Document?xe:xe.ownerDocument,Ue=xe=>{let ke=!1,Ke=!1,lt=!0,Re=!1;const Ae=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},xe),pe=Ae.canStart,_t=Ae.onWillStart,ve=Ae.onStart,ge=Ae.onEnd,me=Ae.notCaptured,Se=Ae.onMove,ye=Ae.threshold,Me=Ae.passive,Le=Ae.blurOnStart,ze={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ct=((xe,ke,Ke)=>{const lt=Ke*(Math.PI/180),Re="x"===xe,Ae=Math.cos(lt),pe=ke*ke;let _t=0,ve=0,ge=!1,me=0;return{start(Se,ye){_t=Se,ve=ye,me=0,ge=!0},detect(Se,ye){if(!ge)return!1;const Me=Se-_t,Le=ye-ve,ze=Me*Me+Le*Le;if(ze<pe)return!1;const ct=Math.sqrt(ze),ht=(Re?Me:Le)/ct;return me=ht>Ae?1:ht<-Ae?-1:0,ge=!1,!0},isGesture:()=>0!==me,getDirection:()=>me}})(Ae.direction,Ae.threshold,Ae.maxAngle),ht=g.G.createGesture({name:xe.gestureName,priority:xe.gesturePriority,disableScroll:xe.disableScroll}),Tn=()=>{ke&&(Re=!1,Se&&Se(ze))},Qt=()=>!!ht.capture()&&(ke=!0,lt=!1,ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime,_t?_t(ze).then(ue):ue(),!0),ue=()=>{Le&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;null!=Xe&&Xe.blur&&Xe.blur()}})(),ve&&ve(ze),lt=!0},Ie=()=>{ke=!1,Ke=!1,Re=!1,lt=!0,ht.release()},Fe=Xe=>{const $t=ke,Yt=lt;if(Ie(),Yt){if(_e(ze,Xe),$t)return void(ge&&ge(ze));me&&me(ze)}},Ze=((xe,ke,Ke,lt,Re)=>{let Ae,pe,_t,ve,ge,me,Se,ye=0;const Me=gt=>{ye=Date.now()+2e3,ke(gt)&&(!pe&&Ke&&(pe=p(xe,"touchmove",Ke,Re)),_t||(_t=p(gt.target,"touchend",ze,Re)),ve||(ve=p(gt.target,"touchcancel",ze,Re)))},Le=gt=>{ye>Date.now()||ke(gt)&&(!me&&Ke&&(me=p(fe(xe),"mousemove",Ke,Re)),Se||(Se=p(fe(xe),"mouseup",ct,Re)))},ze=gt=>{ht(),lt&&lt(gt)},ct=gt=>{It(),lt&&lt(gt)},ht=()=>{pe&&pe(),_t&&_t(),ve&&ve(),pe=_t=ve=void 0},It=()=>{me&&me(),Se&&Se(),me=Se=void 0},jt=()=>{ht(),It()},Tn=(gt=!0)=>{gt?(Ae||(Ae=p(xe,"touchstart",Me,Re)),ge||(ge=p(xe,"mousedown",Le,Re))):(Ae&&Ae(),ge&&ge(),Ae=ge=void 0,jt())};return{enable:Tn,stop:jt,destroy:()=>{Tn(!1),lt=Ke=ke=void 0}}})(Ae.el,Xe=>{const $t=Oe(Xe);return!(Ke||!lt||(se(Xe,ze),ze.startX=ze.currentX,ze.startY=ze.currentY,ze.startTime=ze.currentTime=$t,ze.velocityX=ze.velocityY=ze.deltaX=ze.deltaY=0,ze.event=Xe,pe&&!1===pe(ze))||(ht.release(),!ht.start()))&&(Ke=!0,0===ye?Qt():(ct.start(ze.startX,ze.startY),!0))},Xe=>{ke?!Re&&lt&&(Re=!0,_e(ze,Xe),requestAnimationFrame(Tn)):(_e(ze,Xe),ct.detect(ze.currentX,ze.currentY)&&(!ct.isGesture()||!Qt())&&tt())},Fe,{capture:!1,passive:Me}),tt=()=>{Ie(),Ze.stop(),me&&me(ze)};return{enable(Xe=!0){Xe||(ke&&Fe(void 0),Ie()),Ze.enable(Xe)},destroy(){ht.destroy(),Ze.destroy()}}},_e=(xe,ke)=>{if(!ke)return;const Ke=xe.currentX,lt=xe.currentY,Re=xe.currentTime;se(ke,xe);const Ae=xe.currentX,pe=xe.currentY,ve=(xe.currentTime=Oe(ke))-Re;if(ve>0&&ve<100){const me=(pe-lt)/ve;xe.velocityX=(Ae-Ke)/ve*.7+.3*xe.velocityX,xe.velocityY=.7*me+.3*xe.velocityY}xe.deltaX=Ae-xe.startX,xe.deltaY=pe-xe.startY,xe.event=ke},se=(xe,ke)=>{let Ke=0,lt=0;if(xe){const Re=xe.changedTouches;if(Re&&Re.length>0){const Ae=Re[0];Ke=Ae.clientX,lt=Ae.clientY}else void 0!==xe.pageX&&(Ke=xe.pageX,lt=xe.pageY)}ke.currentX=Ke,ke.currentY=lt},Oe=xe=>xe.timeStamp||Date.now()},2085:(en,nt,O)=>{"use strict";O.d(nt,{a:()=>se,b:()=>Tn,c:()=>Q,g:()=>_e,i:()=>Qt});var g=O(1688);class p{constructor(){this.m=new Map}reset(ue){this.m=new Map(Object.entries(ue))}get(ue,Ie){const Fe=this.m.get(ue);return void 0!==Fe?Fe:Ie}getBoolean(ue,Ie=!1){const Fe=this.m.get(ue);return void 0===Fe?Ie:"string"==typeof Fe?"true"===Fe:!!Fe}getNumber(ue,Ie){const Fe=parseFloat(this.m.get(ue));return isNaN(Fe)?void 0!==Ie?Ie:NaN:Fe}set(ue,Ie){this.m.set(ue,Ie)}}const Q=new p,Ue="ionic-persist-config",_e=gt=>Oe(gt),se=(gt,ue)=>("string"==typeof gt&&(ue=gt,gt=void 0),_e(gt).includes(ue)),Oe=(gt=window)=>{if(typeof gt>"u")return[];gt.Ionic=gt.Ionic||{};let ue=gt.Ionic.platforms;return null==ue&&(ue=gt.Ionic.platforms=xe(gt),ue.forEach(Ie=>gt.document.documentElement.classList.add(`plt-${Ie}`))),ue},xe=gt=>{const ue=Q.get("platform");return Object.keys(It).filter(Ie=>{const Fe=null==ue?void 0:ue[Ie];return"function"==typeof Fe?Fe(gt):It[Ie](gt)})},Ke=gt=>!!(ct(gt,/iPad/i)||ct(gt,/Macintosh/i)&&ge(gt)),Ae=gt=>ct(gt,/android|sink/i),ge=gt=>ht(gt,"(any-pointer:coarse)"),Se=gt=>ye(gt)||Me(gt),ye=gt=>!!(gt.cordova||gt.phonegap||gt.PhoneGap),Me=gt=>{const ue=gt.Capacitor;return!(null==ue||!ue.isNative)},ct=(gt,ue)=>ue.test(gt.navigator.userAgent),ht=(gt,ue)=>{var Ie;return null===(Ie=gt.matchMedia)||void 0===Ie?void 0:Ie.call(gt,ue).matches},It={ipad:Ke,iphone:gt=>ct(gt,/iPhone/i),ios:gt=>ct(gt,/iPhone|iPod/i)||Ke(gt),android:Ae,phablet:gt=>{const ue=gt.innerWidth,Ie=gt.innerHeight,Fe=Math.min(ue,Ie),Ze=Math.max(ue,Ie);return Fe>390&&Fe<520&&Ze>620&&Ze<800},tablet:gt=>{const ue=gt.innerWidth,Ie=gt.innerHeight,Fe=Math.min(ue,Ie),Ze=Math.max(ue,Ie);return Ke(gt)||(gt=>Ae(gt)&&!ct(gt,/mobile/i))(gt)||Fe>460&&Fe<820&&Ze>780&&Ze<1400},cordova:ye,capacitor:Me,electron:gt=>ct(gt,/electron/i),pwa:gt=>{var ue;return!!(null!==(ue=gt.matchMedia)&&void 0!==ue&&ue.call(gt,"(display-mode: standalone)").matches||gt.navigator.standalone)},mobile:ge,mobileweb:gt=>ge(gt)&&!Se(gt),desktop:gt=>!ge(gt),hybrid:Se};let jt;const Tn=gt=>gt&&(0,g.g)(gt)||jt,Qt=(gt={})=>{if(typeof window>"u")return;const ue=window.document,Ie=window,Fe=Ie.Ionic=Ie.Ionic||{},Ze={};gt._ael&&(Ze.ael=gt._ael),gt._rel&&(Ze.rel=gt._rel),gt._ce&&(Ze.ce=gt._ce),(0,g.a)(Ze);const tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(gt=>{try{const ue=gt.sessionStorage.getItem(Ue);return null!==ue?JSON.parse(ue):{}}catch{return{}}})(Ie)),{persistConfig:!1}),Fe.config),(gt=>{const ue={};return gt.location.search.slice(1).split("&").map(Ie=>Ie.split("=")).map(([Ie,Fe])=>[decodeURIComponent(Ie),decodeURIComponent(Fe)]).filter(([Ie])=>((gt,ue)=>gt.substr(0,ue.length)===ue)(Ie,"ionic:")).map(([Ie,Fe])=>[Ie.slice(6),Fe]).forEach(([Ie,Fe])=>{ue[Ie]=Fe}),ue})(Ie)),gt);Q.reset(tt),Q.getBoolean("persistConfig")&&((gt,ue)=>{try{gt.sessionStorage.setItem(Ue,JSON.stringify(ue))}catch{return}})(Ie,tt),Oe(Ie),Fe.config=Q,Fe.mode=jt=Q.get("mode",ue.documentElement.getAttribute("mode")||(se(Ie,"ios")?"ios":"md")),Q.set("mode",jt),ue.documentElement.setAttribute("mode",jt),ue.documentElement.classList.add(jt),Q.getBoolean("_testing")&&Q.set("animated",!1);const Xe=Yt=>{var ft;return null===(ft=Yt.tagName)||void 0===ft?void 0:ft.startsWith("ION-")},$t=Yt=>["ios","md"].includes(Yt);(0,g.c)(Yt=>{for(;Yt;){const ft=Yt.mode||Yt.getAttribute("mode");if(ft){if($t(ft))return ft;Xe(Yt)&&console.warn('Invalid ionic mode: "'+ft+'", expected: "ios" or "md"')}Yt=Yt.parentElement}return jt})}},2650:(en,nt,O)=>{"use strict";O.r(nt),O.d(nt,{iosTransitionAnimation:()=>xe,shadow:()=>fe});var g=O(1774),p=O(1651);O(6225),O(1688);const Ce=ke=>document.querySelector(`${ke}.ion-cloned-element`),fe=ke=>ke.shadowRoot||ke,qe=ke=>{const Ke="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs"),lt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ke){const Re=Ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Re?Re.querySelector(lt):null}return ke.querySelector(lt)},Ue=(ke,Ke)=>{const lt="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs");let Re=[];if(null!=lt){const Ae=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ae&&(Re=Ae.querySelectorAll("ion-buttons"))}else Re=ke.querySelectorAll("ion-buttons");for(const Ae of Re){const pe=Ae.closest("ion-header"),_t=pe&&!pe.classList.contains("header-collapse-condense-inactive"),ve=Ae.querySelector("ion-back-button"),ge=Ae.classList.contains("buttons-collapse");if(null!==ve&&("start"===Ae.slot||""===Ae.slot)&&(ge&&_t&&Ke||!ge))return ve}return null},se=(ke,Ke,lt,Re,Ae,pe)=>{const _t=Ke?`calc(100% - ${pe.right+4}px)`:pe.left-4+"px",ve=Ke?"7px":"-7px",ge=Ke?"-4px":"4px",me=Ke?"-4px":"4px",Se=Ke?"right":"left",ye=Ke?"left":"right",ze=lt?[{offset:0,opacity:1,transform:`translate3d(${ge}, ${pe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ve}, ${Ae.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ve}, ${Ae.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ge}, ${pe.top-46}px, 0) scale(1)`}],It=lt?[{offset:0,opacity:1,transform:`translate3d(${me}, ${pe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${me}, ${pe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${me}, ${pe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${me}, ${pe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${me}, ${pe.top-46}px, 0) scale(1)`}],jt=(0,g.c)(),Tn=(0,g.c)(),Qt=Ce("ion-back-button"),gt=fe(Qt).querySelector(".button-text"),ue=fe(Qt).querySelector("ion-icon");Qt.text=Re.text,Qt.mode=Re.mode,Qt.icon=Re.icon,Qt.color=Re.color,Qt.disabled=Re.disabled,Qt.style.setProperty("display","block"),Qt.style.setProperty("position","fixed"),Tn.addElement(ue),jt.addElement(gt),jt.beforeStyles({"transform-origin":`${Se} center`}).beforeAddWrite(()=>{Re.style.setProperty("display","none"),Qt.style.setProperty(Se,_t)}).afterAddWrite(()=>{Re.style.setProperty("display",""),Qt.style.setProperty("display","none"),Qt.style.removeProperty(Se)}).keyframes(ze),Tn.beforeStyles({"transform-origin":`${ye} center`}).keyframes(It),ke.addAnimation([jt,Tn])},Oe=(ke,Ke,lt,Re,Ae,pe)=>{const _t=Ke?`calc(100% - ${Ae.right}px)`:`${Ae.left}px`,ve=Ke?"-18px":"18px",ge=Ke?"right":"left",ye=lt?[{offset:0,opacity:0,transform:`translate3d(${ve}, ${pe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ve}, ${pe.top-4}px, 0) scale(0.5)`}],Me=Ce("ion-title"),Le=(0,g.c)();Me.innerText=Re.innerText,Me.size=Re.size,Me.color=Re.color,Le.addElement(Me),Le.beforeStyles({"transform-origin":`${ge} center`,height:"46px",display:"",position:"relative",[ge]:_t}).beforeAddWrite(()=>{Re.style.setProperty("display","none")}).afterAddWrite(()=>{Re.style.setProperty("display",""),Me.style.setProperty("display","none")}).keyframes(ye),ke.addAnimation(Le)},xe=(ke,Ke)=>{var lt;try{const Re="cubic-bezier(0.32,0.72,0,1)",Ae="opacity",pe="transform",_t="0%",ge="rtl"===ke.ownerDocument.dir,me=ge?"-99.5%":"99.5%",Se=ge?"33%":"-33%",ye=Ke.enteringEl,Me=Ke.leavingEl,Le="back"===Ke.direction,ze=ye.querySelector(":scope > ion-content"),ct=ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ht=ye.querySelectorAll(":scope > ion-header > ion-toolbar"),It=(0,g.c)(),jt=(0,g.c)();if(It.addElement(ye).duration((null!==(lt=Ke.duration)&&void 0!==lt?lt:0)||540).easing(Ke.easing||Re).fill("both").beforeRemoveClass("ion-page-invisible"),Me&&null!=ke){const ue=(0,g.c)();ue.addElement(ke),It.addAnimation(ue)}if(ze||0!==ht.length||0!==ct.length?(jt.addElement(ze),jt.addElement(ct)):jt.addElement(ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),It.addAnimation(jt),Le?jt.beforeClearStyles([Ae]).fromTo("transform",`translateX(${Se})`,`translateX(${_t})`).fromTo(Ae,.8,1):jt.beforeClearStyles([Ae]).fromTo("transform",`translateX(${me})`,`translateX(${_t})`),ze){const ue=fe(ze).querySelector(".transition-effect");if(ue){const Ie=ue.querySelector(".transition-cover"),Fe=ue.querySelector(".transition-shadow"),Ze=(0,g.c)(),tt=(0,g.c)(),Xe=(0,g.c)();Ze.addElement(ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),tt.addElement(Ie).beforeClearStyles([Ae]).fromTo(Ae,0,.1),Xe.addElement(Fe).beforeClearStyles([Ae]).fromTo(Ae,.03,.7),Ze.addAnimation([tt,Xe]),jt.addAnimation([Ze])}}const Tn=ye.querySelector("ion-header.header-collapse-condense"),{forward:Qt,backward:gt}=((ke,Ke,lt,Re,Ae)=>{const pe=Ue(Re,lt),_t=qe(Ae),ve=qe(Re),ge=Ue(Ae,lt),me=null!==pe&&null!==_t&&!lt,Se=null!==ve&&null!==ge&&lt;if(me){const ye=_t.getBoundingClientRect(),Me=pe.getBoundingClientRect();Oe(ke,Ke,lt,_t,ye,Me),se(ke,Ke,lt,pe,ye,Me)}else if(Se){const ye=ve.getBoundingClientRect(),Me=ge.getBoundingClientRect();Oe(ke,Ke,lt,ve,ye,Me),se(ke,Ke,lt,ge,ye,Me)}return{forward:me,backward:Se}})(It,ge,Le,ye,Me);if(ht.forEach(ue=>{const Ie=(0,g.c)();Ie.addElement(ue),It.addAnimation(Ie);const Fe=(0,g.c)();Fe.addElement(ue.querySelector("ion-title"));const Ze=(0,g.c)(),tt=Array.from(ue.querySelectorAll("ion-buttons,[menuToggle]")),Xe=ue.closest("ion-header"),$t=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive");let Yt;Yt=tt.filter(Le?Ct=>{const qt=Ct.classList.contains("buttons-collapse");return qt&&!$t||!qt}:Ct=>!Ct.classList.contains("buttons-collapse")),Ze.addElement(Yt);const ft=(0,g.c)();ft.addElement(ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Te=(0,g.c)();Te.addElement(fe(ue).querySelector(".toolbar-background"));const at=(0,g.c)(),St=ue.querySelector("ion-back-button");if(St&&at.addElement(St),Ie.addAnimation([Fe,Ze,ft,Te,at]),Ze.fromTo(Ae,.01,1),ft.fromTo(Ae,.01,1),Le)$t||Fe.fromTo("transform",`translateX(${Se})`,`translateX(${_t})`).fromTo(Ae,.01,1),ft.fromTo("transform",`translateX(${Se})`,`translateX(${_t})`),at.fromTo(Ae,.01,1);else if(Tn||Fe.fromTo("transform",`translateX(${me})`,`translateX(${_t})`).fromTo(Ae,.01,1),ft.fromTo("transform",`translateX(${me})`,`translateX(${_t})`),Te.beforeClearStyles([Ae,"transform"]),(null==Xe?void 0:Xe.translucent)?Te.fromTo("transform",ge?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Te.fromTo(Ae,.01,"var(--opacity)"),Qt||at.fromTo(Ae,.01,1),St&&!Qt){const qt=(0,g.c)();qt.addElement(fe(St).querySelector(".button-text")).fromTo("transform",ge?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ie.addAnimation(qt)}}),Me){const ue=(0,g.c)(),Ie=Me.querySelector(":scope > ion-content"),Fe=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),Ze=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ie||0!==Fe.length||0!==Ze.length?(ue.addElement(Ie),ue.addElement(Ze)):ue.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),It.addAnimation(ue),Le){ue.beforeClearStyles([Ae]).fromTo("transform",`translateX(${_t})`,ge?"translateX(-100%)":"translateX(100%)");const tt=(0,p.g)(Me);It.afterAddWrite(()=>{"normal"===It.getDirection()&&tt.style.setProperty("display","none")})}else ue.fromTo("transform",`translateX(${_t})`,`translateX(${Se})`).fromTo(Ae,1,.8);if(Ie){const tt=fe(Ie).querySelector(".transition-effect");if(tt){const Xe=tt.querySelector(".transition-cover"),$t=tt.querySelector(".transition-shadow"),Yt=(0,g.c)(),ft=(0,g.c)(),Te=(0,g.c)();Yt.addElement(tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ft.addElement(Xe).beforeClearStyles([Ae]).fromTo(Ae,.1,0),Te.addElement($t).beforeClearStyles([Ae]).fromTo(Ae,.7,.03),Yt.addAnimation([ft,Te]),ue.addAnimation([Yt])}}Fe.forEach(tt=>{const Xe=(0,g.c)();Xe.addElement(tt);const $t=(0,g.c)();$t.addElement(tt.querySelector("ion-title"));const Yt=(0,g.c)(),ft=tt.querySelectorAll("ion-buttons,[menuToggle]"),Te=tt.closest("ion-header"),at=null==Te?void 0:Te.classList.contains("header-collapse-condense-inactive"),St=Array.from(ft).filter(Sn=>{const wn=Sn.classList.contains("buttons-collapse");return wn&&!at||!wn});Yt.addElement(St);const Ct=(0,g.c)(),qt=tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");qt.length>0&&Ct.addElement(qt);const In=(0,g.c)();In.addElement(fe(tt).querySelector(".toolbar-background"));const cn=(0,g.c)(),xn=tt.querySelector("ion-back-button");if(xn&&cn.addElement(xn),Xe.addAnimation([$t,Yt,Ct,cn,In]),It.addAnimation(Xe),cn.fromTo(Ae,.99,0),Yt.fromTo(Ae,.99,0),Ct.fromTo(Ae,.99,0),Le){if(at||$t.fromTo("transform",`translateX(${_t})`,ge?"translateX(-100%)":"translateX(100%)").fromTo(Ae,.99,0),Ct.fromTo("transform",`translateX(${_t})`,ge?"translateX(-100%)":"translateX(100%)"),In.beforeClearStyles([Ae,"transform"]),(null==Te?void 0:Te.translucent)?In.fromTo("transform","translateX(0px)",ge?"translateX(-100%)":"translateX(100%)"):In.fromTo(Ae,"var(--opacity)",0),xn&&!gt){const wn=(0,g.c)();wn.addElement(fe(xn).querySelector(".button-text")).fromTo("transform",`translateX(${_t})`,`translateX(${(ge?-124:124)+"px"})`),Xe.addAnimation(wn)}}else at||$t.fromTo("transform",`translateX(${_t})`,`translateX(${Se})`).fromTo(Ae,.99,0).afterClearStyles([pe,Ae]),Ct.fromTo("transform",`translateX(${_t})`,`translateX(${Se})`).afterClearStyles([pe,Ae]),cn.afterClearStyles([Ae]),$t.afterClearStyles([Ae]),Yt.afterClearStyles([Ae])})}return It}catch(Re){throw Re}}},1904:(en,nt,O)=>{"use strict";O.r(nt),O.d(nt,{mdTransitionAnimation:()=>we});var g=O(1774),p=O(1651);O(6225),O(1688);const we=(Ce,fe)=>{var qe,Ue,_e;const xe="back"===fe.direction,Ke=fe.leavingEl,lt=(0,p.g)(fe.enteringEl),Re=lt.querySelector("ion-toolbar"),Ae=(0,g.c)();if(Ae.addElement(lt).fill("both").beforeRemoveClass("ion-page-invisible"),xe?Ae.duration((null!==(qe=fe.duration)&&void 0!==qe?qe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ae.duration((null!==(Ue=fe.duration)&&void 0!==Ue?Ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Re){const pe=(0,g.c)();pe.addElement(Re),Ae.addAnimation(pe)}if(Ke&&xe){Ae.duration((null!==(_e=fe.duration)&&void 0!==_e?_e:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const pe=(0,g.c)();pe.addElement((0,p.g)(Ke)).onFinish(_t=>{1===_t&&pe.elements.length>0&&pe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ae.addAnimation(pe)}return Ae}},4988:(en,nt,O)=>{"use strict";O.d(nt,{B:()=>Xe,G:()=>$t,a:()=>se,b:()=>Oe,c:()=>lt,d:()=>Yt,e:()=>ft,f:()=>It,g:()=>Tn,h:()=>ue,i:()=>Fe,j:()=>Ae,k:()=>pe,l:()=>xe,m:()=>ke,n:()=>Ue,o:()=>ge,q:()=>ct,s:()=>tt,t:()=>Re});var g=O(5861),p=O(2085),Q=O(1042),le=O(2124),we=O(839),Ce=O(6710);let fe=0,qe=0;const Ue=new WeakMap,_e=Te=>({create:at=>_t(Te,at),dismiss:(at,St,Ct)=>Le(document,at,St,Te,Ct),getTop:()=>(0,g.Z)(function*(){return ct(document,Te)})()}),se=_e("ion-alert"),Oe=_e("ion-action-sheet"),xe=_e("ion-loading"),ke=_e("ion-modal"),lt=_e("ion-popover"),Re=_e("ion-toast"),Ae=Te=>{typeof document<"u"&&Me(document);const at=fe++;Te.overlayIndex=at},pe=Te=>(Te.hasAttribute("id")||(Te.id="ion-overlay-"+ ++qe),Te.id),_t=(Te,at)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Te).then(()=>{const St=document.createElement(Te);return St.classList.add("overlay-hidden"),Object.assign(St,Object.assign(Object.assign({},at),{hasController:!0})),Qt(document).appendChild(St),new Promise(Ct=>(0,we.c)(St,Ct))}):Promise.resolve(),ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ge=(Te,at)=>{let St=Te.querySelector(ve);const Ct=null==St?void 0:St.shadowRoot;Ct&&(St=Ct.querySelector(ve)||St),St?(0,we.f)(St):at.focus()},Se=(Te,at)=>{const St=Array.from(Te.querySelectorAll(ve));let Ct=St.length>0?St[St.length-1]:null;const qt=null==Ct?void 0:Ct.shadowRoot;qt&&(Ct=qt.querySelector(ve)||Ct),Ct?Ct.focus():at.focus()},Me=Te=>{0===fe&&(fe=1,Te.addEventListener("focus",at=>{((Te,at)=>{const St=ct(at,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ct=Te.target;St&&Ct&&!St.classList.contains("ion-disable-focus-trap")&&(St.shadowRoot?(()=>{if(St.contains(Ct))St.lastFocus=Ct;else{const cn=St.lastFocus;ge(St,St),cn===at.activeElement&&Se(St,St),St.lastFocus=at.activeElement}})():(()=>{if(St===Ct)St.lastFocus=void 0;else{const cn=(0,we.g)(St);if(!cn.contains(Ct))return;const xn=cn.querySelector(".ion-overlay-wrapper");if(!xn)return;if(xn.contains(Ct)||Ct===cn.querySelector("ion-backdrop"))St.lastFocus=Ct;else{const Sn=St.lastFocus;ge(xn,St),Sn===at.activeElement&&Se(xn,St),St.lastFocus=at.activeElement}}})())})(at,Te)},!0),Te.addEventListener("ionBackButton",at=>{const St=ct(Te);null!=St&&St.backdropDismiss&&at.detail.register(le.OVERLAY_BACK_BUTTON_PRIORITY,()=>St.dismiss(void 0,Xe))}),Te.addEventListener("keydown",at=>{if("Escape"===at.key){const St=ct(Te);null!=St&&St.backdropDismiss&&St.dismiss(void 0,Xe)}}))},Le=(Te,at,St,Ct,qt)=>{const In=ct(Te,Ct,qt);return In?In.dismiss(at,St):Promise.reject("overlay does not exist")},ct=(Te,at,St)=>{const Ct=((Te,at)=>(void 0===at&&(at="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Te.querySelectorAll(at)).filter(St=>St.overlayIndex>0)))(Te,at).filter(qt=>!(Te=>Te.classList.contains("overlay-hidden"))(qt));return void 0===St?Ct[Ct.length-1]:Ct.find(qt=>qt.id===St)},ht=(Te=!1)=>{const St=Qt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");St&&(Te?St.setAttribute("aria-hidden","true"):St.removeAttribute("aria-hidden"))},It=function(){var Te=(0,g.Z)(function*(at,St,Ct,qt,In){var cn,xn;if(at.presented)return;ht(!0),at.presented=!0,at.willPresent.emit(),null===(cn=at.willPresentShorthand)||void 0===cn||cn.emit();const Sn=(0,p.b)(at),wn=at.enterAnimation?at.enterAnimation:p.c.get(St,"ios"===Sn?Ct:qt);(yield gt(at,wn,at.el,In))&&(at.didPresent.emit(),null===(xn=at.didPresentShorthand)||void 0===xn||xn.emit()),"ION-TOAST"!==at.el.tagName&&jt(at.el),at.keyboardClose&&(null===document.activeElement||!at.el.contains(document.activeElement))&&at.el.focus()});return function(St,Ct,qt,In,cn){return Te.apply(this,arguments)}}(),jt=function(){var Te=(0,g.Z)(function*(at){let St=document.activeElement;if(!St)return;const Ct=null==St?void 0:St.shadowRoot;Ct&&(St=Ct.querySelector(ve)||St),yield at.onDidDismiss(),St.focus()});return function(St){return Te.apply(this,arguments)}}(),Tn=function(){var Te=(0,g.Z)(function*(at,St,Ct,qt,In,cn,xn){var Sn,wn;if(!at.presented)return!1;ht(!1),at.presented=!1;try{at.el.style.setProperty("pointer-events","none"),at.willDismiss.emit({data:St,role:Ct}),null===(Sn=at.willDismissShorthand)||void 0===Sn||Sn.emit({data:St,role:Ct});const On=(0,p.b)(at),Bn=at.leaveAnimation?at.leaveAnimation:p.c.get(qt,"ios"===On?In:cn);Ct!==$t&&(yield gt(at,Bn,at.el,xn)),at.didDismiss.emit({data:St,role:Ct}),null===(wn=at.didDismissShorthand)||void 0===wn||wn.emit({data:St,role:Ct}),Ue.delete(at),at.el.classList.add("overlay-hidden"),at.el.style.removeProperty("pointer-events"),void 0!==at.el.lastFocus&&(at.el.lastFocus=void 0)}catch(On){console.error(On)}return at.el.remove(),!0});return function(St,Ct,qt,In,cn,xn,Sn){return Te.apply(this,arguments)}}(),Qt=Te=>Te.querySelector("ion-app")||Te.body,gt=function(){var Te=(0,g.Z)(function*(at,St,Ct,qt){Ct.classList.remove("overlay-hidden");const cn=St(at.el,qt);(!at.animated||!p.c.getBoolean("animated",!0))&&cn.duration(0),at.keyboardClose&&cn.beforeAddWrite(()=>{const Sn=Ct.ownerDocument.activeElement;null!=Sn&&Sn.matches("input,ion-input, ion-textarea")&&Sn.blur()});const xn=Ue.get(at)||[];return Ue.set(at,[...xn,cn]),yield cn.play(),!0});return function(St,Ct,qt,In){return Te.apply(this,arguments)}}(),ue=(Te,at)=>{let St;const Ct=new Promise(qt=>St=qt);return Ie(Te,at,qt=>{St(qt.detail)}),Ct},Ie=(Te,at,St)=>{const Ct=qt=>{(0,we.b)(Te,at,Ct),St(qt)};(0,we.a)(Te,at,Ct)},Fe=Te=>"cancel"===Te||Te===Xe,Ze=Te=>Te(),tt=(Te,at)=>{if("function"==typeof Te)return p.c.get("_zoneGate",Ze)(()=>{try{return Te(at)}catch(Ct){throw Ct}})},Xe="backdrop",$t="gesture",Yt=Te=>{let St,at=!1;const Ct=(0,Q.C)(),qt=(xn=!1)=>{if(St&&!xn)return{delegate:St,inline:at};const{el:Sn,hasController:wn,delegate:On}=Te;return at=null!==Sn.parentNode&&!wn,St=at?On||Ct:On,{inline:at,delegate:St}};return{attachViewToDom:function(){var xn=(0,g.Z)(function*(Sn){const{delegate:wn}=qt(!0);if(wn)return yield wn.attachViewToDom(Te.el,Sn);const{hasController:On}=Te;if(On&&void 0!==Sn)throw new Error("framework delegate is missing");return null});return function(wn){return xn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:xn}=qt();xn&&void 0!==Te.el&&xn.removeViewFromDom(Te.el.parentElement,Te.el)}}},ft=()=>{let Te;const at=()=>{Te&&(Te(),Te=void 0)};return{addClickListener:(Ct,qt)=>{at();const In=void 0!==qt?document.getElementById(qt):null;In?Te=((xn,Sn)=>{const wn=()=>{Sn.present()};return xn.addEventListener("click",wn),()=>{xn.removeEventListener("click",wn)}})(In,Ct):(0,Ce.p)(`A trigger element with the ID "${qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ct)},removeClickListener:at}}},6162:(en,nt,O)=>{"use strict";var g=O(6593),p=O(5879),Q=O(2891),le=O(95),we=O(7027),Ce=O(5861),fe=O(6796),qe=O(6814);const Ue=function(ve){return[ve]};function _e(ve,ge){if(1&ve&&(p.TgZ(0,"ion-menu-toggle",6)(1,"ion-item",7),p._UZ(2,"ion-icon",8),p.TgZ(3,"ion-label"),p._uU(4),p.qZA()()()),2&ve){const me=ge.$implicit;p.xp6(1),p.Q6J("routerLink",p.VKq(4,Ue,me.url)),p.xp6(1),p.Q6J("ios",me.icon+"-outline")("md",me.icon+"-sharp"),p.xp6(2),p.Oqu(me.title)}}function se(ve,ge){if(1&ve){const me=p.EpF();p.TgZ(0,"ion-menu-toggle",6)(1,"ion-item",9),p.NdJ("click",function(){const Me=p.CHM(me).$implicit,Le=p.oxw();return p.KtG(Le.navigate(Me))}),p._UZ(2,"ion-icon",8),p.TgZ(3,"ion-label"),p._uU(4),p.qZA()()()}if(2&ve){const me=ge.$implicit;p.xp6(2),p.Q6J("ios",me.icon+"-outline")("md",me.icon+"-sharp"),p.xp6(2),p.Oqu(me.title)}}let Oe=(()=>{var ve;class ge{constructor(Se,ye,Me,Le){this.router=Se,this.afAuth=ye,this.toastController=Me,this.navCtrl=Le,this.appPages=[{title:"Inicio",url:"/inicio",icon:"home"},{title:"Mi Perfil",url:"/perfil",icon:"person-circle"},{title:"Sucursales",url:"/sucursales",icon:"business"},{title:"Departamentos",url:"/departamentos",icon:"briefcase"},{title:"Empleados",url:"/empleados",icon:"people"},{title:"Productores",url:"/clientes",icon:"people-circle"},{title:"Insumos",url:"/insumos",icon:"layers"},{title:"Ventas",url:"/ventas",icon:"wallet"},{title:"Adeudos",url:"/adeudos",icon:"cash"}],this.opciones=[{title:"Acerca De",url:"/acerca",icon:"help"},{title:"Cerrar Sesi\xf3n",url:"/inicio-sesion",icon:"log-out",action:"logout"}]}navigate(Se){Se.action&&"logout"===Se.action?this.logout():this.router.navigate([Se.url])}presentToast(Se){var ye=this;return(0,Ce.Z)(function*(){(yield ye.toastController.create({message:Se,duration:2e3,position:"bottom"})).present()})()}logout(){var Se=this;return(0,Ce.Z)(function*(){try{Se.presentToast("Cerrando sesi\xf3n..."),yield Se.afAuth.signOut(),Se.navCtrl.navigateRoot("/inicio-sesion",{animationDirection:"back"})}catch(ye){console.error("Error cerrando sesi\xf3n",ye),Se.presentToast("Error al cerrar la sesi\xf3n.")}})()}}return(ve=ge).\u0275fac=function(Se){return new(Se||ve)(p.Y36(Q.F0),p.Y36(fe.zQ),p.Y36(we.yF),p.Y36(we.SH))},ve.\u0275cmp=p.Xpm({type:ve,selectors:[["app-root"]],decls:15,vars:2,consts:[["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],["auto-hide","false",4,"ngFor","ngForOf"],["id","labels-list"],["id","main-content"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["aria-hidden","true","slot","start",3,"ios","md"],["lines","none","detail","false","routerLinkActive","selected",3,"click"]],template:function(Se,ye){1&Se&&(p.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2)(5,"ion-list-header"),p._uU(6,"PROGOMEX Insumos"),p.qZA(),p.TgZ(7,"ion-note"),p._uU(8,"Aplicaci\xf3n IONIC de PROGOMEX"),p.qZA(),p.YNc(9,_e,5,6,"ion-menu-toggle",3),p.qZA(),p.TgZ(10,"ion-list",4)(11,"ion-list-header"),p._uU(12,"Opciones"),p.qZA(),p.YNc(13,se,5,3,"ion-menu-toggle",3),p.qZA()()(),p._UZ(14,"ion-router-outlet",5),p.qZA()()),2&Se&&(p.xp6(9),p.Q6J("ngForOf",ye.appPages),p.xp6(4),p.Q6J("ngForOf",ye.opciones))},dependencies:[qe.sg,we.dr,we.W2,we.gu,we.Ie,we.Q$,we.q_,we.yh,we.z0,we.zc,we.uN,we.jI,we.jP,we.YI,Q.rH,Q.Od],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),ge})();const xe=[{path:"inicio-sesion",loadChildren:()=>O.e(6304).then(O.bind(O,1581)).then(ve=>ve.InicioSesionPageModule)},{path:"sucursales",loadChildren:()=>Promise.all([O.e(7523),O.e(364)]).then(O.bind(O,364)).then(ve=>ve.SucursalesPageModule)},{path:"departamentos",loadChildren:()=>Promise.all([O.e(7523),O.e(3244)]).then(O.bind(O,3244)).then(ve=>ve.DepartamentosPageModule)},{path:"empleados",loadChildren:()=>Promise.all([O.e(7523),O.e(836)]).then(O.bind(O,836)).then(ve=>ve.EmpleadosPageModule)},{path:"clientes",loadChildren:()=>Promise.all([O.e(7523),O.e(3974)]).then(O.bind(O,3974)).then(ve=>ve.ClientesPageModule)},{path:"insumos",loadChildren:()=>Promise.all([O.e(7523),O.e(7919)]).then(O.bind(O,7919)).then(ve=>ve.InsumosPageModule)},{path:"ventas",loadChildren:()=>Promise.all([O.e(7523),O.e(5041)]).then(O.bind(O,5041)).then(ve=>ve.VentasPageModule)},{path:"adeudos",loadChildren:()=>Promise.all([O.e(7523),O.e(7372)]).then(O.bind(O,7372)).then(ve=>ve.AdeudosPageModule)},{path:"inicio",loadChildren:()=>Promise.all([O.e(7523),O.e(8592),O.e(9477)]).then(O.bind(O,9477)).then(ve=>ve.InicioPageModule)},{path:"acerca",loadChildren:()=>O.e(3108).then(O.bind(O,3108)).then(ve=>ve.AcercaPageModule)},{path:"perfil",loadChildren:()=>Promise.all([O.e(7523),O.e(5808)]).then(O.bind(O,5808)).then(ve=>ve.PerfilPageModule)},{path:"cambiar-datos",loadChildren:()=>Promise.all([O.e(7523),O.e(6086)]).then(O.bind(O,6086)).then(ve=>ve.CambiarDatosPageModule)},{path:"actualizar-sucursal",loadChildren:()=>Promise.all([O.e(7523),O.e(765)]).then(O.bind(O,765)).then(ve=>ve.ActualizarSucursalPageModule)},{path:"perfil-empleado",loadChildren:()=>Promise.all([O.e(7523),O.e(8279)]).then(O.bind(O,8279)).then(ve=>ve.PerfilEmpleadoPageModule)},{path:"actualizar-empleado",loadChildren:()=>Promise.all([O.e(7523),O.e(3457)]).then(O.bind(O,3457)).then(ve=>ve.ActualizarEmpleadoPageModule)},{path:"agregar-sucursal",loadChildren:()=>Promise.all([O.e(7523),O.e(9336)]).then(O.bind(O,9336)).then(ve=>ve.AgregarSucursalPageModule)},{path:"agregar-departamento",loadChildren:()=>Promise.all([O.e(7523),O.e(3517)]).then(O.bind(O,3517)).then(ve=>ve.AgregarDepartamentoPageModule)},{path:"agregar-empleado",loadChildren:()=>Promise.all([O.e(7523),O.e(2263)]).then(O.bind(O,2263)).then(ve=>ve.AgregarEmpleadoPageModule)},{path:"perfil-productor",loadChildren:()=>O.e(4709).then(O.bind(O,4709)).then(ve=>ve.PerfilProductorPageModule)},{path:"actualizar-productor",loadChildren:()=>Promise.all([O.e(7523),O.e(3061)]).then(O.bind(O,3061)).then(ve=>ve.ActualizarProductorPageModule)},{path:"agregar-productor",loadChildren:()=>Promise.all([O.e(7523),O.e(3193)]).then(O.bind(O,3193)).then(ve=>ve.AgregarProductorPageModule)},{path:"agregar-insumo",loadChildren:()=>Promise.all([O.e(7523),O.e(8060)]).then(O.bind(O,8060)).then(ve=>ve.AgregarInsumoPageModule)},{path:"actualizar-insumo",loadChildren:()=>Promise.all([O.e(7523),O.e(8314)]).then(O.bind(O,8314)).then(ve=>ve.ActualizarInsumoPageModule)},{path:"actualizar-venta",loadChildren:()=>O.e(527).then(O.bind(O,527)).then(ve=>ve.ActualizarVentaPageModule)},{path:"agregar-venta",loadChildren:()=>Promise.all([O.e(7523),O.e(8592),O.e(5816)]).then(O.bind(O,5816)).then(ve=>ve.AgregarVentaPageModule)},{path:"detalle-venta",loadChildren:()=>Promise.all([O.e(7523),O.e(7965)]).then(O.bind(O,7965)).then(ve=>ve.DetalleVentaPageModule)},{path:"detalle-adeudo",loadChildren:()=>O.e(8456).then(O.bind(O,8456)).then(ve=>ve.DetalleAdeudoPageModule)},{path:"actualizar-adeudo",loadChildren:()=>O.e(8075).then(O.bind(O,8075)).then(ve=>ve.ActualizarAdeudoPageModule)},{path:"dedicatorias",loadChildren:()=>O.e(6141).then(O.bind(O,6141)).then(ve=>ve.DedicatoriasPageModule)},{path:"perfil-empleado/:id",loadChildren:()=>Promise.all([O.e(7523),O.e(8279)]).then(O.bind(O,8279)).then(ve=>ve.PerfilEmpleadoPageModule)},{path:"actualizar-empleado/:id",loadChildren:()=>Promise.all([O.e(7523),O.e(3457)]).then(O.bind(O,3457)).then(ve=>ve.ActualizarEmpleadoPageModule)},{path:"actualizar-insumo/:id",loadChildren:()=>Promise.all([O.e(7523),O.e(8314)]).then(O.bind(O,8314)).then(ve=>ve.ActualizarInsumoPageModule)},{path:"detalle-venta/:ventaId",loadChildren:()=>Promise.all([O.e(7523),O.e(7965)]).then(O.bind(O,7965)).then(ve=>ve.DetalleVentaPageModule)},{path:"",redirectTo:"inicio-sesion",pathMatch:"full"}];let ke=(()=>{var ve;class ge{}return(ve=ge).\u0275fac=function(Se){return new(Se||ve)},ve.\u0275mod=p.oAB({type:ve}),ve.\u0275inj=p.cJS({imports:[Q.Bz.forRoot(xe,{preloadingStrategy:Q.wm}),Q.Bz]}),ge})();var Ke=O(8330),lt=O(6304),Re=O(6240);const Ae={apiKey:"AIzaSyBlM6lYCYgw7L4D4-vc4xH3E4T1JkZ2sXE",authDomain:"almacen-progomex.firebaseapp.com",databaseURL:"https://almacen-progomex-default-rtdb.firebaseio.com",projectId:"almacen-progomex",storageBucket:"almacen-progomex.appspot.com",messagingSenderId:"674990334647"};let pe=(()=>{var ve;class ge{}return(ve=ge).\u0275fac=function(Se){return new(Se||ve)},ve.\u0275mod=p.oAB({type:ve,bootstrap:[Oe]}),ve.\u0275inj=p.cJS({providers:[{provide:Q.wN,useClass:we.r4}],imports:[g.b2,we.Pc.forRoot(),ke,le.u5,lt.hO.initializeApp(Ae),fe.ww,Ke.yb,Re.TE]}),ge})();(0,p.G48)(),g.q6().bootstrapModule(pe).catch(ve=>console.log(ve))},5619:(en,nt,O)=>{"use strict";O.d(nt,{X:()=>p});var g=O(8645);class p extends g.x{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const we=super._subscribe(le);return!we.closed&&le.next(this._value),we}getValue(){const{hasError:le,thrownError:we,_value:Ce}=this;if(le)throw we;return this._throwIfClosed(),Ce}next(le){super.next(this._value=le)}}},5592:(en,nt,O)=>{"use strict";O.d(nt,{y:()=>qe});var g=O(305),p=O(7394),Q=O(4850),le=O(8407),we=O(2653),Ce=O(4674),fe=O(1441);let qe=(()=>{class Oe{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ke=new Oe;return Ke.source=this,Ke.operator=ke,Ke}subscribe(ke,Ke,lt){const Re=function se(Oe){return Oe&&Oe instanceof g.Lv||function _e(Oe){return Oe&&(0,Ce.m)(Oe.next)&&(0,Ce.m)(Oe.error)&&(0,Ce.m)(Oe.complete)}(Oe)&&(0,p.Nn)(Oe)}(ke)?ke:new g.Hp(ke,Ke,lt);return(0,fe.x)(()=>{const{operator:Ae,source:pe}=this;Re.add(Ae?Ae.call(Re,pe):pe?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ke){ke.error(Ke)}}forEach(ke,Ke){return new(Ke=Ue(Ke))((lt,Re)=>{const Ae=new g.Hp({next:pe=>{try{ke(pe)}catch(_t){Re(_t),Ae.unsubscribe()}},error:Re,complete:lt});this.subscribe(Ae)})}_subscribe(ke){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(ke)}[Q.L](){return this}pipe(...ke){return(0,le.U)(ke)(this)}toPromise(ke){return new(ke=Ue(ke))((Ke,lt)=>{let Re;this.subscribe(Ae=>Re=Ae,Ae=>lt(Ae),()=>Ke(Re))})}}return Oe.create=xe=>new Oe(xe),Oe})();function Ue(Oe){var xe;return null!==(xe=null!=Oe?Oe:we.config.Promise)&&void 0!==xe?xe:Promise}},8645:(en,nt,O)=>{"use strict";O.d(nt,{x:()=>fe});var g=O(5592),p=O(7394);const le=(0,O(2306).d)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=O(9039),Ce=O(1441);let fe=(()=>{class Ue extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Oe=new qe(this,this);return Oe.operator=se,Oe}_throwIfClosed(){if(this.closed)throw new le}next(se){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(se)}})}error(se){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(se)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Oe,isStopped:xe,observers:ke}=this;return Oe||xe?p.Lc:(this.currentObservers=null,ke.push(se),new p.w0(()=>{this.currentObservers=null,(0,we.P)(ke,se)}))}_checkFinalizedStatuses(se){const{hasError:Oe,thrownError:xe,isStopped:ke}=this;Oe?se.error(xe):ke&&se.complete()}asObservable(){const se=new g.y;return se.source=this,se}}return Ue.create=(_e,se)=>new qe(_e,se),Ue})();class qe extends fe{constructor(_e,se){super(),this.destination=_e,this.source=se}next(_e){var se,Oe;null===(Oe=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Oe||Oe.call(se,_e)}error(_e){var se,Oe;null===(Oe=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Oe||Oe.call(se,_e)}complete(){var _e,se;null===(se=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===se||se.call(_e)}_subscribe(_e){var se,Oe;return null!==(Oe=null===(se=this.source)||void 0===se?void 0:se.subscribe(_e))&&void 0!==Oe?Oe:p.Lc}}},305:(en,nt,O)=>{"use strict";O.d(nt,{Hp:()=>lt,Lv:()=>Oe});var g=O(4674),p=O(7394),Q=O(2653),le=O(3894),we=O(2420);const Ce=Ue("C",void 0,void 0);function Ue(ve,ge,me){return{kind:ve,value:ge,error:me}}var _e=O(7599),se=O(1441);class Oe extends p.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,p.Nn)(ge)&&ge.add(this)):this.destination=_t}static create(ge,me,Se){return new lt(ge,me,Se)}next(ge){this.isStopped?pe(function qe(ve){return Ue("N",ve,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?pe(function fe(ve){return Ue("E",void 0,ve)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?pe(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function ke(ve,ge){return xe.call(ve,ge)}class Ke{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:me}=this;if(me.next)try{me.next(ge)}catch(Se){Re(Se)}}error(ge){const{partialObserver:me}=this;if(me.error)try{me.error(ge)}catch(Se){Re(Se)}else Re(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(me){Re(me)}}}class lt extends Oe{constructor(ge,me,Se){let ye;if(super(),(0,g.m)(ge)||!ge)ye={next:null!=ge?ge:void 0,error:null!=me?me:void 0,complete:null!=Se?Se:void 0};else{let Me;this&&Q.config.useDeprecatedNextContext?(Me=Object.create(ge),Me.unsubscribe=()=>this.unsubscribe(),ye={next:ge.next&&ke(ge.next,Me),error:ge.error&&ke(ge.error,Me),complete:ge.complete&&ke(ge.complete,Me)}):ye=ge}this.destination=new Ke(ye)}}function Re(ve){Q.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(ve):(0,le.h)(ve)}function pe(ve,ge){const{onStoppedNotification:me}=Q.config;me&&_e.z.setTimeout(()=>me(ve,ge))}const _t={closed:!0,next:we.Z,error:function Ae(ve){throw ve},complete:we.Z}},7394:(en,nt,O)=>{"use strict";O.d(nt,{Lc:()=>Ce,w0:()=>we,Nn:()=>fe});var g=O(4674);const Q=(0,O(2306).d)(Ue=>function(se){Ue(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Oe,xe)=>`${xe+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var le=O(9039);class we{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ke of se)ke.remove(this);else se.remove(this);const{initialTeardown:Oe}=this;if((0,g.m)(Oe))try{Oe()}catch(ke){_e=ke instanceof Q?ke.errors:[ke]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const ke of xe)try{qe(ke)}catch(Ke){_e=null!=_e?_e:[],Ke instanceof Q?_e=[..._e,...Ke.errors]:_e.push(Ke)}}if(_e)throw new Q(_e)}}add(_e){var se;if(_e&&_e!==this)if(this.closed)qe(_e);else{if(_e instanceof we){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(_e)}}_hasParent(_e){const{_parentage:se}=this;return se===_e||Array.isArray(se)&&se.includes(_e)}_addParent(_e){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(_e),se):se?[se,_e]:_e}_removeParent(_e){const{_parentage:se}=this;se===_e?this._parentage=null:Array.isArray(se)&&(0,le.P)(se,_e)}remove(_e){const{_finalizers:se}=this;se&&(0,le.P)(se,_e),_e instanceof we&&_e._removeParent(this)}}we.EMPTY=(()=>{const Ue=new we;return Ue.closed=!0,Ue})();const Ce=we.EMPTY;function fe(Ue){return Ue instanceof we||Ue&&"closed"in Ue&&(0,g.m)(Ue.remove)&&(0,g.m)(Ue.add)&&(0,g.m)(Ue.unsubscribe)}function qe(Ue){(0,g.m)(Ue)?Ue():Ue.unsubscribe()}},2653:(en,nt,O)=>{"use strict";O.d(nt,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(en,nt,O)=>{"use strict";O.d(nt,{a:()=>_e});var g=O(5592),p=O(7453),Q=O(2459),le=O(2737),we=O(7400),Ce=O(4564),fe=O(2714),qe=O(8251),Ue=O(7103);function _e(...xe){const ke=(0,Ce.yG)(xe),Ke=(0,Ce.jO)(xe),{args:lt,keys:Re}=(0,p.D)(xe);if(0===lt.length)return(0,Q.D)([],ke);const Ae=new g.y(function se(xe,ke,Ke=le.y){return lt=>{Oe(ke,()=>{const{length:Re}=xe,Ae=new Array(Re);let pe=Re,_t=Re;for(let ve=0;ve<Re;ve++)Oe(ke,()=>{const ge=(0,Q.D)(xe[ve],ke);let me=!1;ge.subscribe((0,qe.x)(lt,Se=>{Ae[ve]=Se,me||(me=!0,_t--),_t||lt.next(Ke(Ae.slice()))},()=>{--pe||lt.complete()}))},lt)},lt)}}(lt,ke,Re?pe=>(0,fe.n)(Re,pe):le.y));return Ke?Ae.pipe((0,we.Z)(Ke)):Ae}function Oe(xe,ke,Ke){xe?(0,Ue.f)(Ke,xe,ke):ke()}},5211:(en,nt,O)=>{"use strict";O.d(nt,{z:()=>we});var g=O(7537),Q=O(4564),le=O(2459);function we(...Ce){return function p(){return(0,g.J)(1)}()((0,le.D)(Ce,(0,Q.yG)(Ce)))}},6232:(en,nt,O)=>{"use strict";O.d(nt,{E:()=>p});const p=new(O(5592).y)(we=>we.complete())},2459:(en,nt,O)=>{"use strict";O.d(nt,{D:()=>ge});var g=O(4829),p=O(3093),Q=O(5137),Ce=O(5592),qe=O(4971),Ue=O(4674),_e=O(7103);function Oe(me,Se){if(!me)throw new Error("Iterable cannot be null");return new Ce.y(ye=>{(0,_e.f)(ye,Se,()=>{const Me=me[Symbol.asyncIterator]();(0,_e.f)(ye,Se,()=>{Me.next().then(Le=>{Le.done?ye.complete():ye.next(Le.value)})},0,!0)})})}var xe=O(8382),ke=O(4026),Ke=O(4266),lt=O(3664),Re=O(5726),Ae=O(9853),pe=O(541);function ge(me,Se){return Se?function ve(me,Se){if(null!=me){if((0,xe.c)(me))return function le(me,Se){return(0,g.Xf)(me).pipe((0,Q.R)(Se),(0,p.Q)(Se))}(me,Se);if((0,Ke.z)(me))return function fe(me,Se){return new Ce.y(ye=>{let Me=0;return Se.schedule(function(){Me===me.length?ye.complete():(ye.next(me[Me++]),ye.closed||this.schedule())})})}(me,Se);if((0,ke.t)(me))return function we(me,Se){return(0,g.Xf)(me).pipe((0,Q.R)(Se),(0,p.Q)(Se))}(me,Se);if((0,Re.D)(me))return Oe(me,Se);if((0,lt.T)(me))return function se(me,Se){return new Ce.y(ye=>{let Me;return(0,_e.f)(ye,Se,()=>{Me=me[qe.h](),(0,_e.f)(ye,Se,()=>{let Le,ze;try{({value:Le,done:ze}=Me.next())}catch(ct){return void ye.error(ct)}ze?ye.complete():ye.next(Le)},0,!0)}),()=>(0,Ue.m)(null==Me?void 0:Me.return)&&Me.return()})}(me,Se);if((0,pe.L)(me))return function _t(me,Se){return Oe((0,pe.Q)(me),Se)}(me,Se)}throw(0,Ae.z)(me)}(me,Se):(0,g.Xf)(me)}},4829:(en,nt,O)=>{"use strict";O.d(nt,{Xf:()=>xe});var g=O(7582),p=O(4266),Q=O(4026),le=O(5592),we=O(8382),Ce=O(5726),fe=O(9853),qe=O(3664),Ue=O(541),_e=O(4674),se=O(3894),Oe=O(4850);function xe(ve){if(ve instanceof le.y)return ve;if(null!=ve){if((0,we.c)(ve))return function ke(ve){return new le.y(ge=>{const me=ve[Oe.L]();if((0,_e.m)(me.subscribe))return me.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,p.z)(ve))return function Ke(ve){return new le.y(ge=>{for(let me=0;me<ve.length&&!ge.closed;me++)ge.next(ve[me]);ge.complete()})}(ve);if((0,Q.t)(ve))return function lt(ve){return new le.y(ge=>{ve.then(me=>{ge.closed||(ge.next(me),ge.complete())},me=>ge.error(me)).then(null,se.h)})}(ve);if((0,Ce.D)(ve))return Ae(ve);if((0,qe.T)(ve))return function Re(ve){return new le.y(ge=>{for(const me of ve)if(ge.next(me),ge.closed)return;ge.complete()})}(ve);if((0,Ue.L)(ve))return function pe(ve){return Ae((0,Ue.Q)(ve))}(ve)}throw(0,fe.z)(ve)}function Ae(ve){return new le.y(ge=>{(function _t(ve,ge){var me,Se,ye,Me;return(0,g.mG)(this,void 0,void 0,function*(){try{for(me=(0,g.KL)(ve);!(Se=yield me.next()).done;)if(ge.next(Se.value),ge.closed)return}catch(Le){ye={error:Le}}finally{try{Se&&!Se.done&&(Me=me.return)&&(yield Me.call(me))}finally{if(ye)throw ye.error}}ge.complete()})})(ve,ge).catch(me=>ge.error(me))})}},3019:(en,nt,O)=>{"use strict";O.d(nt,{T:()=>Ce});var g=O(7537),p=O(4829),Q=O(6232),le=O(4564),we=O(2459);function Ce(...fe){const qe=(0,le.yG)(fe),Ue=(0,le._6)(fe,1/0),_e=fe;return _e.length?1===_e.length?(0,p.Xf)(_e[0]):(0,g.J)(Ue)((0,we.D)(_e,qe)):Q.E}},2096:(en,nt,O)=>{"use strict";O.d(nt,{of:()=>Q});var g=O(4564),p=O(2459);function Q(...le){const we=(0,g.yG)(le);return(0,p.D)(le,we)}},8251:(en,nt,O)=>{"use strict";O.d(nt,{x:()=>p});var g=O(305);function p(le,we,Ce,fe,qe){return new Q(le,we,Ce,fe,qe)}class Q extends g.Lv{constructor(we,Ce,fe,qe,Ue,_e){super(we),this.onFinalize=Ue,this.shouldUnsubscribe=_e,this._next=Ce?function(se){try{Ce(se)}catch(Oe){we.error(Oe)}}:super._next,this._error=qe?function(se){try{qe(se)}catch(Oe){we.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(se){we.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},3572:(en,nt,O)=>{"use strict";O.d(nt,{d:()=>Q});var g=O(9360),p=O(8251);function Q(le){return(0,g.e)((we,Ce)=>{let fe=!1;we.subscribe((0,p.x)(Ce,qe=>{fe=!0,Ce.next(qe)},()=>{fe||Ce.next(le),Ce.complete()}))})}},3997:(en,nt,O)=>{"use strict";O.d(nt,{x:()=>le});var g=O(2737),p=O(9360),Q=O(8251);function le(Ce,fe=g.y){return Ce=null!=Ce?Ce:we,(0,p.e)((qe,Ue)=>{let _e,se=!0;qe.subscribe((0,Q.x)(Ue,Oe=>{const xe=fe(Oe);(se||!Ce(_e,xe))&&(se=!1,_e=xe,Ue.next(Oe))}))})}function we(Ce,fe){return Ce===fe}},2181:(en,nt,O)=>{"use strict";O.d(nt,{h:()=>Q});var g=O(9360),p=O(8251);function Q(le,we){return(0,g.e)((Ce,fe)=>{let qe=0;Ce.subscribe((0,p.x)(fe,Ue=>le.call(we,Ue,qe++)&&fe.next(Ue)))})}},4716:(en,nt,O)=>{"use strict";O.d(nt,{x:()=>p});var g=O(9360);function p(Q){return(0,g.e)((le,we)=>{try{le.subscribe(we)}finally{we.add(Q)}})}},1374:(en,nt,O)=>{"use strict";O.d(nt,{P:()=>fe});var g=O(6973),p=O(2181),Q=O(8180),le=O(3572),we=O(3026),Ce=O(2737);function fe(qe,Ue){const _e=arguments.length>=2;return se=>se.pipe(qe?(0,p.h)((Oe,xe)=>qe(Oe,xe,se)):Ce.y,(0,Q.q)(1),_e?(0,le.d)(Ue):(0,we.T)(()=>new g.K))}},7398:(en,nt,O)=>{"use strict";O.d(nt,{U:()=>Q});var g=O(9360),p=O(8251);function Q(le,we){return(0,g.e)((Ce,fe)=>{let qe=0;Ce.subscribe((0,p.x)(fe,Ue=>{fe.next(le.call(we,Ue,qe++))}))})}},7537:(en,nt,O)=>{"use strict";O.d(nt,{J:()=>Q});var g=O(1631),p=O(2737);function Q(le=1/0){return(0,g.z)(p.y,le)}},1631:(en,nt,O)=>{"use strict";O.d(nt,{z:()=>qe});var g=O(7398),p=O(4829),Q=O(9360),le=O(7103),we=O(8251),fe=O(4674);function qe(Ue,_e,se=1/0){return(0,fe.m)(_e)?qe((Oe,xe)=>(0,g.U)((ke,Ke)=>_e(Oe,ke,xe,Ke))((0,p.Xf)(Ue(Oe,xe))),se):("number"==typeof _e&&(se=_e),(0,Q.e)((Oe,xe)=>function Ce(Ue,_e,se,Oe,xe,ke,Ke,lt){const Re=[];let Ae=0,pe=0,_t=!1;const ve=()=>{_t&&!Re.length&&!Ae&&_e.complete()},ge=Se=>Ae<Oe?me(Se):Re.push(Se),me=Se=>{ke&&_e.next(Se),Ae++;let ye=!1;(0,p.Xf)(se(Se,pe++)).subscribe((0,we.x)(_e,Me=>{null==xe||xe(Me),ke?ge(Me):_e.next(Me)},()=>{ye=!0},void 0,()=>{if(ye)try{for(Ae--;Re.length&&Ae<Oe;){const Me=Re.shift();Ke?(0,le.f)(_e,Ke,()=>me(Me)):me(Me)}ve()}catch(Me){_e.error(Me)}}))};return Ue.subscribe((0,we.x)(_e,ge,()=>{_t=!0,ve()})),()=>{null==lt||lt()}}(Oe,xe,Ue,se)))}},3093:(en,nt,O)=>{"use strict";O.d(nt,{Q:()=>le});var g=O(7103),p=O(9360),Q=O(8251);function le(we,Ce=0){return(0,p.e)((fe,qe)=>{fe.subscribe((0,Q.x)(qe,Ue=>(0,g.f)(qe,we,()=>qe.next(Ue),Ce),()=>(0,g.f)(qe,we,()=>qe.complete(),Ce),Ue=>(0,g.f)(qe,we,()=>qe.error(Ue),Ce)))})}},6699:(en,nt,O)=>{"use strict";O.d(nt,{R:()=>le});var g=O(9360),p=O(8251);function le(we,Ce){return(0,g.e)(function Q(we,Ce,fe,qe,Ue){return(_e,se)=>{let Oe=fe,xe=Ce,ke=0;_e.subscribe((0,p.x)(se,Ke=>{const lt=ke++;xe=Oe?we(xe,Ke,lt):(Oe=!0,Ke),qe&&se.next(xe)},Ue&&(()=>{Oe&&se.next(xe),se.complete()})))}}(we,Ce,arguments.length>=2,!0))}},3020:(en,nt,O)=>{"use strict";O.d(nt,{B:()=>we});var g=O(4829),p=O(8645),Q=O(305),le=O(9360);function we(fe={}){const{connector:qe=(()=>new p.x),resetOnError:Ue=!0,resetOnComplete:_e=!0,resetOnRefCountZero:se=!0}=fe;return Oe=>{let xe,ke,Ke,lt=0,Re=!1,Ae=!1;const pe=()=>{null==ke||ke.unsubscribe(),ke=void 0},_t=()=>{pe(),xe=Ke=void 0,Re=Ae=!1},ve=()=>{const ge=xe;_t(),null==ge||ge.unsubscribe()};return(0,le.e)((ge,me)=>{lt++,!Ae&&!Re&&pe();const Se=Ke=null!=Ke?Ke:qe();me.add(()=>{lt--,0===lt&&!Ae&&!Re&&(ke=Ce(ve,se))}),Se.subscribe(me),!xe&&lt>0&&(xe=new Q.Hp({next:ye=>Se.next(ye),error:ye=>{Ae=!0,pe(),ke=Ce(_t,Ue,ye),Se.error(ye)},complete:()=>{Re=!0,pe(),ke=Ce(_t,_e),Se.complete()}}),(0,g.Xf)(ge).subscribe(xe))})(Oe)}}function Ce(fe,qe,...Ue){if(!0===qe)return void fe();if(!1===qe)return;const _e=new Q.Hp({next:()=>{_e.unsubscribe(),fe()}});return(0,g.Xf)(qe(...Ue)).subscribe(_e)}},7921:(en,nt,O)=>{"use strict";O.d(nt,{O:()=>le});var g=O(5211),p=O(4564),Q=O(9360);function le(...we){const Ce=(0,p.yG)(we);return(0,Q.e)((fe,qe)=>{(Ce?(0,g.z)(we,fe,Ce):(0,g.z)(we,fe)).subscribe(qe)})}},5137:(en,nt,O)=>{"use strict";O.d(nt,{R:()=>p});var g=O(9360);function p(Q,le=0){return(0,g.e)((we,Ce)=>{Ce.add(Q.schedule(()=>we.subscribe(Ce),le))})}},4664:(en,nt,O)=>{"use strict";O.d(nt,{w:()=>le});var g=O(4829),p=O(9360),Q=O(8251);function le(we,Ce){return(0,p.e)((fe,qe)=>{let Ue=null,_e=0,se=!1;const Oe=()=>se&&!Ue&&qe.complete();fe.subscribe((0,Q.x)(qe,xe=>{null==Ue||Ue.unsubscribe();let ke=0;const Ke=_e++;(0,g.Xf)(we(xe,Ke)).subscribe(Ue=(0,Q.x)(qe,lt=>qe.next(Ce?Ce(xe,lt,Ke,ke++):lt),()=>{Ue=null,Oe()}))},()=>{se=!0,Oe()}))})}},8180:(en,nt,O)=>{"use strict";O.d(nt,{q:()=>le});var g=O(6232),p=O(9360),Q=O(8251);function le(we){return we<=0?()=>g.E:(0,p.e)((Ce,fe)=>{let qe=0;Ce.subscribe((0,Q.x)(fe,Ue=>{++qe<=we&&(fe.next(Ue),we<=qe&&fe.complete())}))})}},9397:(en,nt,O)=>{"use strict";O.d(nt,{b:()=>we});var g=O(4674),p=O(9360),Q=O(8251),le=O(2737);function we(Ce,fe,qe){const Ue=(0,g.m)(Ce)||fe||qe?{next:Ce,error:fe,complete:qe}:Ce;return Ue?(0,p.e)((_e,se)=>{var Oe;null===(Oe=Ue.subscribe)||void 0===Oe||Oe.call(Ue);let xe=!0;_e.subscribe((0,Q.x)(se,ke=>{var Ke;null===(Ke=Ue.next)||void 0===Ke||Ke.call(Ue,ke),se.next(ke)},()=>{var ke;xe=!1,null===(ke=Ue.complete)||void 0===ke||ke.call(Ue),se.complete()},ke=>{var Ke;xe=!1,null===(Ke=Ue.error)||void 0===Ke||Ke.call(Ue,ke),se.error(ke)},()=>{var ke,Ke;xe&&(null===(ke=Ue.unsubscribe)||void 0===ke||ke.call(Ue)),null===(Ke=Ue.finalize)||void 0===Ke||Ke.call(Ue)}))}):le.y}},3026:(en,nt,O)=>{"use strict";O.d(nt,{T:()=>le});var g=O(6973),p=O(9360),Q=O(8251);function le(Ce=we){return(0,p.e)((fe,qe)=>{let Ue=!1;fe.subscribe((0,Q.x)(qe,_e=>{Ue=!0,qe.next(_e)},()=>Ue?qe.complete():qe.error(Ce())))})}function we(){return new g.K}},1954:(en,nt,O)=>{"use strict";O.d(nt,{o:()=>we});var g=O(7394);class p extends g.w0{constructor(fe,qe){super()}schedule(fe,qe=0){return this}}const Q={setInterval(Ce,fe,...qe){const{delegate:Ue}=Q;return null!=Ue&&Ue.setInterval?Ue.setInterval(Ce,fe,...qe):setInterval(Ce,fe,...qe)},clearInterval(Ce){const{delegate:fe}=Q;return((null==fe?void 0:fe.clearInterval)||clearInterval)(Ce)},delegate:void 0};var le=O(9039);class we extends p{constructor(fe,qe){super(fe,qe),this.scheduler=fe,this.work=qe,this.pending=!1}schedule(fe,qe=0){var Ue;if(this.closed)return this;this.state=fe;const _e=this.id,se=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(se,_e,qe)),this.pending=!0,this.delay=qe,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(se,this.id,qe),this}requestAsyncId(fe,qe,Ue=0){return Q.setInterval(fe.flush.bind(fe,this),Ue)}recycleAsyncId(fe,qe,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return qe;null!=qe&&Q.clearInterval(qe)}execute(fe,qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(fe,qe);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,qe){let _e,Ue=!1;try{this.work(fe)}catch(se){Ue=!0,_e=se||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:fe,scheduler:qe}=this,{actions:Ue}=qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(Ue,this),null!=fe&&(this.id=this.recycleAsyncId(qe,fe,null)),this.delay=null,super.unsubscribe()}}}},2631:(en,nt,O)=>{"use strict";O.d(nt,{v:()=>Q});var g=O(4552);class p{constructor(we,Ce=p.now){this.schedulerActionCtor=we,this.now=Ce}schedule(we,Ce=0,fe){return new this.schedulerActionCtor(this,we).schedule(fe,Ce)}}p.now=g.l.now;class Q extends p{constructor(we,Ce=p.now){super(we,Ce),this.actions=[],this._active=!1}flush(we){const{actions:Ce}=this;if(this._active)return void Ce.push(we);let fe;this._active=!0;do{if(fe=we.execute(we.state,we.delay))break}while(we=Ce.shift());if(this._active=!1,fe){for(;we=Ce.shift();)we.unsubscribe();throw fe}}}},6321:(en,nt,O)=>{"use strict";O.d(nt,{z:()=>Q});var g=O(1954);const Q=new(O(2631).v)(g.o)},4552:(en,nt,O)=>{"use strict";O.d(nt,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(en,nt,O)=>{"use strict";O.d(nt,{z:()=>g});const g={setTimeout(p,Q,...le){const{delegate:we}=g;return null!=we&&we.setTimeout?we.setTimeout(p,Q,...le):setTimeout(p,Q,...le)},clearTimeout(p){const{delegate:Q}=g;return((null==Q?void 0:Q.clearTimeout)||clearTimeout)(p)},delegate:void 0}},4971:(en,nt,O)=>{"use strict";O.d(nt,{h:()=>p});const p=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(en,nt,O)=>{"use strict";O.d(nt,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(en,nt,O)=>{"use strict";O.d(nt,{K:()=>p});const p=(0,O(2306).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(en,nt,O)=>{"use strict";O.d(nt,{_6:()=>Ce,jO:()=>le,yG:()=>we});var g=O(4674);function Q(fe){return fe[fe.length-1]}function le(fe){return(0,g.m)(Q(fe))?fe.pop():void 0}function we(fe){return function p(fe){return fe&&(0,g.m)(fe.schedule)}(Q(fe))?fe.pop():void 0}function Ce(fe,qe){return"number"==typeof Q(fe)?fe.pop():qe}},7453:(en,nt,O)=>{"use strict";O.d(nt,{D:()=>we});const{isArray:g}=Array,{getPrototypeOf:p,prototype:Q,keys:le}=Object;function we(fe){if(1===fe.length){const qe=fe[0];if(g(qe))return{args:qe,keys:null};if(function Ce(fe){return fe&&"object"==typeof fe&&p(fe)===Q}(qe)){const Ue=le(qe);return{args:Ue.map(_e=>qe[_e]),keys:Ue}}}return{args:fe,keys:null}}},9039:(en,nt,O)=>{"use strict";function g(p,Q){if(p){const le=p.indexOf(Q);0<=le&&p.splice(le,1)}}O.d(nt,{P:()=>g})},2306:(en,nt,O)=>{"use strict";function g(p){const le=p(we=>{Error.call(we),we.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}O.d(nt,{d:()=>g})},2714:(en,nt,O)=>{"use strict";function g(p,Q){return p.reduce((le,we,Ce)=>(le[we]=Q[Ce],le),{})}O.d(nt,{n:()=>g})},1441:(en,nt,O)=>{"use strict";O.d(nt,{O:()=>le,x:()=>Q});var g=O(2653);let p=null;function Q(we){if(g.config.useDeprecatedSynchronousErrorHandling){const Ce=!p;if(Ce&&(p={errorThrown:!1,error:null}),we(),Ce){const{errorThrown:fe,error:qe}=p;if(p=null,fe)throw qe}}else we()}function le(we){g.config.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=we)}},7103:(en,nt,O)=>{"use strict";function g(p,Q,le,we=0,Ce=!1){const fe=Q.schedule(function(){le(),Ce?p.add(this.schedule(null,we)):this.unsubscribe()},we);if(p.add(fe),!Ce)return fe}O.d(nt,{f:()=>g})},2737:(en,nt,O)=>{"use strict";function g(p){return p}O.d(nt,{y:()=>g})},4266:(en,nt,O)=>{"use strict";O.d(nt,{z:()=>g});const g=p=>p&&"number"==typeof p.length&&"function"!=typeof p},5726:(en,nt,O)=>{"use strict";O.d(nt,{D:()=>p});var g=O(4674);function p(Q){return Symbol.asyncIterator&&(0,g.m)(null==Q?void 0:Q[Symbol.asyncIterator])}},4674:(en,nt,O)=>{"use strict";function g(p){return"function"==typeof p}O.d(nt,{m:()=>g})},8382:(en,nt,O)=>{"use strict";O.d(nt,{c:()=>Q});var g=O(4850),p=O(4674);function Q(le){return(0,p.m)(le[g.L])}},3664:(en,nt,O)=>{"use strict";O.d(nt,{T:()=>Q});var g=O(4971),p=O(4674);function Q(le){return(0,p.m)(null==le?void 0:le[g.h])}},4026:(en,nt,O)=>{"use strict";O.d(nt,{t:()=>p});var g=O(4674);function p(Q){return(0,g.m)(null==Q?void 0:Q.then)}},541:(en,nt,O)=>{"use strict";O.d(nt,{L:()=>le,Q:()=>Q});var g=O(7582),p=O(4674);function Q(we){return(0,g.FC)(this,arguments,function*(){const fe=we.getReader();try{for(;;){const{value:qe,done:Ue}=yield(0,g.qq)(fe.read());if(Ue)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(qe)}}finally{fe.releaseLock()}})}function le(we){return(0,p.m)(null==we?void 0:we.getReader)}},9360:(en,nt,O)=>{"use strict";O.d(nt,{A:()=>p,e:()=>Q});var g=O(4674);function p(le){return(0,g.m)(null==le?void 0:le.lift)}function Q(le){return we=>{if(p(we))return we.lift(function(Ce){try{return le(Ce,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(en,nt,O)=>{"use strict";O.d(nt,{Z:()=>le});var g=O(7398);const{isArray:p}=Array;function le(we){return(0,g.U)(Ce=>function Q(we,Ce){return p(Ce)?we(...Ce):we(Ce)}(we,Ce))}},2420:(en,nt,O)=>{"use strict";function g(){}O.d(nt,{Z:()=>g})},8407:(en,nt,O)=>{"use strict";O.d(nt,{U:()=>Q,z:()=>p});var g=O(2737);function p(...le){return Q(le)}function Q(le){return 0===le.length?g.y:1===le.length?le[0]:function(Ce){return le.reduce((fe,qe)=>qe(fe),Ce)}}},3894:(en,nt,O)=>{"use strict";O.d(nt,{h:()=>Q});var g=O(2653),p=O(7599);function Q(le){p.z.setTimeout(()=>{const{onUnhandledError:we}=g.config;if(!we)throw le;we(le)})}},9853:(en,nt,O)=>{"use strict";function g(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(nt,{z:()=>g})},863:(en,nt,O)=>{var g={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,7068],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,1207,433],"./ion-datetime_3.entry.js":[7059,1207,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function p(Q){if(!O.o(g,Q))return Promise.resolve().then(()=>{var Ce=new Error("Cannot find module '"+Q+"'");throw Ce.code="MODULE_NOT_FOUND",Ce});var le=g[Q],we=le[0];return Promise.all(le.slice(1).map(O.e)).then(()=>O(we))}p.keys=()=>Object.keys(g),p.id=863,en.exports=p},6814:(en,nt,O)=>{"use strict";O.d(nt,{Do:()=>lt,EM:()=>Si,HT:()=>le,JF:()=>Ts,K0:()=>Ce,Mx:()=>$r,O5:()=>Fi,Ov:()=>nr,PM:()=>eo,S$:()=>xe,V_:()=>qe,Ye:()=>Re,b0:()=>Ke,bD:()=>Zr,ez:()=>cs,q:()=>Q,sg:()=>Ci,tP:()=>At,w_:()=>we});var g=O(5879);let p=null;function Q(){return p}function le(S){p||(p=S)}class we{}const Ce=new g.OlP("DocumentToken");let fe=(()=>{var S;class j{historyGo($){throw new Error("Not implemented")}}return(S=j).\u0275fac=function($){return new($||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Ue)},providedIn:"platform"}),j})();const qe=new g.OlP("Location Initialized");let Ue=(()=>{var S;class j extends fe{constructor(){super(),this._doc=(0,g.f3M)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState($){const ce=Q().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",$,!1),()=>ce.removeEventListener("popstate",$)}onHashChange($){const ce=Q().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",$,!1),()=>ce.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,ce,Be){this._history.pushState($,ce,Be)}replaceState($,ce,Be){this._history.replaceState($,ce,Be)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return(S=j).\u0275fac=function($){return new($||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return new S},providedIn:"platform"}),j})();function _e(S,j){if(0==S.length)return j;if(0==j.length)return S;let De=0;return S.endsWith("/")&&De++,j.startsWith("/")&&De++,2==De?S+j.substring(1):1==De?S+j:S+"/"+j}function se(S){const j=S.match(/#|\?|$/),De=j&&j.index||S.length;return S.slice(0,De-("/"===S[De-1]?1:0))+S.slice(De)}function Oe(S){return S&&"?"!==S[0]?"?"+S:S}let xe=(()=>{var S;class j{historyGo($){throw new Error("Not implemented")}}return(S=j).\u0275fac=function($){return new($||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Ke)},providedIn:"root"}),j})();const ke=new g.OlP("appBaseHref");let Ke=(()=>{var S;class j extends xe{constructor($,ce){var Be,Pt,nn;super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=null!==(Be=null!==(Pt=null!=ce?ce:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Pt?Pt:null===(nn=(0,g.f3M)(Ce).location)||void 0===nn?void 0:nn.origin)&&void 0!==Be?Be:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return _e(this._baseHref,$)}path($=!1){const ce=this._platformLocation.pathname+Oe(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&$?`${ce}${Be}`:ce}pushState($,ce,Be,Pt){const nn=this.prepareExternalUrl(Be+Oe(Pt));this._platformLocation.pushState($,ce,nn)}replaceState($,ce,Be,Pt){const nn=this.prepareExternalUrl(Be+Oe(Pt));this._platformLocation.replaceState($,ce,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ce,Be;null===(ce=(Be=this._platformLocation).historyGo)||void 0===ce||ce.call(Be,$)}}return(S=j).\u0275fac=function($){return new($||S)(g.LFG(fe),g.LFG(ke,8))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),j})(),lt=(()=>{var S;class j extends xe{constructor($,ce){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl($){const ce=_e(this._baseHref,$);return ce.length>0?"#"+ce:ce}pushState($,ce,Be,Pt){let nn=this.prepareExternalUrl(Be+Oe(Pt));0==nn.length&&(nn=this._platformLocation.pathname),this._platformLocation.pushState($,ce,nn)}replaceState($,ce,Be,Pt){let nn=this.prepareExternalUrl(Be+Oe(Pt));0==nn.length&&(nn=this._platformLocation.pathname),this._platformLocation.replaceState($,ce,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ce,Be;null===(ce=(Be=this._platformLocation).historyGo)||void 0===ce||ce.call(Be,$)}}return(S=j).\u0275fac=function($){return new($||S)(g.LFG(fe),g.LFG(ke,8))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),j})(),Re=(()=>{var S;class j{constructor($){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const ce=this._locationStrategy.getBaseHref();this._basePath=function ve(S){if(new RegExp("^(https?:)?//").test(S)){const[,De]=S.split(/\/\/[^\/]+/);return De}return S}(se(_t(ce))),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){var $;null===($=this._urlChangeSubscription)||void 0===$||$.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,ce=""){return this.path()==this.normalize($+Oe(ce))}normalize($){return j.stripTrailingSlash(function pe(S,j){if(!S||!j.startsWith(S))return j;const De=j.substring(S.length);return""===De||["/",";","?","#"].includes(De[0])?De:j}(this._basePath,_t($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,ce="",Be=null){this._locationStrategy.pushState(Be,"",$,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Oe(ce)),Be)}replaceState($,ce="",Be=null){this._locationStrategy.replaceState(Be,"",$,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Oe(ce)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){var ce,Be;null===(ce=(Be=this._locationStrategy).historyGo)||void 0===ce||ce.call(Be,$)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf($);var Be;this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(null===(Be=this._urlChangeSubscription)||void 0===Be||Be.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",ce){this._urlChangeListeners.forEach(Be=>Be($,ce))}subscribe($,ce,Be){return this._subject.subscribe({next:$,error:ce,complete:Be})}}return(S=j).normalizeQueryParams=Oe,S.joinWithSlash=_e,S.stripTrailingSlash=se,S.\u0275fac=function($){return new($||S)(g.LFG(xe))},S.\u0275prov=g.Yz7({token:S,factory:function(){return function Ae(){return new Re((0,g.LFG)(xe))}()},providedIn:"root"}),j})();function _t(S){return S.replace(/\/index.html$/,"")}function $r(S,j){j=encodeURIComponent(j);for(const De of S.split(";")){const $=De.indexOf("="),[ce,Be]=-1==$?[De,""]:[De.slice(0,$),De.slice($+1)];if(ce.trim()===j)return decodeURIComponent(Be)}return null}class rs{constructor(j,De,$,ce){this.$implicit=j,this.ngForOf=De,this.index=$,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{var S;class j{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,ce,Be){this._viewContainer=$,this._template=ce,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ce=this._viewContainer;$.forEachOperation((Be,Pt,nn)=>{if(null==Be.previousIndex)ce.createEmbeddedView(this._template,new rs(Be.item,this._ngForOf,-1,-1),null===nn?void 0:nn);else if(null==nn)ce.remove(null===Pt?void 0:Pt);else if(null!==Pt){const bn=ce.get(Pt);ce.move(bn,nn),Ti(bn,Be)}});for(let Be=0,Pt=ce.length;Be<Pt;Be++){const bn=ce.get(Be).context;bn.index=Be,bn.count=Pt,bn.ngForOf=this._ngForOf}$.forEachIdentityChange(Be=>{Ti(ce.get(Be.currentIndex),Be)})}static ngTemplateContextGuard($,ce){return!0}}return(S=j).\u0275fac=function($){return new($||S)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),j})();function Ti(S,j){S.context.$implicit=j.item}let Fi=(()=>{var S;class j{constructor($,ce){this._viewContainer=$,this._context=new ci,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Qi("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Qi("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ce){return!0}}return(S=j).\u0275fac=function($){return new($||S)(g.Y36(g.s_b),g.Y36(g.Rgc))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),j})();class ci{constructor(){this.$implicit=null,this.ngIf=null}}function Qi(S,j){if(j&&!j.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,g.AaK)(j)}'.`)}let At=(()=>{var S;class j{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if($.ngTemplateOutlet||$.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Be,ngTemplateOutletContext:Pt,ngTemplateOutletInjector:nn}=this;this._viewRef=ce.createEmbeddedView(Be,Pt,nn?{injector:nn}:void 0)}else this._viewRef=null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(S=j).\u0275fac=function($){return new($||S)(g.Y36(g.s_b))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),j})();class Vt{createSubscription(j,De){return(0,g.rg0)(()=>j.subscribe({next:De,error:$=>{throw $}}))}dispose(j){(0,g.rg0)(()=>j.unsubscribe())}}class dn{createSubscription(j,De){return j.then(De,$=>{throw $})}dispose(j){}}const zn=new dn,Gn=new Vt;let nr=(()=>{var S;class j{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,ce=>this._updateLatestValue($,ce))}_selectStrategy($){if((0,g.QGY)($))return zn;if((0,g.F4k)($))return Gn;throw function Rt(S,j){return new g.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,ce){$===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return(S=j).\u0275fac=function($){return new($||S)(g.Y36(g.sBO,16))},S.\u0275pipe=g.Yjl({name:"async",type:S,pure:!1,standalone:!0}),j})(),cs=(()=>{var S;class j{}return(S=j).\u0275fac=function($){return new($||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({}),j})();const Zr="browser",qs="server";function eo(S){return S===qs}let Si=(()=>{var S;class j{}return(S=j).\u0275prov=(0,g.Yz7)({token:S,providedIn:"root",factory:()=>new pi((0,g.LFG)(Ce),window)}),j})();class pi{constructor(j,De){this.document=j,this.window=De,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const De=function us(S,j){const De=S.getElementById(j)||S.getElementsByName(j)[0];if(De)return De;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const $=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let ce=$.currentNode;for(;ce;){const Be=ce.shadowRoot;if(Be){const Pt=Be.getElementById(j)||Be.querySelector(`[name="${j}"]`);if(Pt)return Pt}ce=$.nextNode()}}return null}(this.document,j);De&&(this.scrollToElement(De),De.focus())}setHistoryScrollRestoration(j){this.supportsScrolling()&&(this.window.history.scrollRestoration=j)}scrollToElement(j){const De=j.getBoundingClientRect(),$=De.left+this.window.pageXOffset,ce=De.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo($-Be[0],ce-Be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ts{}},5879:(en,nt,O)=>{"use strict";O.d(nt,{$8M:()=>ea,$WT:()=>cr,$Z:()=>ey,AFp:()=>$f,ALo:()=>OE,AaK:()=>xe,CHM:()=>Dn,CRH:()=>qE,DdM:()=>CE,EJc:()=>fC,EpF:()=>xm,F$t:()=>S0,F4k:()=>Rm,FYo:()=>Sd,FiY:()=>xc,G48:()=>eT,Gf:()=>WE,GfV:()=>jv,GkF:()=>Vd,Gpc:()=>lt,HDt:()=>mD,Hsn:()=>A0,JOm:()=>Sr,KtG:()=>Tt,LFG:()=>on,LMc:()=>xT,LSH:()=>Su,Lbi:()=>_d,Lck:()=>Qw,MAs:()=>Bd,MMx:()=>vE,NdJ:()=>Tp,Ojb:()=>fg,OlP:()=>ai,Oqu:()=>jo,P3R:()=>ng,PXZ:()=>GC,Q6J:()=>Cm,QGY:()=>Cp,Qsj:()=>Dg,R0b:()=>ya,RDi:()=>b_,Rgc:()=>nv,SBq:()=>Td,Sil:()=>mC,Suo:()=>YE,TTD:()=>Ka,TgZ:()=>Tm,VKq:()=>TE,VuI:()=>AT,X6Q:()=>JC,XFs:()=>un,Xpm:()=>dn,Xq5:()=>Vh,Xts:()=>kl,Y36:()=>Md,YKP:()=>gE,YNc:()=>xy,Yjl:()=>Ht,Yz7:()=>Ct,Z0I:()=>xn,ZZ4:()=>SI,_Bn:()=>pE,_UZ:()=>Sm,_c5:()=>mT,_uU:()=>Hm,aQg:()=>AI,c2e:()=>gD,cJS:()=>In,cg1:()=>je,dDg:()=>UC,dqk:()=>Hn,eFA:()=>RD,eJc:()=>cI,ekj:()=>Bm,eoX:()=>SD,f3M:()=>ln,g9A:()=>vh,h0i:()=>uf,hGG:()=>vT,hij:()=>xp,iGM:()=>GE,ifc:()=>hn,ip1:()=>pD,jDz:()=>yE,kL8:()=>Ft,lG2:()=>Mt,lcZ:()=>PE,lnq:()=>Jc,lqb:()=>ul,lri:()=>CD,n5z:()=>bl,oAB:()=>Qe,oxw:()=>C0,q4F:()=>Hv,qFp:()=>RT,qLn:()=>Gc,qOj:()=>um,qZA:()=>$d,rWj:()=>TD,rg0:()=>Xs,s9C:()=>vc,sBO:()=>tT,s_b:()=>p_,soG:()=>m_,tb:()=>EI,tp0:()=>hu,uIk:()=>Hh,vHH:()=>ge,vpe:()=>ru,wAp:()=>Mn,xp6:()=>np,z2F:()=>Fp,zSh:()=>dg,zs3:()=>Mo});var _e,g=O(8645),p=O(7394),Q=O(5619),le=O(5592),we=O(3019),Ce=O(2096),fe=O(3020),qe=O(4664),Ue=O(3997);function se(n){for(let r in n)if(n[r]===se)return r;throw Error("Could not find renamed property on target object.")}function Oe(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ke(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Ke=se({__forward_ref__:se});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return xe(this())},n}function Re(n){return Ae(n)?n():n}function Ae(n){return"function"==typeof n&&n.hasOwnProperty(Ke)&&n.__forward_ref__===lt}function pe(n){return n&&!!n.\u0275providers}const ve="https://g.co/ng/security#xss";class ge extends Error{constructor(r,o){super(function me(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Se(n){return"string"==typeof n?n:null==n?"":String(n)}function ct(n,r){throw new ge(-201,!1)}function Yt(n,r){null==n&&function ft(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Ct(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function In(n){return{providers:n.providers||[],imports:n.imports||[]}}function cn(n){return Sn(n,Bn)||Sn(n,pr)}function xn(n){return null!==cn(n)}function Sn(n,r){return n.hasOwnProperty(r)?n[r]:null}function On(n){return n&&(n.hasOwnProperty(Or)||n.hasOwnProperty(gr))?n[Or]:null}const Bn=se({\u0275prov:se}),Or=se({\u0275inj:se}),pr=se({ngInjectableDef:se}),gr=se({ngInjectorDef:se});var un=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(un||{});let Pn;function Yn(n){const r=Pn;return Pn=n,r}function Lr(n,r,o){const a=cn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&un.Optional?null:void 0!==r?r:void ct(xe(n))}const Hn=globalThis,vr={},Ar="__NG_DI_FLAG__",qn="ngTempTokenPath",re=/\n/gm,Pe="__source";let oe;function Et(n){const r=oe;return oe=n,r}function Bt(n,r=un.Default){if(void 0===oe)throw new ge(-203,!1);return null===oe?Lr(n,void 0,r):oe.get(n,r&un.Optional?null:void 0,r)}function on(n,r=un.Default){return(function mr(){return Pn}()||Bt)(Re(n),r)}function ln(n,r=un.Default){return on(n,Fn(r))}function Fn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function br(n){const r=[];for(let o=0;o<n.length;o++){const a=Re(n[o]);if(Array.isArray(a)){if(0===a.length)throw new ge(900,!1);let c,h=un.Default;for(let y=0;y<a.length;y++){const C=a[y],R=yi(C);"number"==typeof R?-1===R?c=C.token:h|=R:c=C}r.push(on(c,h))}else r.push(on(a))}return r}function fr(n,r){return n[Ar]=r,n.prototype[Ar]=r,n}function yi(n){return n[Ar]}function rt(n){return{toString:n}.toString()}var Ot=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ot||{}),hn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(hn||{});const yn={},Xt=[],Qn=se({\u0275cmp:se}),yr=se({\u0275dir:se}),_r=se({\u0275pipe:se}),Mr=se({\u0275mod:se}),$r=se({\u0275fac:se}),Er=se({__NG_ELEMENT_ID__:se}),ar=se({__NG_ENV_ID__:se});function Ns(n,r,o){let a=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}o=c+1}}function ki(n,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],y=o[a++],C=o[a++];n.setAttribute(r,y,C,h)}else{const h=c,y=o[++a];rs(h)?n.setProperty(r,h,y):n.setAttribute(r,h,y),a++}}return a}function _i(n){return 3===n||4===n||6===n}function rs(n){return 64===n.charCodeAt(0)}function Ci(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||Ti(n,o,c,null,-1===o||2===o?r[++a]:null)}}return n}function Ti(n,r,o,a,c){let h=0,y=n.length;if(-1===r)y=-1;else for(;h<n.length;){const C=n[h++];if("number"==typeof C){if(C===r){y=-1;break}if(C>r){y=h-1;break}}}for(;h<n.length;){const C=n[h];if("number"==typeof C)break;if(C===o){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==y&&(n.splice(y,0,r),h=y+1),n.splice(h++,0,o),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}const lr="ng-template";function Fi(n,r,o){let a=0,c=!0;for(;a<n.length;){let h=n[a++];if("string"==typeof h&&c){const y=n[a++];if(o&&"class"===h&&-1!==Ns(y.toLowerCase(),r,0))return!0}else{if(1===h){for(;a<n.length&&"string"==typeof(h=n[a++]);)if(h.toLowerCase()===r)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function ci(n){return 4===n.type&&n.value!==lr}function Qi(n,r,o){return r===(4!==n.type||o?n.value:lr)}function Ui(n,r,o){let a=4;const c=n.attrs||[],h=function Ne(n){for(let r=0;r<n.length;r++)if(_i(n[r]))return r;return n.length}(c);let y=!1;for(let C=0;C<r.length;C++){const R=r[C];if("number"!=typeof R){if(!y)if(4&a){if(a=2|1&a,""!==R&&!Qi(n,R,o)||""===R&&1===r.length){if(Cr(a))return!1;y=!0}}else{const H=8&a?R:r[++C];if(8&a&&null!==n.attrs){if(!Fi(n.attrs,H,o)){if(Cr(a))return!1;y=!0}continue}const he=ee(8&a?"class":R,c,ci(n),o);if(-1===he){if(Cr(a))return!1;y=!0;continue}if(""!==H){let We;We=he>h?"":c[he+1].toLowerCase();const it=8&a?We:null;if(it&&-1!==Ns(it,H,0)||2&a&&H!==We){if(Cr(a))return!1;y=!0}}}}else{if(!y&&!Cr(a)&&!Cr(R))return!1;if(y&&Cr(R))continue;y=!1,a=R|1&a}}return Cr(a)||y}function Cr(n){return 0==(1&n)}function ee(n,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let h=!1;for(;c<r.length;){const y=r[c];if(y===n)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let C=r[++c];for(;"string"==typeof C;)C=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function mt(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function K(n,r,o=!1){for(let a=0;a<r.length;a++)if(Ui(n,r[a],o))return!0;return!1}function et(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function At(n,r){return n?":not("+r.trim()+")":r}function Nt(n){let r=n[0],o=1,a=2,c="",h=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&a){const C=n[++o];c+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!Cr(y)&&(r+=At(h,c),c=""),a=y,h=h||!Cr(a);o++}return""!==c&&(r+=At(h,c)),r}function dn(n){return rt(()=>{var r;const o=so(n),a={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:null!==(r=n.signals)&&void 0!==r&&r,data:n.data||{},encapsulation:n.encapsulation||hn.Emulated,styles:n.styles||Xt,_:null,schemas:n.schemas||null,tView:null,id:""};ii(a);const c=n.dependencies;return a.directiveDefs=Cs(c,!1),a.pipeDefs=Cs(c,!0),a.id=function zi(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function Gn(n){return Jt(n)||kn(n)}function nr(n){return null!==n}function Qe(n){return rt(()=>({type:n.type,bootstrap:n.bootstrap||Xt,declarations:n.declarations||Xt,imports:n.imports||Xt,exports:n.exports||Xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function st(n,r){if(null==n)return yn;const o={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=a,r&&(r[c]=h)}return o}function Mt(n){return rt(()=>{const r=so(n);return ii(r),r})}function Ht(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Jt(n){return n[Qn]||null}function kn(n){return n[yr]||null}function $n(n){return n[_r]||null}function cr(n){const r=Jt(n)||kn(n)||$n(n);return null!==r&&r.standalone}function ni(n,r){const o=n[Mr]||null;if(!o&&!0===r)throw new Error(`Type ${xe(n)} does not have '\u0275mod' property.`);return o}function so(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||yn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:st(n.inputs,r),outputs:st(n.outputs)}}function ii(n){var r;null===(r=n.features)||void 0===r||r.forEach(o=>o(n))}function Cs(n,r){if(!n)return null;const o=r?$n:Gn;return()=>("function"==typeof n?n():n).map(a=>o(a)).filter(nr)}const Yr=0,tn=1,Kn=2,dr=3,Li=4,Ji=5,ji=6,cs=7,Zr=8,qs=9,fi=10,Rn=11,$s=12,eo=13,gs=14,sr=15,Vs=16,Si=17,pi=18,us=19,wo=20,Ts=21,es=22,ho=23,Ss=24,or=25,ks=1,is=2,qr=7,ss=9,Mi=11;function Hi(n){return Array.isArray(n)&&"object"==typeof n[ks]}function Ii(n){return Array.isArray(n)&&!0===n[ks]}function oo(n){return 0!=(4&n.flags)}function xi(n){return n.componentOffset>-1}function ds(n){return 1==(1&n.flags)}function ui(n){return!!n.template}function Ks(n){return 0!=(512&n[Kn])}function pt(n,r){return n.hasOwnProperty($r)?n[$r]:null}let Hr=null!==(_e=Hn.WeakRef)&&void 0!==_e?_e:class Jr{constructor(r){this.ref=r}deref(){return this.ref}},Gi=0,Bi=null,Fs=!1;function Ei(n){const r=Bi;return Bi=n,r}class fs{constructor(){this.id=Gi++,this.ref=function Vr(n){return new Hr(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const a=o.producerNode.deref();if(null!=a&&o.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),null==a||a.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=Fs;Fs=!0;try{for(const[o,a]of this.consumers){const c=a.consumerNode.deref();null!=c&&c.trackingVersion===a.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),null==c||c.producers.delete(this.id))}}finally{Fs=r}}producerAccessed(){if(Fs)throw new Error("");if(null===Bi)return;let r=Bi.producers.get(this.id);void 0===r?(r={consumerNode:Bi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Bi.trackingVersion},Bi.producers.set(this.id,r),this.consumers.set(Bi.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Bi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Bi)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let ua=null;function Xs(n){const r=Ei(null);try{return n()}finally{Ei(r)}}const Da=()=>{};class pl extends fs{constructor(r,o,a){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=Da,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Ei(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Da,this.watch(this.registerOnCleanup)}finally{Ei(r)}}cleanup(){this.cleanupFn()}}class Ro{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ka(){return vs}function vs(n){return n.type.prototype.ngOnChanges&&(n.setInput=si),Zo}function Zo(){const n=j(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===yn)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function si(n,r,o,a){const c=this.declaredInputs[o],h=j(n)||function De(n,r){return n[S]=r}(n,{previous:yn,current:null}),y=h.current||(h.current={}),C=h.previous,R=C[c];y[c]=new Ro(R&&R.currentValue,r,C===yn),n[a]=r}Ka.ngInherit=!0;const S="__ngSimpleChanges__";function j(n){return n[S]||null}const Be=function(n,r,o){};function bn(n){for(;Array.isArray(n);)n=n[Yr];return n}function er(n,r){return bn(r[n])}function Wn(n,r){return bn(r[n.index])}function Tr(n,r){return n.data[r]}function ei(n,r){return n[r]}function Ri(n,r){const o=r[n];return Hi(o)?o:o[Yr]}function As(n,r){return null==r?null:n[r]}function zo(n){n[Si]=0}function ha(n){1024&n[Kn]||(n[Kn]|=1024,Za(n,1))}function Ms(n){1024&n[Kn]&&(n[Kn]&=-1025,Za(n,-1))}function Za(n,r){let o=n[dr];if(null===o)return;o[Ji]+=r;let a=o;for(o=o[dr];null!==o&&(1===r&&1===a[Ji]||-1===r&&0===a[Ji]);)o[Ji]+=r,a=o,o=o[dr]}const ur={lFrame:Kl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xa(){return ur.bindingsEnabled}function vo(){return null!==ur.skipHydrationRootTNode}function yt(){return ur.lFrame.lView}function Xr(){return ur.lFrame.tView}function Dn(n){return ur.lFrame.contextLView=n,n[Zr]}function Tt(n){return ur.lFrame.contextLView=null,n}function kt(){let n=zr();for(;null!==n&&64===n.type;)n=n.parent;return n}function zr(){return ur.lFrame.currentTNode}function ns(n,r){const o=ur.lFrame;o.currentTNode=n,o.isParent=r}function Sa(){return ur.lFrame.isParent}function Qa(){ur.lFrame.isParent=!1}function Us(){const n=ur.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Xo(){return ur.lFrame.bindingIndex++}function rr(n){const r=ur.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Yi(n,r){const o=ur.lFrame;o.bindingIndex=o.bindingRootIndex=n,Co(r)}function Co(n){ur.lFrame.currentDirectiveIndex=n}function ql(){return ur.lFrame.currentQueryIndex}function qi(n){ur.lFrame.currentQueryIndex=n}function En(n){const r=n[tn];return 2===r.type?r.declTNode:1===r.type?n[ji]:null}function vl(n,r,o){if(o&un.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||o&un.Host||(c=En(h),null===c||(h=h[gs],10&c.type))););if(null===c)return!1;r=c,n=h}const a=ur.lFrame=fa();return a.currentTNode=r,a.lView=n,!0}function Qo(n){const r=fa(),o=n[tn];ur.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function fa(){const n=ur.lFrame,r=null===n?null:n.child;return null===r?Kl(n):r}function Kl(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function yl(){const n=ur.lFrame;return ur.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const b=yl;function M(){const n=yl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function F(){return ur.lFrame.selectedIndex}function ne(n){ur.lFrame.selectedIndex=n}function de(){const n=ur.lFrame;return Tr(n.tView,n.selectedIndex)}let xr=!0;function xs(){return xr}function Ir(n){xr=n}function co(n,r){for(let H=r.directiveStart,Z=r.directiveEnd;H<Z;H++){const We=n.data[H].type.prototype,{ngAfterContentInit:it,ngAfterContentChecked:Lt,ngAfterViewInit:sn,ngAfterViewChecked:Cn,ngOnDestroy:Xn}=We;var o,a,c,h,y,C,R;it&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-H,it),Lt&&((null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(H,Lt),(null!==(c=n.contentCheckHooks)&&void 0!==c?c:n.contentCheckHooks=[]).push(H,Lt)),sn&&(null!==(h=n.viewHooks)&&void 0!==h?h:n.viewHooks=[]).push(-H,sn),Cn&&((null!==(y=n.viewHooks)&&void 0!==y?y:n.viewHooks=[]).push(H,Cn),(null!==(C=n.viewCheckHooks)&&void 0!==C?C:n.viewCheckHooks=[]).push(H,Cn)),null!=Xn&&(null!==(R=n.destroyHooks)&&void 0!==R?R:n.destroyHooks=[]).push(H,Xn)}}function Ls(n,r,o){Na(n,r,3,o)}function Po(n,r,o,a){(3&n[Kn])===o&&Na(n,r,o,a)}function No(n,r){let o=n[Kn];(3&o)===r&&(o&=8191,o+=1,n[Kn]=o)}function Na(n,r,o,a){const h=null!=a?a:-1,y=r.length-1;let C=0;for(let R=void 0!==a?65535&n[Si]:0;R<y;R++)if("number"==typeof r[R+1]){if(C=r[R],null!=a&&C>=a)break}else r[R]<0&&(n[Si]+=65536),(C<h||-1==h)&&(js(n,o,r,R),n[Si]=(4294901760&n[Si])+R+2),R++}function ko(n,r){Be(4,n,r);const o=Ei(null);try{r.call(n)}finally{Ei(o),Be(5,n,r)}}function js(n,r,o,a){const c=o[a]<0,h=o[a+1],C=n[c?-o[a]:o[a]];c?n[Kn]>>13<n[Si]>>16&&(3&n[Kn])===r&&(n[Kn]+=8192,ko(C,h)):ko(C,h)}const Rs=-1;class pa{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Zl(n){return n!==Rs}function Tc(n){return 32767&n}function el(n,r){let o=function ou(n){return n>>16}(n),a=r;for(;o>0;)a=a[gs],o--;return a}let Xl=!0;function tl(n){const r=Xl;return Xl=n,r}const Sc=255,au=5;let Gu=0;const Jo={};function Il(n,r){const o=Ac(n,r);if(-1!==o)return o;const a=r[tn];a.firstCreatePass&&(n.injectorIndex=r.length,lu(a.data,n),lu(r,null),lu(a.blueprint,null));const c=El(n,r),h=n.injectorIndex;if(Zl(c)){const y=Tc(c),C=el(c,r),R=C[tn].data;for(let H=0;H<8;H++)r[h+H]=C[y+H]|R[y+H]}return r[h+8]=c,h}function lu(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ac(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function El(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Yu(c),null===a)return Rs;if(o++,c=c[gs],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Rs}function cu(n,r,o){!function hf(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Er)&&(a=o[Er]),null==a&&(a=o[Er]=Gu++);const c=a&Sc;r.data[n+(c>>au)]|=1<<c}(n,r,o)}function uu(n,r,o){if(o&un.Optional||void 0!==n)return n;ct()}function Wu(n,r,o,a){if(o&un.Optional&&void 0===a&&(a=null),!(o&(un.Self|un.Host))){const c=n[qs],h=Yn(void 0);try{return c?c.get(r,a,o&un.Optional):Lr(r,a,o&un.Optional)}finally{Yn(h)}}return uu(a,0,o)}function Dl(n,r,o,a=un.Default,c){if(null!==n){if(2048&r[Kn]&&!(a&un.Self)){const y=function Os(n,r,o,a,c){let h=n,y=r;for(;null!==h&&null!==y&&2048&y[Kn]&&!(512&y[Kn]);){const C=zs(h,y,o,a|un.Self,Jo);if(C!==Jo)return C;let R=h.parent;if(!R){const H=y[wo];if(H){const Z=H.get(o,Jo,a);if(Z!==Jo)return Z}R=Yu(y),y=y[gs]}h=R}return c}(n,r,o,a,Jo);if(y!==Jo)return y}const h=zs(n,r,o,a,Jo);if(h!==Jo)return h}return Wu(r,o,a,c)}function zs(n,r,o,a,c){const h=function Oi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Er)?n[Er]:void 0;return"number"==typeof r?r>=0?r&Sc:io:r}(o);if("function"==typeof h){if(!vl(r,n,a))return a&un.Host?uu(c,0,a):Wu(r,o,a,c);try{let y;if(y=h(a),null!=y||a&un.Optional)return y;ct()}finally{b()}}else if("number"==typeof h){let y=null,C=Ac(n,r),R=Rs,H=a&un.Host?r[sr][ji]:null;for((-1===C||a&un.SkipSelf)&&(R=-1===C?El(n,r):r[C+8],R!==Rs&&Bs(a,!1)?(y=r[tn],C=Tc(R),r=el(R,r)):C=-1);-1!==C;){const Z=r[tn];if(Fa(h,C,Z.data)){const he=Wd(C,r,o,y,a,H);if(he!==Jo)return he}R=r[C+8],R!==Rs&&Bs(a,r[tn].data[C+8]===H)&&Fa(h,C,r)?(y=Z,C=Tc(R),r=el(R,r)):C=-1}}return c}function Wd(n,r,o,a,c,h){const y=r[tn],C=y.data[n+8],Z=Fo(C,y,o,null==a?xi(C)&&Xl:a!=y&&0!=(3&C.type),c&un.Host&&h===C);return null!==Z?ka(r,y,Z,C):Jo}function Fo(n,r,o,a,c){const h=n.providerIndexes,y=r.data,C=1048575&h,R=n.directiveStart,Z=h>>20,We=c?C+Z:n.directiveEnd;for(let it=a?C:C+Z;it<We;it++){const Lt=y[it];if(it<R&&o===Lt||it>=R&&Lt.type===o)return it}if(c){const it=y[R];if(it&&ui(it)&&it.type===o)return R}return null}function ka(n,r,o,a){let c=n[o];const h=r.data;if(function iu(n){return n instanceof pa}(c)){const y=c;y.resolving&&function Me(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ge(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Se(n)}(h[o]));const C=tl(y.canSeeViewProviders);y.resolving=!0;const H=y.injectImpl?Yn(y.injectImpl):null;vl(n,a,un.Default);try{c=n[o]=y.factory(void 0,h,n,a),r.firstCreatePass&&o>=a.directiveStart&&function $i(n,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){var y,C;const he=vs(r);(null!==(y=o.preOrderHooks)&&void 0!==y?y:o.preOrderHooks=[]).push(n,he),(null!==(C=o.preOrderCheckHooks)&&void 0!==C?C:o.preOrderCheckHooks=[]).push(n,he)}var R,H,Z;c&&(null!==(R=o.preOrderHooks)&&void 0!==R?R:o.preOrderHooks=[]).push(0-n,c),h&&((null!==(H=o.preOrderHooks)&&void 0!==H?H:o.preOrderHooks=[]).push(n,h),(null!==(Z=o.preOrderCheckHooks)&&void 0!==Z?Z:o.preOrderCheckHooks=[]).push(n,h))}(o,h[o],r)}finally{null!==H&&Yn(H),tl(C),y.resolving=!1,b()}}return c}function Fa(n,r,o){return!!(o[r+(n>>au)]&1<<n)}function Bs(n,r){return!(n&un.Self||n&un.Host&&r)}class _s{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Dl(this._tNode,this._lView,r,Fn(a),o)}}function io(){return new _s(kt(),yt())}function bl(n){return rt(()=>{const r=n.prototype.constructor,o=r[$r]||Cl(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[$r]||Cl(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Cl(n){return Ae(n)?()=>{const r=Cl(Re(n));return r&&r()}:pt(n)}function Yu(n){const r=n[tn],o=r.type;return 2===o?r.declTNode:1===o?n[ji]:null}function ea(n){return function Mc(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(_i(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===r)return o[c+1];c+=2}}}return null}(kt(),n)}const To="__parameters__";function Tl(n,r,o){return rt(()=>{const a=function La(n){return function(...o){if(n){const a=n(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const y=new c(...h);return C.annotation=y,C;function C(R,H,Z){const he=R.hasOwnProperty(To)?R[To]:Object.defineProperty(R,To,{value:[]})[To];for(;he.length<=Z;)he.push(null);return(he[Z]=he[Z]||[]).push(y),R}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function xt(n,r){n.forEach(o=>Array.isArray(o)?xt(o,r):r(o))}function _n(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function gn(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function jn(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function Gs(n,r,o){let a=Ws(n,r);return a>=0?n[1|a]=o:(a=~a,function Bo(n,r,o,a){let c=n.length;if(c==r)n.push(o,a);else if(1===c)n.push(a,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function Pi(n,r){const o=Ws(n,r);if(o>=0)return n[1|o]}function Ws(n,r){return function ra(n,r,o){let a=0,c=n.length>>o;for(;c!==a;){const h=a+(c-a>>1),y=n[h<<o];if(r===y)return h<<o;y>r?c=h:a=h+1}return~(c<<o)}(n,r,1)}const xc=fr(Tl("Optional"),8),hu=fr(Tl("SkipSelf"),4);function sd(n){return 128==(128&n.flags)}var Sr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Sr||{});const th=/^>|^->|<!--|-->|--!>|<!-$/g,vu=/(<|>)/,nh="\u200b$1\u200b";const kc=new Map;let ad=0;const xl="__ngContext__";function Is(n,r){Hi(r)?(n[xl]=r[us],function yu(n){kc.set(n[us],n)}(r)):n[xl]=r}let Iu;function ol(n,r){return Iu(n,r)}function Rl(n){const r=n[dr];return Ii(r)?r[dr]:r}function oc(n){return I(n[$s])}function dd(n){return I(n[Li])}function I(n){for(;null!==n&&!Ii(n);)n=n[Li];return n}function d(n,r,o,a,c){if(null!=a){let h,y=!1;Ii(a)?h=a:Hi(a)&&(y=!0,a=a[Yr]);const C=bn(a);0===n&&null!==o?null==c?hd(r,o,C):ll(r,o,C,c||null,!0):1===n&&null!==o?ll(r,o,C,c||null,!0):2===n?function lh(n,r,o){const a=uc(n,r);a&&function Cf(n,r,o,a){n.removeChild(r,o,a)}(n,a,r,o)}(r,C,y):3===n&&r.destroyNode(C),null!=h&&function uv(n,r,o,a,c){const h=o[qr];h!==bn(o)&&d(r,n,a,h,c);for(let C=Mi;C<o.length;C++){const R=o[C];wu(R[tn],R,n,r,a,h)}}(r,n,h,o,c)}}function G(n,r){return n.createComment(function rh(n){return n.replace(th,r=>r.replace(vu,nh))}(r))}function te(n,r,o){return n.createElement(r,o)}function Es(n,r){const o=n[ss],a=o.indexOf(r);Ms(r),o.splice(a,1)}function Vo(n,r){if(n.length<=Mi)return;const o=Mi+r,a=n[o];if(a){const c=a[Vs];null!==c&&c!==n&&Es(c,a),r>0&&(n[o-1][Li]=a[Li]);const h=gn(n,Mi+r);!function $e(n,r){wu(n,r,r[Rn],2,null,null),r[Yr]=null,r[ji]=null}(a[tn],a);const y=h[pi];null!==y&&y.detachView(h[tn]),a[dr]=null,a[Li]=null,a[Kn]&=-129}return a}function ac(n,r){if(!(256&r[Kn])){var o,a;const c=r[Rn];null===(o=r[ho])||void 0===o||o.destroy(),null===(a=r[Ss])||void 0===a||a.destroy(),c.destroyNode&&wu(n,r,c,3,null,null),function mn(n){let r=n[$s];if(!r)return Bc(n[tn],n);for(;r;){let o=null;if(Hi(r))o=r[$s];else{const a=r[Mi];a&&(o=a)}if(!o){for(;r&&!r[Li]&&r!==n;)Hi(r)&&Bc(r[tn],r),r=r[dr];null===r&&(r=n),Hi(r)&&Bc(r[tn],r),o=r&&r[Li]}r=o}}(r)}}function Bc(n,r){if(!(256&r[Kn])){r[Kn]&=-129,r[Kn]|=256,function $c(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof pa)){const h=o[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const C=c[h[y]],R=h[y+1];Be(4,C,R);try{R.call(C)}finally{Be(5,C,R)}}else{Be(4,c,h);try{h.call(c)}finally{Be(5,c,h)}}}}}(n,r),function lc(n,r){const o=n.cleanup,a=r[cs];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const y=o[h+3];y>=0?a[y]():a[-y].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(r[cs]=null);const c=r[Ts];if(null!==c){r[Ts]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(n,r),1===r[tn].type&&r[Rn].destroy();const o=r[Vs];if(null!==o&&Ii(r[dr])){o!==r[dr]&&Es(o,r);const a=r[pi];null!==a&&a.detachView(n)}!function Fc(n){kc.delete(n[us])}(r)}}function Ol(n,r,o){return function cc(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Yr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=n.data[a.directiveStart+c];if(h===hn.None||h===hn.Emulated)return null}return Wn(a,o)}}(n,r.parent,o)}function ll(n,r,o,a,c){n.insertBefore(r,o,a,c)}function hd(n,r,o){n.appendChild(r,o)}function Eu(n,r,o,a,c){null!==a?ll(n,r,o,a,c):hd(n,r,o)}function uc(n,r){return n.parentNode(r)}function ov(n,r,o){return lv(n,r,o)}let ih,Tf,Sf,lv=function av(n,r,o){return 40&n.type?Wn(n,o):null};function sh(n,r,o,a){const c=Ol(n,a,r),h=r[Rn],C=ov(a.parent||r[ji],a,r);if(null!=c)if(Array.isArray(o))for(let R=0;R<o.length;R++)Eu(h,c,o[R],C,!1);else Eu(h,c,o,C,!1);void 0!==ih&&ih(h,a,r,o,c)}function oh(n,r){if(null!==r){const o=r.type;if(3&o)return Wn(r,n);if(4&o)return ah(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return oh(n,a);{const c=n[r.index];return Ii(c)?ah(-1,c):bn(c)}}if(32&o)return ol(r,n)()||bn(n[r.index]);{const a=Js(n,r);return null!==a?Array.isArray(a)?a[0]:oh(Rl(n[sr]),a):oh(n,r.next)}}return null}function Js(n,r){return null!==r?n[sr][ji].projection[r.projection]:null}function ah(n,r){const o=Mi+n+1;if(o<r.length){const a=r[o],c=a[tn].firstChild;if(null!==c)return oh(a,c)}return r[qr]}function Ua(n,r,o,a,c,h,y){for(;null!=o;){const C=a[o.index],R=o.type;if(y&&0===r&&(C&&Is(bn(C),a),o.flags|=2),32!=(32&o.flags))if(8&R)Ua(n,r,o.child,a,c,h,!1),d(r,n,c,C,h);else if(32&R){const H=ol(o,a);let Z;for(;Z=H();)d(r,n,c,Z,h);d(r,n,c,C,h)}else 16&R?pd(n,r,a,o,c,h):d(r,n,c,C,h);o=y?o.projectionNext:o.next}}function wu(n,r,o,a,c,h){Ua(o,a,n.firstChild,r,c,h,!1)}function pd(n,r,o,a,c,h){const y=o[sr],R=y[ji].projection[a.projection];if(Array.isArray(R))for(let H=0;H<R.length;H++)d(r,n,c,R[H],h);else{let H=R;const Z=y[dr];sd(a)&&(H.flags|=128),Ua(n,r,H,Z,c,h,!0)}}function fv(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function pv(n,r,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&ki(n,r,a),null!==c&&fv(n,r,c),null!==h&&function hv(n,r,o){n.setAttribute(r,"style",o)}(n,r,h)}function b_(n){Tf=n}function mv(n){var r;return(null===(r=function Pl(){if(void 0===Sf&&(Sf=null,Hn.trustedTypes))try{Sf=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sf}())||void 0===r?void 0:r.createScriptURL(n))||n}class qp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ve})`}}function ma(n){return n instanceof qp?n.changingThisBreaksApplicationSecurity:n}function cl(n,r){const o=function Cu(n){return n instanceof qp&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ve})`)}return o===r}const xf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var hc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(hc||{});function Su(n){const r=yd();return r?r.sanitize(hc.URL,n)||"":cl(n,"URL")?ma(n):function Tu(n){return(n=String(n)).match(xf)?n:"unsafe:"+n}(Se(n))}function hh(n){const r=yd();if(r)return mv(r.sanitize(hc.RESOURCE_URL,n)||"");if(cl(n,"ResourceURL"))return mv(ma(n));throw new ge(904,!1)}function ng(n,r,o){return function Yo(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?hh:Su}(r,o)(n)}function yd(){const n=yt();return n&&n[fi].sanitizer}class ai{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ct({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const kl=new ai("ENVIRONMENT_INITIALIZER"),sg=new ai("INJECTOR",-1),Uc=new ai("INJECTOR_DEF_TYPES");class og{get(r,o=vr){if(o===vr){const a=new Error(`NullInjectorError: No provider for ${xe(r)}!`);throw a.name="NullInjectorError",a}return o}}function xv(...n){return{\u0275providers:fc(0,n),\u0275fromNgModule:!0}}function fc(n,...r){const o=[],a=new Set;let c;const h=y=>{o.push(y)};return xt(r,y=>{const C=y;kf(C,h,[],a)&&(c||(c=[]),c.push(C))}),void 0!==c&&ag(c,h),o}function ag(n,r){for(let o=0;o<n.length;o++){const{ngModule:a,providers:c}=n[o];lg(c,h=>{r(h,a)})}}function kf(n,r,o,a){if(!(n=Re(n)))return!1;let c=null,h=On(n);const y=!h&&Jt(n);if(h||y){if(y&&!y.standalone)return!1;c=n}else{const R=n.ngModule;if(h=On(R),!h)return!1;c=R}const C=a.has(c);if(y){if(C)return!1;if(a.add(c),y.dependencies){const R="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const H of R)kf(H,r,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let H;a.add(c);try{xt(h.imports,Z=>{kf(Z,r,o,a)&&(H||(H=[]),H.push(Z))})}finally{}void 0!==H&&ag(H,r)}if(!C){const H=pt(c)||(()=>new c);r({provide:c,useFactory:H,deps:Xt},c),r({provide:Uc,useValue:c,multi:!0},c),r({provide:kl,useValue:()=>on(c),multi:!0},c)}const R=h.providers;if(null!=R&&!C){const H=n;lg(R,Z=>{r(Z,H)})}}}return c!==n&&void 0!==n.providers}function lg(n,r){for(let o of n)pe(o)&&(o=o.\u0275providers),Array.isArray(o)?lg(o,r):r(o)}const Rv=se({provide:String,useValue:se});function cg(n){return null!==n&&"object"==typeof n&&Rv in n}function Mu(n){return"function"==typeof n}const dg=new ai("Set Injector scope."),gh={},xu={};let Ru;function mh(){return void 0===Ru&&(Ru=new og),Ru}class ul{}class Ff extends ul{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hg(r,y=>this.processProvider(y)),this.records.set(sg,Ys(void 0,this)),c.has("environment")&&this.records.set(ul,Ys(void 0,this));const h=this.records.get(dg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Uc.multi,Xt,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Et(this),a=Yn(void 0);try{return r()}finally{Et(o),Yn(a)}}get(r,o=vr,a=un.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ar))return r[ar](this);a=Fn(a);const h=Et(this),y=Yn(void 0);try{if(!(a&un.SkipSelf)){let R=this.records.get(r);if(void 0===R){const H=function F_(n){return"function"==typeof n||"object"==typeof n&&n instanceof ai}(r)&&cn(r);R=H&&this.injectableDefInScope(H)?Ys(Lf(r),gh):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(a&un.Self?mh():this.parent).get(r,o=a&un.Optional&&o===vr?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[qn]=C[qn]||[]).unshift(xe(r)),h)throw C;return function Ai(n,r,o,a){const c=n[qn];throw r[Pe]&&c.unshift(r[Pe]),n.message=function bt(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=xe(r);if(Array.isArray(r))c=r.map(xe).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let C=r[y];h.push(y+":"+("string"==typeof C?JSON.stringify(C):xe(C)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${n.replace(re,"\n  ")}`}("\n"+n.message,c,o,a),n.ngTokenPath=c,n[qn]=null,n}(C,r,"R3InjectorError",this.source)}throw C}finally{Yn(y),Et(h)}}resolveInjectorInitializers(){const r=Et(this),o=Yn(void 0);try{const c=this.get(kl.multi,Xt,un.Self);for(const h of c)h()}finally{Et(r),Yn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(xe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(r){let o=Mu(r=Re(r))?r:Re(r&&r.provide);const a=function P_(n){return cg(n)?Ys(void 0,n.useValue):Ys(Bf(n),gh)}(r);if(Mu(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ys(void 0,gh,!0),c.factory=()=>br(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===gh&&(o.value=xu,o.value=o.factory()),"object"==typeof o.value&&o.value&&function k_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Re(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Lf(n){const r=cn(n),o=null!==r?r.factory:pt(n);if(null!==o)return o;if(n instanceof ai)throw new ge(204,!1);if(n instanceof Function)return function O_(n){const r=n.length;if(r>0)throw jn(r,"?"),new ge(204,!1);const o=function wn(n){return n&&(n[Bn]||n[pr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ge(204,!1)}function Bf(n,r,o){let a;if(Mu(n)){const c=Re(n);return pt(c)||Lf(c)}if(cg(n))a=()=>Re(n.useValue);else if(function ug(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...br(n.deps||[]));else if(function ph(n){return!(!n||!n.useExisting)}(n))a=()=>on(Re(n.useExisting));else{const c=Re(n&&(n.useClass||n.provide));if(!function N_(n){return!!n.deps}(n))return pt(c)||Lf(c);a=()=>new c(...br(n.deps))}return a}function Ys(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function hg(n,r){for(const o of n)Array.isArray(o)?hg(o,r):o&&pe(o)?hg(o.\u0275providers,r):r(o)}const $f=new ai("AppId",{providedIn:"root",factory:()=>L_}),L_="ng",vh=new ai("Platform Initializer"),_d=new ai("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fg=new ai("CSP nonce",{providedIn:"root",factory:()=>{var n;return(null===(n=function md(){if(void 0!==Tf)return Tf;if(typeof document<"u")return document;throw new ge(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}});let _g=(n,r,o)=>null;function Dh(n,r,o=!1){return _g(n,r,o)}class Lv{}class Bv{}class U_{resolveComponentFactory(r){throw function $v(n){const r=Error(`No component factory found for ${xe(n)}.`);return r.ngComponent=n,r}(r)}}let Gf=(()=>{class r{}return r.NULL=new U_,r})();function qo(){return Cd(kt(),yt())}function Cd(n,r){return new Td(Wn(n,r))}let Td=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=qo,r})();function Wf(n){return n instanceof Td?n.nativeElement:n}class Sd{}let Dg=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Uv(){const n=yt(),o=Ri(kt().index,n);return(Hi(o)?o:n)[Rn]}(),r})(),j_=(()=>{var n;class r{}return(n=r).\u0275prov=Ct({token:n,providedIn:"root",factory:()=>null}),r})();class jv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Hv=new jv("16.2.2"),wg={};function Yf(n,r=null,o=null,a){const c=qf(n,r,o,a);return c.resolveInjectorInitializers(),c}function qf(n,r=null,o=null,a,c=new Set){const h=[o||Xt,xv(n)];return a=a||("object"==typeof n?void 0:xe(n)),new Ff(h,r||mh(),a||null,c)}let Mo=(()=>{var n;class r{static create(a,c){if(Array.isArray(a))return Yf({name:""},c,a,"");{var h;const y=null!==(h=a.name)&&void 0!==h?h:"";return Yf({name:y},a.parent,a.providers,y)}}}return(n=r).THROW_IF_NOT_FOUND=vr,n.NULL=new og,n.\u0275prov=Ct({token:n,providedIn:"any",factory:()=>on(sg)}),n.__NG_ELEMENT_ID__=-1,r})();function ja(n){return n instanceof Function?n():n}let Mg=(()=>{var n;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ge(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(n=r).\u0275prov=Ct({token:n,providedIn:"root",factory:()=>new n}),r})();function Ah(n){for(;n;){n[Kn]|=64;const r=Rl(n);if(Ks(n)&&!r)return n;n=r}return null}function Rg(n){return n.ngOriginalError}class Gc{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Rg(r);for(;o&&Rg(o);)o=Rg(o);return o||null}}const Kv=new ai("",{providedIn:"root",factory:()=>!1});class kg extends fs{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Ah(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,a){const c=Ei(this);this.trackingVersion++;try{r(o,a)}finally{Ei(c)}}destroy(){this.trackingVersion++}}let Ll=null;function Qv(){var n;return null!==(n=Ll)&&void 0!==n||(Ll=new kg),Ll}function Jv(n,r){var o;return null!==(o=n[r])&&void 0!==o?o:Qv()}function tp(n,r){const o=Qv();o.hasReadASignal&&(n[r]=Ll,o.lView=n,Ll=new kg)}const Fr={};function np(n){rp(Xr(),yt(),F()+n,!1)}function rp(n,r,o,a){if(!a)if(3==(3&r[Kn])){const h=n.preOrderCheckHooks;null!==h&&Ls(r,h,o)}else{const h=n.preOrderHooks;null!==h&&Po(r,h,0,o)}ne(o)}function Md(n,r=un.Default){const o=yt();return null===o?on(n,r):Dl(kt(),o,Re(n),r)}function ey(){throw new Error("invalid")}function xd(n,r,o,a,c,h,y,C,R,H,Z){const he=r.blueprint.slice();return he[Yr]=c,he[Kn]=140|a,(null!==H||n&&2048&n[Kn])&&(he[Kn]|=2048),zo(he),he[dr]=he[gs]=n,he[Zr]=o,he[fi]=y||n&&n[fi],he[Rn]=C||n&&n[Rn],he[qs]=R||n&&n[qs]||null,he[ji]=h,he[us]=function ia(){return ad++}(),he[es]=Z,he[wo]=H,he[sr]=2==r.type?n[sr]:he,he}function Rd(n,r,o,a,c){let h=n.data[r];if(null===h)h=function ip(n,r,o,a,c){const h=zr(),y=Sa(),R=n.data[r]=function X_(n,r,o,a,c,h){let y=r?r.injectorIndex:-1,C=0;return vo()&&(C|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,o,r,a,c);return null===n.firstChild&&(n.firstChild=R),null!==h&&(y?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R,R.prev=h)),R}(n,r,o,a,c),function Aa(){return ur.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const y=function Ta(){const n=ur.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ns(h,!0),h}function Rh(n,r,o,a){if(0===o)return-1;const c=r.length;for(let h=0;h<o;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function Lg(n,r,o,a,c){const h=Jv(r,ho),y=F(),C=2&a;try{if(ne(-1),C&&r.length>or&&rp(n,r,or,!1),Be(C?2:0,c),C)h.runInContext(o,a,c);else{const H=Ei(null);try{o(a,c)}finally{Ei(H)}}}finally{C&&null===r[ho]&&tp(r,ho),ne(y),Be(C?3:1,c)}}function sp(n,r,o){if(oo(r)){const a=Ei(null);try{const h=r.directiveEnd;for(let y=r.directiveStart;y<h;y++){const C=n.data[y];C.contentQueries&&C.contentQueries(1,o[y],y)}}finally{Ei(a)}}}function op(n,r,o){Xa()&&(function Yg(n,r,o,a){const c=o.directiveStart,h=o.directiveEnd;xi(o)&&function t0(n,r,o){const a=Wn(r,n),c=ty(o);let y=16;o.signals?y=4096:o.onPush&&(y=64);const C=Pd(n,xd(n,c,null,y,a,r,null,n[fi].rendererFactory.createRenderer(a,o),null,null,null));n[r.index]=C}(r,o,n.data[c+o.componentOffset]),n.firstCreatePass||Il(o,r),Is(a,r);const y=o.initialInputs;for(let C=c;C<h;C++){const R=n.data[C],H=ka(r,n,C,o);Is(H,r),null!==y&&n0(0,C-c,H,R,0,y),ui(R)&&(Ri(o.index,r)[Zr]=ka(r,n,C,o))}}(n,r,o,Wn(o,r)),64==(64&o.flags)&&dp(n,r,o))}function ap(n,r,o=Wn){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],C=-1===y?o(r,n):n[y];n[c++]=C}}}function ty(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Bg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Bg(n,r,o,a,c,h,y,C,R,H,Z){const he=or+a,We=he+c,it=function q_(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:Fr);return o}(he,We),Lt="function"==typeof H?H():H;return it[tn]={type:n,blueprint:it,template:o,queries:null,viewQuery:C,declTNode:r,data:it.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:R,consts:Lt,incompleteFirstPass:!1,ssrId:Z}}let lp=n=>null;function cp(n,r,o,a){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const h=n[c];null===a?jg(o,r,c,h):a.hasOwnProperty(c)&&jg(o,r,a[c],h)}return o}function jg(n,r,o,a){n.hasOwnProperty(o)?n[o].push(r,a):n[o]=[r,a]}function Ra(n,r,o,a,c,h,y,C){const R=Wn(r,o);let Z,H=r.inputs;!C&&null!=H&&(Z=H[a])?(em(n,o,Z,a,c),xi(r)&&function zg(n,r){const o=Ri(r,n);16&o[Kn]||(o[Kn]|=64)}(o,r.index)):3&r.type&&(a=function ny(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=y?y(c,r.value||"",a):c,h.setProperty(R,a,c))}function Gg(n,r,o,a){if(Xa()){const c=null===a?null:{"":-1},h=function iy(n,r){const o=n.directiveRegistry;let a=null,c=null;if(o)for(let y=0;y<o.length;y++){const C=o[y];if(K(r,C.selectors,!1))if(a||(a=[]),ui(C))if(null!==C.findHostDirectiveDefs){const R=[];c=c||new Map,C.findHostDirectiveDefs(C,R,c),a.unshift(...R,C),Oh(n,r,R.length)}else a.unshift(C),Oh(n,r,0);else{var h;c=c||new Map,null===(h=C.findHostDirectiveDefs)||void 0===h||h.call(C,C,a,c),a.push(C)}}return null===a?null:[a,c]}(n,o);let y,C;null===h?y=C=null:[y,C]=h,null!==y&&up(n,r,o,y,c,C),c&&function e0(n,r,o){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=o[r[c+1]];if(null==h)throw new ge(-301,!1);a.push(r[c],h)}}}(o,a,c)}o.mergedAttrs=Ci(o.mergedAttrs,o.attrs)}function up(n,r,o,a,c,h){for(let he=0;he<a.length;he++)cu(Il(o,r),n,a[he].type);!function pc(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,a.length);for(let he=0;he<a.length;he++){const We=a[he];We.providersResolver&&We.providersResolver(We)}let y=!1,C=!1,R=Rh(n,r,a.length,null);for(let he=0;he<a.length;he++){const We=a[he];o.mergedAttrs=Ci(o.mergedAttrs,We.hostAttrs),Kg(n,o,r,R,We),qg(R,We,c),null!==We.contentQueries&&(o.flags|=4),(null!==We.hostBindings||null!==We.hostAttrs||0!==We.hostVars)&&(o.flags|=64);const it=We.type.prototype;var H,Z;!y&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((null!==(H=n.preOrderHooks)&&void 0!==H?H:n.preOrderHooks=[]).push(o.index),y=!0),C||!it.ngOnChanges&&!it.ngDoCheck||((null!==(Z=n.preOrderCheckHooks)&&void 0!==Z?Z:n.preOrderCheckHooks=[]).push(o.index),C=!0),R++}!function Hg(n,r,o){const c=r.directiveEnd,h=n.data,y=r.attrs,C=[];let R=null,H=null;for(let Z=r.directiveStart;Z<c;Z++){const he=h[Z],We=o?o.get(he):null,Lt=We?We.outputs:null;R=cp(he.inputs,Z,R,We?We.inputs:null),H=cp(he.outputs,Z,H,Lt);const sn=null===R||null===y||ci(r)?null:r0(R,Z,y);C.push(sn)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=8),R.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=C,r.inputs=R,r.outputs=H}(n,o,h)}function dp(n,r,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,y=function Zn(){return ur.lFrame.currentDirectiveIndex}();try{ne(h);for(let C=a;C<c;C++){const R=n.data[C],H=r[C];Co(C),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Od(R,H)}}finally{ne(-1),Co(y)}}function Od(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Oh(n,r,o){var a;r.componentOffset=o,(null!==(a=n.components)&&void 0!==a?a:n.components=[]).push(r.index)}function qg(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;ui(r)&&(o[""]=n)}}function Kg(n,r,o,a,c){n.data[a]=c;const h=c.factory||(c.factory=pt(c.type)),y=new pa(h,ui(c),Md);n.blueprint[a]=y,o[a]=y,function J_(n,r,o,a,c){const h=c.hostBindings;if(h){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const C=~r.index;(function Wg(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(y)!=C&&y.push(C),y.push(o,a,h)}}(n,r,a,Rh(n,o,c.hostVars,Fr),c)}function Ha(n,r,o,a,c,h){const y=Wn(n,r);!function Zg(n,r,o,a,c,h,y){if(null==h)n.removeAttribute(r,c,o);else{const C=null==y?Se(h):y(h,a||"",c);n.setAttribute(r,c,C,o)}}(r[Rn],y,h,n.value,o,a,c)}function n0(n,r,o,a,c,h){const y=h[r];if(null!==y)for(let C=0;C<y.length;)hp(a,o,y[C++],y[C++],y[C++])}function hp(n,r,o,a,c){const h=Ei(null);try{const y=n.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(c=y[a].call(r,c)),null!==n.setInput?n.setInput(r,c,o,a):r[a]=c}finally{Ei(h)}}function r0(n,r,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===a&&(a=[]);const y=n[h];for(let C=0;C<y.length;C+=2)if(y[C]===r){a.push(h,y[C+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function fp(n,r,o,a){return[n,!0,!1,r,null,0,a,o,null,null,null]}function sy(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a+1];if(-1!==h){const y=n.data[h];qi(o[a]),y.contentQueries(2,r[h],h)}}}function Pd(n,r){return n[$s]?n[eo][Li]=r:n[$s]=r,n[eo]=r,r}function Xg(n,r,o){qi(0);const a=Ei(null);try{r(n,o)}finally{Ei(a)}}function Qg(n){return n[cs]||(n[cs]=[])}function pp(n){return n.cleanup||(n.cleanup=[])}function ay(n,r){const o=n[qs],a=o?o.get(Gc,null):null;a&&a.handleError(r)}function em(n,r,o,a,c){for(let h=0;h<o.length;){const y=o[h++],C=o[h++];hp(n.data[y],r[y],a,C,c)}}function dl(n,r,o){const a=er(r,n);!function w(n,r,o){n.setValue(r,o)}(n[Rn],a,o)}function s0(n,r){const o=Ri(r,n),a=o[tn];!function tm(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(a,o);const c=o[Yr];null!==c&&null===o[es]&&(o[es]=Dh(c,o[qs])),Ph(a,o,o[Zr])}function Ph(n,r,o){Qo(r);try{const a=n.viewQuery;null!==a&&Xg(1,a,o);const c=n.template;null!==c&&Lg(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sy(n,r),n.staticViewQueries&&Xg(2,n.viewQuery,o);const h=n.components;null!==h&&function nm(n,r){for(let o=0;o<r.length;o++)s0(n,r[o])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[Kn]&=-5,M()}}let ly=(()=>{var n;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,h){const y=typeof Zone>"u"?null:Zone.current,C=new pl(a,Z=>{this.all.has(Z)&&this.queue.set(Z,y)},h);let R;this.all.add(C),C.notify();const H=()=>{var Z;C.cleanup(),null===(Z=R)||void 0===Z||Z(),this.all.delete(C),this.queue.delete(C)};return R=null==c?void 0:c.onDestroy(H),{destroy:H}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(n=r).\u0275prov=Ct({token:n,providedIn:"root",factory:()=>new n}),r})();function gp(n,r,o){let a=o?n.styles:null,c=o?n.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const C=r[y];"number"==typeof C?h=C:1==h?c=ke(c,C):2==h&&(a=ke(a,C+": "+r[++y]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=c:n.classesWithoutHost=c}function Bu(n,r,o,a,c=!1){for(;null!==o;){const h=r[o.index];if(null!==h&&a.push(bn(h)),Ii(h)){for(let C=Mi;C<h.length;C++){const R=h[C],H=R[tn].firstChild;null!==H&&Bu(R[tn],R,H,a)}h[qr]!==h[Yr]&&a.push(h[qr])}const y=o.type;if(8&y)Bu(n,r,o.child,a);else if(32&y){const C=ol(o,r);let R;for(;R=C();)a.push(R)}else if(16&y){const C=Js(r,o);if(Array.isArray(C))a.push(...C);else{const R=Rl(r[sr]);Bu(R[tn],R,C,a,!0)}}o=c?o.projectionNext:o.next}return a}function kh(n,r,o,a=!0){const c=r[fi],h=c.rendererFactory,y=c.afterRenderEventManager;var R;null===(R=h.begin)||void 0===R||R.call(h),null==y||y.begin();try{Lh(n,r,n.template,o)}catch(he){throw a&&ay(r,he),he}finally{var H,Z;null===(H=h.end)||void 0===H||H.call(h),null===(Z=c.effectManager)||void 0===Z||Z.flush(),null==y||y.end()}}function Lh(n,r,o,a){var c;const h=r[Kn];if(256!=(256&h)){null===(c=r[fi].effectManager)||void 0===c||c.flush(),Qo(r);try{zo(r),function Ja(n){return ur.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lg(n,r,o,2,a);const C=3==(3&h);if(C){const Z=n.preOrderCheckHooks;null!==Z&&Ls(r,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&Po(r,Z,0,null),No(r,0)}if(function o0(n){for(let r=oc(n);null!==r;r=dd(r)){if(!r[is])continue;const o=r[ss];for(let a=0;a<o.length;a++){ha(o[a])}}}(r),uy(r,2),null!==n.contentQueries&&sy(n,r),C){const Z=n.contentCheckHooks;null!==Z&&Ls(r,Z)}else{const Z=n.contentHooks;null!==Z&&Po(r,Z,1),No(r,1)}!function Fg(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const a=Jv(r,Ss);try{for(let c=0;c<o.length;c++){const h=o[c];if(h<0)ne(~h);else{const y=h,C=o[++c],R=o[++c];Yi(C,y),a.runInContext(R,2,r[y])}}}finally{null===r[Ss]&&tp(r,Ss),ne(-1)}}(n,r);const R=n.components;null!==R&&Bh(r,R,0);const H=n.viewQuery;if(null!==H&&Xg(2,H,a),C){const Z=n.viewCheckHooks;null!==Z&&Ls(r,Z)}else{const Z=n.viewHooks;null!==Z&&Po(r,Z,2),No(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Kn]&=-73,Ms(r)}finally{M()}}}function uy(n,r){for(let o=oc(n);null!==o;o=dd(o))for(let a=Mi;a<o.length;a++)dy(o[a],r)}function a0(n,r,o){dy(Ri(r,n),o)}function dy(n,r){if(!function Oo(n){return 128==(128&n[Kn])}(n))return;const o=n[tn];if(80&n[Kn]&&0===r||1024&n[Kn]||2===r)Lh(o,n,o.template,n[Zr]);else if(n[Ji]>0){uy(n,1);const c=n[tn].components;null!==c&&Bh(n,c,1)}}function Bh(n,r,o){for(let a=0;a<r.length;a++)a0(n,r[a],o)}class $u{get rootNodes(){const r=this._lView,o=r[tn];return Bu(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zr]}set context(r){this._lView[Zr]=r}get destroyed(){return 256==(256&this._lView[Kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[dr];if(Ii(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Vo(r,a),gn(o,a))}this._attachedToViewContainer=!1}ac(this._lView[tn],this._lView)}onDestroy(r){!function wa(n,r){if(256==(256&n[Kn]))throw new ge(911,!1);null===n[Ts]&&(n[Ts]=[]),n[Ts].push(r)}(this._lView,r)}markForCheck(){Ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kn]&=-129}reattach(){this._lView[Kn]|=128}detectChanges(){kh(this._lView[tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kt(n,r){wu(n,r,r[Rn],2,null,null)}(this._lView[tn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=r}}class rm extends $u{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;kh(r[tn],r,r[Zr],!1)}checkNoChanges(){}get context(){return null}}class mp extends Gf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Jt(r);return new Wc(o,this.ngModule)}}function im(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class om{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Fn(a);const c=this.injector.get(r,wg,a);return c!==wg||o===wg?c:this.parentInjector.get(r,o,a)}}class Wc extends Bv{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=im(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return im(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Rt(n){return n.map(Nt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){var h;let y=(c=c||this.ngModule)instanceof ul?c:null===(h=c)||void 0===h?void 0:h.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const C=y?new om(r,y):r,R=C.get(Sd,null);if(null===R)throw new ge(407,!1);const We={rendererFactory:R,sanitizer:C.get(j_,null),effectManager:C.get(ly,null),afterRenderEventManager:C.get(Mg,null)},it=R.createRenderer(null,this.componentDef),Lt=this.componentDef.selectors[0][0]||"div",sn=a?function K_(n,r,o,a){const h=a.get(Kv,!1)||o===hn.ShadowDom,y=n.selectRootElement(r,h);return function $g(n){lp(n)}(y),y}(it,a,this.componentDef.encapsulation,C):te(it,Lt,function sm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Lt)),zt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Rr=null;null!==sn&&(Rr=Dh(sn,C,!0));const hi=Bg(0,null,null,1,0,null,null,null,null,null,null),Vi=xd(null,hi,null,zt,null,null,We,it,C,null,Rr);let zl,sv;Qo(Vi);try{const zd=this.componentDef;let Lp,xI=null;zd.findHostDirectiveDefs?(Lp=[],xI=new Map,zd.findHostDirectiveDefs(zd,Lp,xI),Lp.push(zd)):Lp=[zd];const OT=function hy(n,r){const o=n[tn],a=or;return n[a]=r,Rd(o,a,2,"#host",null)}(Vi,sn),PT=function vp(n,r,o,a,c,h,y){const C=c[tn];!function fy(n,r,o,a){for(const c of n)r.mergedAttrs=Ci(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(gp(r,r.mergedAttrs,!0),null!==o&&pv(a,o,r))}(a,n,r,y);let R=null;null!==r&&(R=Dh(r,c[qs]));const H=h.rendererFactory.createRenderer(r,o);let Z=16;o.signals?Z=4096:o.onPush&&(Z=64);const he=xd(c,ty(o),null,Z,c[n.index],n,h,H,null,null,R);return C.firstCreatePass&&Oh(C,n,a.length-1),Pd(c,he),c[n.index]=he}(OT,sn,zd,Lp,Vi,We,it);sv=Tr(hi,or),sn&&function py(n,r,o,a){if(a)ki(n,o,["ng-version",Hv.full]);else{const{attrs:c,classes:h}=function Vt(n){const r=[],o=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&o.push(h);else{if(!Cr(c))break;c=h}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&ki(n,o,c),h&&h.length>0&&fv(n,o,h.join(" "))}}(it,zd,sn,a),void 0!==o&&function Nd(n,r,o){const a=n.projection=[];for(let c=0;c<r.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(sv,this.ngContentSelectors,o),zl=function lm(n,r,o,a,c,h){const y=kt(),C=c[tn],R=Wn(y,c);up(C,c,y,o,null,a);for(let Z=0;Z<o.length;Z++)Is(ka(c,C,y.directiveStart+Z,y),c);dp(C,c,y),R&&Is(R,c);const H=ka(c,C,y.directiveStart+y.componentOffset,y);if(n[Zr]=c[Zr]=H,null!==h)for(const Z of h)Z(H,r);return sp(C,y,n),H}(PT,zd,Lp,xI,Vi,[cm]),Ph(hi,Vi,null)}finally{M()}return new am(this.componentType,zl,Cd(sv,Vi),Vi,sv)}}class am extends Lv{constructor(r,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new rm(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const y=this._rootLView;em(y[tn],y,c,r,o),this.previousInputValues.set(r,o),Ah(Ri(this._tNode.index,y))}}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function cm(){const n=kt();co(yt()[tn],n)}function um(n){let r=function gy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let c;if(ui(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ge(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const y=n;y.inputs=$h(n.inputs),y.inputTransforms=$h(n.inputTransforms),y.declaredInputs=$h(n.declaredInputs),y.outputs=$h(n.outputs);const C=c.hostBindings;C&&u0(n,C);const R=c.viewQuery,H=c.contentQueries;if(R&&c0(n,R),H&&my(n,H),Oe(n.inputs,c.inputs),Oe(n.declaredInputs,c.declaredInputs),Oe(n.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Oe(y.inputTransforms,c.inputTransforms)),ui(c)&&c.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const C=h[y];C&&C.ngInherit&&C(n),C===um&&(o=!1)}}r=Object.getPrototypeOf(r)}!function l0(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Ci(c.hostAttrs,o=Ci(o,c.hostAttrs))}}(a)}function $h(n){return n===yn?{}:n===Xt?[]:n}function c0(n,r){const o=n.viewQuery;n.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function my(n,r){const o=n.contentQueries;n.contentQueries=o?(a,c,h)=>{r(a,c,h),o(a,c,h)}:r}function u0(n,r){const o=n.hostBindings;n.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function Vh(n){const r=n.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}n.inputTransforms=o}function Uh(n){return!!_p(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _p(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ds(n,r,o){return n[r]=o}function Uo(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Uu(n,r,o,a,c){const h=function Vu(n,r,o,a){const c=Uo(n,r,o);return Uo(n,r+1,a)||c}(n,r,o,a);return Uo(n,r+2,c)||h}function Hh(n,r,o,a){const c=yt();return Uo(c,Xo(),r)&&(Xr(),Ha(de(),c,n,r,o,a)),Hh}function Yc(n,r,o,a){return Uo(n,Xo(),o)?r+Se(o)+a:Fr}function Ld(n,r,o,a,c,h,y,C){const H=Uu(n,function Go(){return ur.lFrame.bindingIndex}(),o,c,y);return rr(3),H?r+Se(o)+a+Se(c)+h+Se(y)+C:Fr}function xy(n,r,o,a,c,h,y,C){const R=yt(),H=Xr(),Z=n+or,he=H.firstCreatePass?function Xh(n,r,o,a,c,h,y,C,R){const H=r.consts,Z=Rd(r,n,4,y||null,As(H,C));Gg(r,o,Z,As(H,R)),co(r,Z);const he=Z.tView=Bg(2,Z,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,Z),he.queries=r.queries.embeddedTView(Z)),Z}(Z,H,R,r,o,a,c,h,y):H.data[Z];ns(he,!1);const We=Qh(H,R,he,n);xs()&&sh(H,R,We,he),Is(We,R),Pd(R,R[Z]=fp(We,R,We,he)),ds(he)&&op(H,R,he),null!=y&&ap(R,he,C)}let Qh=function wm(n,r,o,a){return Ir(!0),r[Rn].createComment("")};function Bd(n){return ei(function ml(){return ur.lFrame.contextLView}(),or+n)}function Cm(n,r,o){const a=yt();return Uo(a,Xo(),r)&&Ra(Xr(),de(),a,n,r,a[Rn],o,!1),Cm}function Zc(n,r,o,a,c){const y=c?"class":"style";em(n,o,r.inputs[y],y,a)}function Tm(n,r,o,a){const c=yt(),h=Xr(),y=or+n,C=c[Rn],R=h.firstCreatePass?function kI(n,r,o,a,c,h){const y=r.consts,R=Rd(r,n,2,a,As(y,c));return Gg(r,o,R,As(y,h)),null!==R.attrs&&gp(R,R.attrs,!1),null!==R.mergedAttrs&&gp(R,R.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,R),R}(y,h,c,r,o,a):h.data[y],H=ef(h,c,R,C,r,n);c[y]=H;const Z=ds(R);return ns(R,!0),pv(C,H,R),32!=(32&R.flags)&&xs()&&sh(h,c,H,R),0===function ys(){return ur.lFrame.elementDepthCount}()&&Is(H,c),function gl(){ur.lFrame.elementDepthCount++}(),Z&&(op(h,c,R),sp(h,R,c)),null!==a&&ap(c,R),Tm}function $d(){let n=kt();Sa()?Qa():(n=n.parent,ns(n,!1));const r=n;(function rn(n){return ur.skipHydrationRootTNode===n})(r)&&function pn(){ur.skipHydrationRootTNode=null}(),function mo(){ur.lFrame.elementDepthCount--}();const o=Xr();return o.firstCreatePass&&(co(o,n),oo(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Hs(n){return 0!=(8&n.flags)}(r)&&Zc(o,r,yt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function bc(n){return 0!=(16&n.flags)}(r)&&Zc(o,r,yt(),r.stylesWithoutHost,!1),$d}function Sm(n,r,o,a){return Tm(n,r,o,a),$d(),Sm}let ef=(n,r,o,a,c,h)=>(Ir(!0),te(a,c,function tr(){return ur.lFrame.currentNamespace}()));function Am(n,r,o){const a=yt(),c=Xr(),h=n+or,y=c.firstCreatePass?function bp(n,r,o,a,c){const h=r.consts,y=As(h,a),C=Rd(r,n,8,"ng-container",y);return null!==y&&gp(C,y,!0),Gg(r,o,C,As(h,c)),null!==r.queries&&r.queries.elementStart(r,C),C}(h,c,a,r,o):c.data[h];ns(y,!0);const C=Ry(c,a,y,n);return a[h]=C,xs()&&sh(c,a,C,y),Is(C,a),ds(y)&&(op(c,a,y),sp(c,y,a)),null!=o&&ap(a,y),Am}function Mm(){let n=kt();const r=Xr();return Sa()?Qa():(n=n.parent,ns(n,!1)),r.firstCreatePass&&(co(r,n),oo(n)&&r.queries.elementEnd(n)),Mm}function Vd(n,r,o){return Am(n,r,o),Mm(),Vd}let Ry=(n,r,o,a)=>(Ir(!0),G(r[Rn],""));function xm(){return yt()}function Cp(n){return!!n&&"function"==typeof n.then}function Rm(n){return!!n&&"function"==typeof n.subscribe}function Tp(n,r,o,a){const c=yt(),h=Xr(),y=kt();return function tf(n,r,o,a,c,h,y){const C=ds(a),H=n.firstCreatePass&&pp(n),Z=r[Zr],he=Qg(r);let We=!0;if(3&a.type||y){const sn=Wn(a,r),Cn=y?y(sn):sn,Xn=he.length,zt=y?hi=>y(bn(hi[a.index])):a.index;let Rr=null;if(!y&&C&&(Rr=function Pm(n,r,o,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===o&&c[h+1]===a){const C=r[cs],R=c[h+2];return C.length>R?C[R]:null}"string"==typeof y&&(h+=2)}return null}(n,r,c,a.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=h,Rr.__ngLastListenerFn__=h,We=!1;else{h=b0(a,r,Z,h,!1);const hi=o.listen(Cn,c,h);he.push(h,hi),H&&H.push(c,zt,Xn,Xn+1)}}else h=b0(a,r,Z,h,!1);const it=a.outputs;let Lt;if(We&&null!==it&&(Lt=it[c])){const sn=Lt.length;if(sn)for(let Cn=0;Cn<sn;Cn+=2){const Vi=r[Lt[Cn]][Lt[Cn+1]].subscribe(h),zl=he.length;he.push(h,Vi),H&&H.push(c,a.index,zl,-(zl+1))}}}(h,c,c[Rn],y,n,r,a),Tp}function Py(n,r,o,a){try{return Be(6,r,o),!1!==o(a)}catch(c){return ay(n,c),!1}finally{Be(7,r,o)}}function b0(n,r,o,a,c){return function h(y){if(y===Function)return a;Ah(n.componentOffset>-1?Ri(n.index,r):r);let R=Py(r,o,a,y),H=h.__ngNextListenerFn__;for(;H;)R=Py(r,o,H,y)&&R,H=H.__ngNextListenerFn__;return c&&!1===R&&y.preventDefault(),R}}function C0(n=1){return function k(n){return(ur.lFrame.contextLView=function T(n,r){for(;n>0;)r=r[gs],n--;return r}(n,ur.lFrame.contextLView))[Zr]}(n)}function T0(n,r){let o=null;const a=function Ee(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===a?K(n,h,!0):et(a,h))return c}else o=c}return o}function S0(n){const r=yt()[sr][ji];if(!r.projection){const a=r.projection=jn(n?n.length:1,null),c=a.slice();let h=r.child;for(;null!==h;){const y=n?T0(h,n):0;null!==y&&(c[y]?c[y].projectionNext=h:a[y]=h,c[y]=h),h=h.next}}}function A0(n,r=0,o){const a=yt(),c=Xr(),h=Rd(c,or+n,16,null,o||null);null===h.projection&&(h.projection=r),Qa(),(!a[es]||vo())&&32!=(32&h.flags)&&function cv(n,r,o){pd(r[Rn],0,r,o,Ol(n,o,r),ov(o.parent||r[ji],o,r))}(c,a,h)}function vc(n,r,o){return hl(n,"",r,"",o),vc}function hl(n,r,o,a,c){const h=yt(),y=Yc(h,r,o,a);return y!==Fr&&Ra(Xr(),de(),h,n,y,h[Rn],c,!1),hl}function Sp(n,r){return n<<17|r<<2}function Xc(n){return n>>17&32767}function Ap(n){return 2|n}function zu(n){return(131068&n)>>2}function km(n,r){return-131069&n|r<<2}function Fm(n){return 1|n}function Uy(n,r,o,a,c){const h=n[o+1],y=null===r;let C=a?Xc(h):zu(h),R=!1;for(;0!==C&&(!1===R||y);){const Z=n[C+1];R0(n[C],r)&&(R=!0,n[C+1]=a?Fm(Z):Ap(Z)),C=a?Xc(Z):zu(Z)}R&&(n[o+1]=a?Ap(h):Fm(h))}function R0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ws(n,r)>=0}function Bm(n,r){return function jl(n,r,o,a){const c=yt(),h=Xr(),y=rr(2);h.firstUpdatePass&&function qy(n,r,o,a){const c=n.data;if(null===c[o+1]){const h=c[F()],y=function Yy(n,r){return r>=n.expandoStartIndex}(n,o);(function Ko(n,r){return 0!=(n.flags&(r?8:16))})(h,a)&&null===r&&!y&&(r=!1),r=function $m(n,r,o,a){const c=function Gr(n){const r=ur.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=af(o=sf(null,n,r,o,a),r.attrs,a),h=null);else{const y=r.directiveStylingLast;if(-1===y||n[y]!==c)if(o=sf(c,n,r,o,a),null===h){let R=function Ky(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==zu(a))return n[Xc(a)]}(n,r,a);void 0!==R&&Array.isArray(R)&&(R=sf(null,n,r,R[1],a),R=af(R,r.attrs,a),function Zy(n,r,o,a){n[Xc(o?r.classBindings:r.styleBindings)]=a}(n,r,a,R))}else h=function rf(n,r,o){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=af(a,n[h].hostAttrs,o);return af(a,r.attrs,o)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),o}(c,h,r,a),function FI(n,r,o,a,c,h){let y=h?r.classBindings:r.styleBindings,C=Xc(y),R=zu(y);n[a]=o;let Z,H=!1;if(Array.isArray(o)?(Z=o[1],(null===Z||Ws(o,Z)>0)&&(H=!0)):Z=o,c)if(0!==R){const We=Xc(n[C+1]);n[a+1]=Sp(We,C),0!==We&&(n[We+1]=km(n[We+1],a)),n[C+1]=function By(n,r){return 131071&n|r<<17}(n[C+1],a)}else n[a+1]=Sp(C,0),0!==C&&(n[C+1]=km(n[C+1],a)),C=a;else n[a+1]=Sp(R,0),0===C?C=a:n[R+1]=km(n[R+1],a),R=a;H&&(n[a+1]=Ap(n[a+1])),Uy(n,Z,a,!0),Uy(n,Z,a,!1),function x0(n,r,o,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&Ws(h,r)>=0&&(o[a+1]=Fm(o[a+1]))}(r,Z,n,a,h),y=Sp(C,R),h?r.classBindings=y:r.styleBindings=y}(c,h,r,o,y,a)}}(h,n,y,a),r!==Fr&&Uo(c,y,r)&&function Um(n,r,o,a,c,h,y,C){if(!(3&r.type))return;const R=n.data,H=R[C+1],Z=function $y(n){return 1==(1&n)}(H)?jm(R,r,o,c,zu(H),y):void 0;Hl(Z)||(Hl(h)||function M0(n){return 2==(2&n)}(H)&&(h=jm(R,null,o,c,C,y)),function dv(n,r,o,a,c){if(r)c?n.addClass(o,a):n.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Sr.DashCase;null==c?n.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Sr.Important),n.setStyle(o,a,c,h))}}(a,y,er(F(),o),c,h))}(h,h.data[F()],c,c[Rn],n,c[y+1]=function Ga(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=xe(ma(n)))),n}(r,o),a,y)}(n,r,null,!0),Bm}function sf(n,r,o,a,c){let h=null;const y=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<y&&(h=r[C],a=af(a,h.hostAttrs,c),h!==n);)C++;return null!==n&&(o.directiveStylingLast=C),a}function af(n,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?c=y:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gs(n,y,!!o||r[++h]))}return void 0===n?null:n}function jm(n,r,o,a,c,h){const y=null===r;let C;for(;c>0;){const R=n[c],H=Array.isArray(R),Z=H?R[1]:R,he=null===Z;let We=o[c+1];We===Fr&&(We=he?Xt:void 0);let it=he?Pi(We,a):Z===a?We:void 0;if(H&&!Hl(it)&&(it=Pi(R,a)),Hl(it)&&(C=it,y))return C;const Lt=n[c+1];c=y?Xc(Lt):zu(Lt)}if(null!==r){let R=h?r.residualClasses:r.residualStyles;null!=R&&(C=Pi(R,a))}return C}function Hl(n){return void 0!==n}function Hm(n,r=""){const o=yt(),a=Xr(),c=n+or,h=a.firstCreatePass?Rd(a,c,1,r,null):a.data[c],y=zm(a,o,h,r,n);o[c]=y,xs()&&sh(a,o,y,h),ns(h,!1)}let zm=(n,r,o,a,c)=>(Ir(!0),function f(n,r){return n.createText(r)}(r[Rn],a));function jo(n){return xp("",n,""),jo}function xp(n,r,o){const a=yt(),c=Yc(a,n,r,o);return c!==Fr&&dl(a,F(),c),xp}function Jc(n,r,o,a,c,h,y){const C=yt(),R=Ld(C,n,r,o,a,c,h,y);return R!==Fr&&dl(C,F(),R),Jc}const m=void 0;var U=["en",[["a","p"],["AM","PM"],m],[["AM","PM"],m,m],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],m,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],m,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",m,"{1} 'at' {0}",m],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function x(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Y={};function je(n){const r=function Ur(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=fn(r);if(o)return o;const a=r.split("-")[0];if(o=fn(a),o)return o;if("en"===a)return U;throw new ge(701,!1)}function Ft(n){return je(n)[Mn.PluralCase]}function fn(n){return n in Y||(Y[n]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[n]),Y[n]}var Mn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Mn||{});const as="en-US";let jI=as;function q0(n,r,o,a,c){if(n=Re(n),Array.isArray(n))for(let h=0;h<n.length;h++)q0(n[h],r,o,a,c);else{const h=Xr(),y=yt(),C=kt();let R=Mu(n)?n:Re(n.provide);const H=Bf(n),Z=1048575&C.providerIndexes,he=C.directiveStart,We=C.providerIndexes>>20;if(Mu(n)||!n.multi){const it=new pa(H,c,Md),Lt=Z0(R,r,c?Z:Z+We,he);-1===Lt?(cu(Il(C,y),h,R),K0(h,n,r.length),r.push(R),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),o.push(it),y.push(it)):(o[Lt]=it,y[Lt]=it)}else{const it=Z0(R,r,Z+We,he),Lt=Z0(R,r,Z,Z+We),Cn=Lt>=0&&o[Lt];if(c&&!Cn||!c&&!(it>=0&&o[it])){cu(Il(C,y),h,R);const Xn=function Xw(n,r,o,a,c){const h=new pa(n,o,Md);return h.multi=[],h.index=r,h.componentProviders=0,fE(h,c,a&&!o),h}(c?Zw:Kw,o.length,c,a,H);!c&&Cn&&(o[Lt].providerFactory=Xn),K0(h,n,r.length,0),r.push(R),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),o.push(Xn),y.push(Xn)}else K0(h,n,it>-1?it:Lt,fE(o[c?Lt:it],H,!c&&a));!c&&a&&Cn&&o[Lt].componentProviders++}}}function K0(n,r,o,a){const c=Mu(r),h=function Ov(n){return!!n.useClass}(r);if(c||h){const R=(h?Re(r.useClass):r).prototype.ngOnDestroy;if(R){const H=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const Z=H.indexOf(o);-1===Z?H.push(o,[a,R]):H[Z+1].push(a,R)}else H.push(o,R)}}}function fE(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function Z0(n,r,o,a){for(let c=o;c<a;c++)if(r[c]===n)return c;return-1}function Kw(n,r,o,a){return X0(this.multi,[])}function Zw(n,r,o,a){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=ka(o,o[tn],this.providerFactory.index,a);h=C.slice(0,y),X0(c,h);for(let R=y;R<C.length;R++)h.push(C[R])}else h=[],X0(c,h);return h}function X0(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function pE(n,r=[]){return o=>{o.providersResolver=(a,c)=>function qw(n,r,o){const a=Xr();if(a.firstCreatePass){const c=ui(n);q0(o,a.data,a.blueprint,c,!0),q0(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class uf{}class gE{}function Qw(n,r){return new Q0(n,null!=r?r:null,[])}class Q0 extends uf{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mp(this);const c=ni(r);this._bootstrapComponents=ja(c.bootstrap),this._r3Injector=qf(r,o,[{provide:uf,useValue:this},{provide:Gf,useValue:this.componentFactoryResolver},...a],xe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class J0 extends gE{constructor(r){super(),this.moduleType=r}create(r){return new Q0(this.moduleType,r,[])}}class mE extends uf{constructor(r){super(),this.componentFactoryResolver=new mp(this),this.instance=null;const o=new Ff([...r.providers,{provide:uf,useValue:this},{provide:Gf,useValue:this.componentFactoryResolver}],r.parent||mh(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function vE(n,r,o=null){return new mE({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let eb=(()=>{var n;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=fc(0,a.type),h=c.length>0?vE([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(n=r).\u0275prov=Ct({token:n,providedIn:"environment",factory:()=>new n(on(ul))}),r})();function yE(n){n.getStandaloneInjector=r=>r.get(eb).getOrCreateStandaloneInjector(n)}function CE(n,r,o){const a=Us()+n,c=yt();return c[a]===Fr?Ds(c,a,o?r.call(o):r()):function va(n,r){return n[r]}(c,a)}function TE(n,r,o,a){return SE(yt(),Us(),n,r,o,a)}function SE(n,r,o,a,c,h){const y=r+o;return Uo(n,y,c)?Ds(n,y+1,h?a.call(h,c):a(c)):function ev(n,r){const o=n[r];return o===Fr?void 0:o}(n,y+1)}function OE(n,r){const o=Xr();let a;const c=n+or;var h;o.firstCreatePass?(a=function vb(n,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(n===a.name)return a}}(r,o.pipeRegistry),o.data[c]=a,a.onDestroy&&(null!==(h=o.destroyHooks)&&void 0!==h?h:o.destroyHooks=[]).push(c,a.onDestroy)):a=o.data[c];const y=a.factory||(a.factory=pt(a.type)),R=Yn(Md);try{const H=tl(!1),Z=y();return tl(H),function Kc(n,r,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=a}(o,yt(),c,Z),Z}finally{Yn(R)}}function PE(n,r,o){const a=n+or,c=yt(),h=ei(c,a);return function tv(n,r){return n[tn].data[r].pure}(c,a)?SE(c,Us(),r,h.transform,o,h):h.transform(o)}function tI(n){return r=>{setTimeout(n,void 0,r)}}const ru=class Db extends g.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,h=o||(()=>null),y=a;if(r&&"object"==typeof r){var C,R,H;const he=r;c=null===(C=he.next)||void 0===C?void 0:C.bind(he),h=null===(R=he.error)||void 0===R?void 0:R.bind(he),y=null===(H=he.complete)||void 0===H?void 0:H.bind(he)}this.__isAsync&&(h=tI(h),c&&(c=tI(c)),y&&(y=tI(y)));const Z=super.subscribe({next:c,error:h,complete:y});return r instanceof p.w0&&r.add(Z),Z}};function wb(){return this._results[Symbol.iterator]()}class nI{get changes(){return this._changes||(this._changes=new ru)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=nI.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=wb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function ot(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Je(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Cb(n,r,o,a=!0){const c=r[tn];if(function Ln(n,r,o,a){const c=Mi+a,h=o.length;a>0&&(o[c-1][Li]=r),a<h-Mi?(r[Li]=o[c],_n(o,Mi+a,r)):(o.push(r),r[Li]=null),r[dr]=o;const y=r[Vs];null!==y&&o!==y&&function Vn(n,r){const o=n[ss];r[sr]!==r[dr][dr][sr]&&(n[is]=!0),null===o?n[ss]=[r]:o.push(r)}(y,r);const C=r[pi];null!==C&&C.insertView(n),r[Kn]|=128}(c,r,n,o),a){const h=ah(o,n),y=r[Rn],C=uc(y,n[qr]);null!==C&&function vt(n,r,o,a,c,h){a[Yr]=c,a[ji]=r,wu(n,a,o,1,c,h)}(c,n[ji],y,r,C,h)}}let nv=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ab,r})();const Tb=nv,Sb=class extends Tb{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function bb(n,r,o,a){var c,h;const y=r.tView,H=xd(n,y,o,4096&n[Kn]?4096:16,null,r,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.hydrationInfo)&&void 0!==h?h:null);H[Vs]=n[r.index];const he=n[pi];return null!==he&&(H[pi]=he.createEmbeddedView(y)),Ph(y,H,o),H}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new $u(c)}};function Ab(){return h_(kt(),yt())}function h_(n,r){return 4&n.type?new Sb(r,n,Cd(n,r)):null}let p_=(()=>{class r{}return r.__NG_ELEMENT_ID__=Nb,r})();function Nb(){return VE(kt(),yt())}const kb=p_,BE=class extends kb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Cd(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){const r=El(this._hostTNode,this._hostLView);if(Zl(r)){const o=el(r,this._hostLView),a=Tc(r);return new _s(o[tn].data[a+8],o)}return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=$E(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Mi}createEmbeddedView(r,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const C=r.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(C,c,false),C}createComponent(r,o,a,c,h){var y,R;const H=r&&!function be(n){return"function"==typeof n}(r);let Z;if(H)Z=o;else{const zt=o||{};Z=zt.index,a=zt.injector,c=zt.projectableNodes,h=zt.environmentInjector||zt.ngModuleRef}const he=H?r:new Wc(Jt(r)),We=a||this.parentInjector;if(!h&&null==he.ngModule){const Rr=(H?We:this.parentInjector).get(ul,null);Rr&&(h=Rr)}const it=Jt(null!==(y=he.componentType)&&void 0!==y?y:{}),Lt=(null==it?void 0:it.id,null),sn=null!==(R=null==Lt?void 0:Lt.firstChild)&&void 0!==R?R:null,Cn=he.create(We,c,sn,h),Xn=!!Lt&&!sd(this._hostTNode);return this.insertImpl(Cn.hostView,Z,Xn),Cn}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function go(n){return Ii(n[dr])}(c)){const R=this.indexOf(r);if(-1!==R)this.detach(R);else{const H=c[dr],Z=new BE(H,H[ji],H[dr]);Z.detach(Z.indexOf(r))}}const y=this._adjustIndex(o),C=this._lContainer;return Cb(C,c,y,!a),r.attachToViewContainerRef(),_n(rI(C),y,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=$E(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Vo(this._lContainer,o);a&&(gn(rI(this._lContainer),o),ac(a[tn],a))}detach(r){const o=this._adjustIndex(r,-1),a=Vo(this._lContainer,o);return a&&null!=gn(rI(this._lContainer),o)?new $u(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function $E(n){return n[8]}function rI(n){return n[8]||(n[8]=[])}function VE(n,r){let o;const a=r[n.index];return Ii(a)?o=a:(o=fp(a,r,null,n),r[n.index]=o,Pd(r,o)),UE(o,r,n,a),new BE(o,n,r)}let UE=function jE(n,r,o,a){if(n[qr])return;let c;c=8&o.type?bn(a):function Fb(n,r){const o=n[Rn],a=o.createComment(""),c=Wn(r,n);return ll(o,uc(o,c),a,function Gp(n,r){return n.nextSibling(r)}(o,c),!1),a}(r,o),n[qr]=c};class iI{constructor(r){this.queryList=r,this.matches=null}clone(){return new iI(this.queryList)}setDirty(){this.queryList.setDirty()}}class sI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const y=o.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new sI(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==XE(r,o).matches&&this.queries[o].setDirty()}}class HE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class oI{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new oI(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class aI{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new aI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,o,$b(o,h)),this.matchTNodeWithReadOption(r,o,Fo(o,r,h,!1,!1))}else a===nv?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Fo(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Td||c===p_||c===nv&&4&o.type)this.addMatch(o.index,-2);else{const h=Fo(o,r,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function $b(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function Ub(n,r,o,a){return-1===o?function Vb(n,r){return 11&n.type?Cd(n,r):4&n.type?h_(n,r):null}(r,n):-2===o?function jb(n,r,o){return o===Td?Cd(r,n):o===nv?h_(r,n):o===p_?VE(r,n):void 0}(n,r,a):ka(n,n[tn],o,r)}function zE(n,r,o,a){const c=r[pi].queries[a];if(null===c.matches){const h=n.data,y=o.matches,C=[];for(let R=0;R<y.length;R+=2){const H=y[R];C.push(H<0?null:Ub(r,h[H],y[R+1],o.metadata.read))}c.matches=C}return c.matches}function lI(n,r,o,a){const c=n.queries.getByIndex(o),h=c.matches;if(null!==h){const y=zE(n,r,c,o);for(let C=0;C<h.length;C+=2){const R=h[C];if(R>0)a.push(y[C/2]);else{const H=h[C+1],Z=r[-R];for(let he=Mi;he<Z.length;he++){const We=Z[he];We[Vs]===We[dr]&&lI(We[tn],We,H,a)}if(null!==Z[ss]){const he=Z[ss];for(let We=0;We<he.length;We++){const it=he[We];lI(it[tn],it,H,a)}}}}}return a}function GE(n){const r=yt(),o=Xr(),a=ql();qi(a+1);const c=XE(o,a);if(n.dirty&&function ps(n){return 4==(4&n[Kn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?lI(o,r,a,[]):zE(o,r,c,a);n.reset(h,Wf),n.notifyOnChanges()}return!0}return!1}function WE(n,r,o){const a=Xr();a.firstCreatePass&&(ZE(a,new HE(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),KE(a,yt(),r)}function YE(n,r,o,a){const c=Xr();if(c.firstCreatePass){const h=kt();ZE(c,new HE(r,o,a),h.index),function zb(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}KE(c,yt(),o)}function qE(){return function Hb(n,r){return n[pi].queries[r].queryList}(yt(),ql())}function KE(n,r,o){const a=new nI(4==(4&o));(function Ug(n,r,o,a){const c=Qg(r);c.push(o),n.firstCreatePass&&pp(n).push(a,c.length-1)})(n,r,a,a.destroy),null===r[pi]&&(r[pi]=new sI),r[pi].queries.push(new iI(a))}function ZE(n,r,o){null===n.queries&&(n.queries=new oI),n.queries.track(new aI(r,o))}function XE(n,r){return n.queries.getByIndex(r)}function cI(n){return!!ni(n)}const pD=new ai("Application Initializer");let pI=(()=>{var n;class r{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=ln(pD,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const y=h();if(Cp(y))a.push(y);else if(Rm(y)){const C=new Promise((R,H)=>{y.subscribe({complete:R,error:H})});a.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),r})(),gD=(()=>{var n;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})();const m_=new ai("LocaleId",{providedIn:"root",factory:()=>ln(m_,un.Optional|un.SkipSelf)||function hC(){return typeof $localize<"u"&&$localize.locale||as}()}),fC=new ai("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let mD=(()=>{var n;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();class gC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let mC=(()=>{var n;class r{compileModuleSync(a){return new J0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),y=ja(ni(a).declarations).reduce((C,R)=>{const H=Jt(R);return H&&C.push(new Wc(H)),C},[]);return new gC(c,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function ID(...n){}class ya{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function FC(){const n="function"==typeof Hn.requestAnimationFrame;let r=Hn[n?"requestAnimationFrame":"setTimeout"],o=Hn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function $C(n){const r=()=>{!function BC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,yI(n),n.isCheckStableRunning=!0,vI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),yI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,y,C)=>{try{return ED(n),o.invokeTask(c,h,y,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),DD(n)}},onInvoke:(o,a,c,h,y,C,R)=>{try{return ED(n),o.invoke(c,h,y,C,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),DD(n)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,yI(n),vI(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ya.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(ya.isInAngularZone())throw new ge(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,r,LC,ID,ID);try{return h.runTask(y,o,a)}finally{h.cancelTask(y)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const LC={};function vI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ED(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DD(n){n._nesting--,vI(n)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const wD=new ai("",{providedIn:"root",factory:bD});function bD(){const n=ln(ya);let r=!0;const o=new le.y(c=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new le.y(c=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{ya.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const y=n.onUnstable.subscribe(()=>{ya.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),y.unsubscribe()}});return(0,we.T)(o,a.pipe((0,fe.B)()))}const CD=new ai(""),TD=new ai("");let _I,UC=(()=>{var n;class r{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_I||(function jC(n){_I=n}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ya.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(n=r).\u0275fac=function(a){return new(a||n)(on(ya),on(SD),on(TD))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),r})(),SD=(()=>{var n;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,y;return null!==(h=null===(y=_I)||void 0===y?void 0:y.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})(),Hd=null;const AD=new ai("AllowMultipleToken"),II=new ai("PlatformDestroyListeners"),EI=new ai("appBootstrapListener");class GC{constructor(r,o){this.name=r,this.token=o}}function RD(n,r,o=[]){const a=`Platform: ${r}`,c=new ai(a);return(h=[])=>{let y=DI();if(!y||y.injector.get(AD,!1)){const C=[...o,...h,{provide:c,useValue:!0}];n?n(C):function WC(n){if(Hd&&!Hd.get(AD,!1))throw new ge(400,!1);(function MD(){!function da(n){ua=n}(()=>{throw new ge(600,!1)})})(),Hd=n;const r=n.get(PD);(function xD(n){const r=n.get(vh,null);null==r||r.forEach(o=>o())})(n)}(function OD(n=[],r){return Mo.create({name:r,providers:[{provide:dg,useValue:"platform"},{provide:II,useValue:new Set([()=>Hd=null])},...n]})}(C,a))}return function qC(n){const r=DI();if(!r)throw new ge(401,!1);return r}()}}function DI(){var n,r;return null!==(n=null===(r=Hd)||void 0===r?void 0:r.get(PD))&&void 0!==n?n:null}let PD=(()=>{var n;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function KC(n="zone.js",r){return"noop"===n?new VC:"zone.js"===n?new ya(r):n}(null==c?void 0:c.ngZone,function ND(n){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==n?void 0:n.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const y=function Jw(n,r,o){return new Q0(n,r,o)}(a.moduleType,this.injector,function $D(n){return[{provide:ya,useFactory:n},{provide:kl,multi:!0,useFactory:()=>{const r=ln(XC,{optional:!0});return()=>r.initialize()}},{provide:BD,useFactory:ZC},{provide:wD,useFactory:bD}]}(()=>h)),C=y.injector.get(Gc,null);return h.runOutsideAngular(()=>{const R=h.onError.subscribe({next:H=>{C.handleError(H)}});y.onDestroy(()=>{y_(this._modules,y),R.unsubscribe()})}),function kD(n,r,o){try{const a=o();return Cp(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(C,h,()=>{const R=y.injector.get(pI);return R.runInitializers(),R.donePromise.then(()=>(function HI(n){Yt(n,"Expected localeId to be defined"),"string"==typeof n&&(jI=n.toLowerCase().replace(/_/g,"-"))}(y.injector.get(m_,as)||as),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,c=[]){const h=FD({},c);return function HC(n,r,o){const a=new J0(o);return Promise.resolve(a)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,h))}_moduleDoBootstrap(a){const c=a.injector.get(Fp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ge(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(II,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(n=r).\u0275fac=function(a){return new(a||n)(on(Mo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})();function FD(n,r){return Array.isArray(r)?r.reduce(FD,n):{...n,...r}}let Fp=(()=>{var n;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ln(BD),this.zoneIsStable=ln(wD),this.componentTypes=[],this.components=[],this.isStable=ln(mD).hasPendingTasks.pipe((0,qe.w)(a=>a?(0,Ce.of)(!1):this.zoneIsStable),(0,Ue.x)(),(0,fe.B)()),this._injector=ln(ul)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Bv;if(!this._injector.get(pI).done)throw!h&&cr(a),new ge(405,!1);let C;C=h?a:this._injector.get(Gf).resolveComponentFactory(a),this.componentTypes.push(C.componentType);const R=function zC(n){return n.isBoundToModule}(C)?void 0:this._injector.get(uf),Z=C.create(Mo.NULL,[],c||C.selector,R),he=Z.location.nativeElement,We=Z.injector.get(CD,null);return null==We||We.registerApplication(he),Z.onDestroy(()=>{this.detachView(Z.hostView),y_(this.components,Z),null==We||We.unregisterApplication(he)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;y_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(EI,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>y_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function y_(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const BD=new ai("",{providedIn:"root",factory:()=>ln(Gc).handleError.bind(void 0)});function ZC(){const n=ln(ya),r=ln(Gc);return o=>n.runOutsideAngular(()=>r.handleError(o))}let XC=(()=>{var n;class r{constructor(){this.zone=ln(ya),this.applicationRef=ln(Fp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function JC(){return!1}function eT(){}let tT=(()=>{class r{}return r.__NG_ELEMENT_ID__=nT,r})();function nT(n){return function rT(n,r,o){if(xi(n)&&!o){const a=Ri(n.index,r);return new $u(a,a)}return 47&n.type?new $u(r[sr],r):null}(kt(),yt(),16==(16&n))}class HD{constructor(){}supports(r){return Uh(r)}create(r){return new cT(r)}}const lT=(n,r)=>r;class cT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||lT}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const y=!a||o&&o.currentIndex<GD(a,c,h)?o:a,C=GD(y,c,h),R=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{h||(h=[]);const H=C-c,Z=R-c;if(H!=Z){for(let We=0;We<H;We++){const it=We<h.length?h[We]:h[We]=0,Lt=it+We;Z<=Lt&&Lt<H&&(h[We]=it+1)}h[y.previousIndex]=Z-H}}C!==R&&r(y,C,R)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Uh(r))throw new ge(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,y,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)h=r[C],y=this._trackByFn(C,h),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,h,y,C)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,y,C),a=!0),o=o._next}else c=0,function jh(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,C=>{y=this._trackByFn(c,C),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,C,y,c)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,y,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,h,c)):r=this._addAfter(new uT(o,a),h,c),r}_verifyReinsertion(r,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new zD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class uT{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class zD{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new dT,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GD(n,r,o){const a=n.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class WD{constructor(){}supports(r){return r instanceof Map||_p(r)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||_p(r)))throw new ge(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const a=new fT(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class fT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YD(){return new SI([new HD])}let SI=(()=>{var n;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||YD()),deps:[[r,new hu,new xc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new ge(901,!1)}}return(n=r).\u0275prov=Ct({token:n,providedIn:"root",factory:YD}),r})();function qD(){return new AI([new WD])}let AI=(()=>{var n;class r{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||qD()),deps:[[r,new hu,new xc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new ge(901,!1)}}return(n=r).\u0275prov=Ct({token:n,providedIn:"root",factory:qD}),r})();const mT=RD(null,"core",[]);let vT=(()=>{var n;class r{constructor(a){}}return(n=r).\u0275fac=function(a){return new(a||n)(on(Fp))},n.\u0275mod=Qe({type:n}),n.\u0275inj=In({}),r})();function AT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xT(n,r){const o=Jt(n),a=r.elementInjector||mh();return new Wc(o).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function RT(n){const r=Jt(n);if(!r)return null;const o=new Wc(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(en,nt,O)=>{"use strict";O.d(nt,{CE:()=>Ji,qu:()=>ro,u:()=>Zr,sg:()=>tn,x0:()=>dr,u5:()=>W,nD:()=>Ii,Fd:()=>Ss,qQ:()=>ms,Cf:()=>Se,JU:()=>Ke,a5:()=>Bn,JJ:()=>un,JL:()=>Pn,F:()=>ee,On:()=>Ye,UX:()=>z,Q7:()=>qr,kI:()=>Le,_Y:()=>st});var g=O(5879),p=O(6814),Q=O(2459),le=O(5592),we=O(7453),Ce=O(4829),fe=O(4564),qe=O(8251),Ue=O(7400),_e=O(2714),Oe=O(7398);let xe=(()=>{var D;class E{constructor(P,X){this._renderer=P,this._elementRef=X,this.onChange=ut=>{},this.onTouched=()=>{}}setProperty(P,X){this._renderer.setProperty(this._elementRef.nativeElement,P,X)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(g.Qsj),g.Y36(g.SBq))},D.\u0275dir=g.lG2({type:D}),E})(),ke=(()=>{var D;class E extends xe{}return(D=E).\u0275fac=function(){let V;return function(X){return(V||(V=g.n5z(D)))(X||D)}}(),D.\u0275dir=g.lG2({type:D,features:[g.qOj]}),E})();const Ke=new g.OlP("NgValueAccessor"),Ae={provide:Ke,useExisting:(0,g.Gpc)(()=>ve),multi:!0},_t=new g.OlP("CompositionEventMode");let ve=(()=>{var D;class E extends xe{constructor(P,X,ut){super(P,X),this._compositionMode=ut,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pe(){const D=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(D.toLowerCase())}())}writeValue(P){this.setProperty("value",null==P?"":P)}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(_t,8))},D.\u0275dir=g.lG2({type:D,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,X){1&P&&g.NdJ("input",function(v){return X._handleInput(v.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(v){return X._compositionEnd(v.target.value)})},features:[g._Bn([Ae]),g.qOj]}),E})();function ge(D){return null==D||("string"==typeof D||Array.isArray(D))&&0===D.length}function me(D){return null!=D&&"number"==typeof D.length}const Se=new g.OlP("NgValidators"),ye=new g.OlP("NgAsyncValidators"),Me=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Le{static min(E){return ze(E)}static max(E){return ct(E)}static required(E){return ht(E)}static requiredTrue(E){return function It(D){return!0===D.value?null:{required:!0}}(E)}static email(E){return function jt(D){return ge(D.value)||Me.test(D.value)?null:{email:!0}}(E)}static minLength(E){return function Tn(D){return E=>ge(E.value)||!me(E.value)?null:E.value.length<D?{minlength:{requiredLength:D,actualLength:E.value.length}}:null}(E)}static maxLength(E){return Qt(E)}static pattern(E){return function gt(D){if(!D)return ue;let E,V;return"string"==typeof D?(V="","^"!==D.charAt(0)&&(V+="^"),V+=D,"$"!==D.charAt(D.length-1)&&(V+="$"),E=new RegExp(V)):(V=D.toString(),E=D),P=>{if(ge(P.value))return null;const X=P.value;return E.test(X)?null:{pattern:{requiredPattern:V,actualValue:X}}}}(E)}static nullValidator(E){return null}static compose(E){return Yt(E)}static composeAsync(E){return Te(E)}}function ze(D){return E=>{if(ge(E.value)||ge(D))return null;const V=parseFloat(E.value);return!isNaN(V)&&V<D?{min:{min:D,actual:E.value}}:null}}function ct(D){return E=>{if(ge(E.value)||ge(D))return null;const V=parseFloat(E.value);return!isNaN(V)&&V>D?{max:{max:D,actual:E.value}}:null}}function ht(D){return ge(D.value)?{required:!0}:null}function Qt(D){return E=>me(E.value)&&E.value.length>D?{maxlength:{requiredLength:D,actualLength:E.value.length}}:null}function ue(D){return null}function Ie(D){return null!=D}function Fe(D){return(0,g.QGY)(D)?(0,Q.D)(D):D}function Ze(D){let E={};return D.forEach(V=>{E=null!=V?{...E,...V}:E}),0===Object.keys(E).length?null:E}function tt(D,E){return E.map(V=>V(D))}function $t(D){return D.map(E=>function Xe(D){return!D.validate}(E)?E:V=>E.validate(V))}function Yt(D){if(!D)return null;const E=D.filter(Ie);return 0==E.length?null:function(V){return Ze(tt(V,E))}}function ft(D){return null!=D?Yt($t(D)):null}function Te(D){if(!D)return null;const E=D.filter(Ie);return 0==E.length?null:function(V){return function se(...D){const E=(0,fe.jO)(D),{args:V,keys:P}=(0,we.D)(D),X=new le.y(ut=>{const{length:v}=V;if(!v)return void ut.complete();const L=new Array(v);let _=v,B=v;for(let ie=0;ie<v;ie++){let pt=!1;(0,Ce.Xf)(V[ie]).subscribe((0,qe.x)(ut,Gt=>{pt||(pt=!0,B--),L[ie]=Gt},()=>_--,void 0,()=>{(!_||!pt)&&(B||ut.next(P?(0,_e.n)(P,L):L),ut.complete())}))}});return E?X.pipe((0,Ue.Z)(E)):X}(tt(V,E).map(Fe)).pipe((0,Oe.U)(Ze))}}function at(D){return null!=D?Te($t(D)):null}function St(D,E){return null===D?[E]:Array.isArray(D)?[...D,E]:[D,E]}function Ct(D){return D._rawValidators}function qt(D){return D._rawAsyncValidators}function In(D){return D?Array.isArray(D)?D:[D]:[]}function cn(D,E){return Array.isArray(D)?D.includes(E):D===E}function xn(D,E){const V=In(E);return In(D).forEach(X=>{cn(V,X)||V.push(X)}),V}function Sn(D,E){return In(E).filter(V=>!cn(D,V))}class wn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(E){this._rawValidators=E||[],this._composedValidatorFn=ft(this._rawValidators)}_setAsyncValidators(E){this._rawAsyncValidators=E||[],this._composedAsyncValidatorFn=at(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(E){this._onDestroyCallbacks.push(E)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(E=>E()),this._onDestroyCallbacks=[]}reset(E=void 0){this.control&&this.control.reset(E)}hasError(E,V){return!!this.control&&this.control.hasError(E,V)}getError(E,V){return this.control?this.control.getError(E,V):null}}class On extends wn{get formDirective(){return null}get path(){return null}}class Bn extends wn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Or{constructor(E){this._cd=E}get isTouched(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.touched)}get isUntouched(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.untouched)}get isPristine(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.pristine)}get isDirty(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.dirty)}get isValid(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.valid)}get isInvalid(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.invalid)}get isPending(){var E;return!(null===(E=this._cd)||void 0===E||null===(E=E.control)||void 0===E||!E.pending)}get isSubmitted(){var E;return!(null===(E=this._cd)||void 0===E||!E.submitted)}}let un=(()=>{var D;class E extends Or{constructor(P){super(P)}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(Bn,2))},D.\u0275dir=g.lG2({type:D,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,X){2&P&&g.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[g.qOj]}),E})(),Pn=(()=>{var D;class E extends Or{constructor(P){super(P)}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(On,10))},D.\u0275dir=g.lG2({type:D,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,X){2&P&&g.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[g.qOj]}),E})();const Wr="VALID",vr="INVALID",Ar="PENDING",qn="DISABLED";function Ve(D){return(oe(D)?D.validators:D)||null}function J(D,E){return(oe(E)?E.asyncValidators:D)||null}function oe(D){return null!=D&&!Array.isArray(D)&&"object"==typeof D}function Ge(D,E,V){const P=D.controls;if(!(E?Object.keys(P):P).length)throw new g.vHH(1e3,"");if(!P[V])throw new g.vHH(1001,"")}function Et(D,E,V){D._forEachChild((P,X)=>{if(void 0===V[X])throw new g.vHH(1002,"")})}class Bt{constructor(E,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(E),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(E){this._rawValidators=this._composedValidatorFn=E}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(E){this._rawAsyncValidators=this._composedAsyncValidatorFn=E}get parent(){return this._parent}get valid(){return this.status===Wr}get invalid(){return this.status===vr}get pending(){return this.status==Ar}get disabled(){return this.status===qn}get enabled(){return this.status!==qn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(E){this._assignValidators(E)}setAsyncValidators(E){this._assignAsyncValidators(E)}addValidators(E){this.setValidators(xn(E,this._rawValidators))}addAsyncValidators(E){this.setAsyncValidators(xn(E,this._rawAsyncValidators))}removeValidators(E){this.setValidators(Sn(E,this._rawValidators))}removeAsyncValidators(E){this.setAsyncValidators(Sn(E,this._rawAsyncValidators))}hasValidator(E){return cn(this._rawValidators,E)}hasAsyncValidator(E){return cn(this._rawAsyncValidators,E)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(E={}){this.touched=!0,this._parent&&!E.onlySelf&&this._parent.markAsTouched(E)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(E=>E.markAllAsTouched())}markAsUntouched(E={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}markAsDirty(E={}){this.pristine=!1,this._parent&&!E.onlySelf&&this._parent.markAsDirty(E)}markAsPristine(E={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}markAsPending(E={}){this.status=Ar,!1!==E.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!E.onlySelf&&this._parent.markAsPending(E)}disable(E={}){const V=this._parentMarkedDirty(E.onlySelf);this.status=qn,this.errors=null,this._forEachChild(P=>{P.disable({...E,onlySelf:!0})}),this._updateValue(),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...E,skipPristineCheck:V}),this._onDisabledChange.forEach(P=>P(!0))}enable(E={}){const V=this._parentMarkedDirty(E.onlySelf);this.status=Wr,this._forEachChild(P=>{P.enable({...E,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent}),this._updateAncestors({...E,skipPristineCheck:V}),this._onDisabledChange.forEach(P=>P(!1))}_updateAncestors(E){this._parent&&!E.onlySelf&&(this._parent.updateValueAndValidity(E),E.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(E){this._parent=E}getRawValue(){return this.value}updateValueAndValidity(E={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wr||this.status===Ar)&&this._runAsyncValidator(E.emitEvent)),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!E.onlySelf&&this._parent.updateValueAndValidity(E)}_updateTreeValidity(E={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(E)),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qn:Wr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(E){if(this.asyncValidator){this.status=Ar,this._hasOwnPendingAsyncValidator=!0;const V=Fe(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(P=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(P,{emitEvent:E})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(E,V={}){this.errors=E,this._updateControlsErrors(!1!==V.emitEvent)}get(E){let V=E;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((P,X)=>P&&P._find(X),this)}getError(E,V){const P=V?this.get(V):this;return P&&P.errors?P.errors[E]:null}hasError(E,V){return!!this.getError(E,V)}get root(){let E=this;for(;E._parent;)E=E._parent;return E}_updateControlsErrors(E){this.status=this._calculateStatus(),E&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(E)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?qn:this.errors?vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ar)?Ar:this._anyControlsHaveStatus(vr)?vr:Wr}_anyControlsHaveStatus(E){return this._anyControls(V=>V.status===E)}_anyControlsDirty(){return this._anyControls(E=>E.dirty)}_anyControlsTouched(){return this._anyControls(E=>E.touched)}_updatePristine(E={}){this.pristine=!this._anyControlsDirty(),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}_updateTouched(E={}){this.touched=this._anyControlsTouched(),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}_registerOnCollectionChange(E){this._onCollectionChange=E}_setUpdateStrategy(E){oe(E)&&null!=E.updateOn&&(this._updateOn=E.updateOn)}_parentMarkedDirty(E){return!E&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(E){return null}_assignValidators(E){this._rawValidators=Array.isArray(E)?E.slice():E,this._composedValidatorFn=function re(D){return Array.isArray(D)?ft(D):D||null}(this._rawValidators)}_assignAsyncValidators(E){this._rawAsyncValidators=Array.isArray(E)?E.slice():E,this._composedAsyncValidatorFn=function Pe(D){return Array.isArray(D)?at(D):D||null}(this._rawAsyncValidators)}}class on extends Bt{constructor(E,V,P){super(Ve(V),J(P,V)),this.controls=E,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(E,V){return this.controls[E]?this.controls[E]:(this.controls[E]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(E,V,P={}){this.registerControl(E,V),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}removeControl(E,V={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(E,V,P={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],V&&this.registerControl(E,V),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}contains(E){return this.controls.hasOwnProperty(E)&&this.controls[E].enabled}setValue(E,V={}){Et(this,0,E),Object.keys(E).forEach(P=>{Ge(this,!0,P),this.controls[P].setValue(E[P],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(E,V={}){null!=E&&(Object.keys(E).forEach(P=>{const X=this.controls[P];X&&X.patchValue(E[P],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(E={},V={}){this._forEachChild((P,X)=>{P.reset(E[X],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(E,V,P)=>(E[P]=V.getRawValue(),E))}_syncPendingControls(){let E=this._reduceChildren(!1,(V,P)=>!!P._syncPendingControls()||V);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_forEachChild(E){Object.keys(this.controls).forEach(V=>{const P=this.controls[V];P&&E(P,V)})}_setUpControls(){this._forEachChild(E=>{E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(E){for(const[V,P]of Object.entries(this.controls))if(this.contains(V)&&E(P))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,P,X)=>((P.enabled||this.disabled)&&(V[X]=P.value),V))}_reduceChildren(E,V){let P=E;return this._forEachChild((X,ut)=>{P=V(P,X,ut)}),P}_allControlsDisabled(){for(const E of Object.keys(this.controls))if(this.controls[E].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(E){return this.controls.hasOwnProperty(E)?this.controls[E]:null}}class Fn extends on{}const fr=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yi}),yi="always";function Ai(D,E){return[...E.path,D]}function bt(D,E,V=yi){var P,X;yn(D,E),E.valueAccessor.writeValue(D.value),(D.disabled||"always"===V)&&(null===(P=(X=E.valueAccessor).setDisabledState)||void 0===P||P.call(X,D.disabled)),function Qn(D,E){E.valueAccessor.registerOnChange(V=>{D._pendingValue=V,D._pendingChange=!0,D._pendingDirty=!0,"change"===D.updateOn&&_r(D,E)})}(D,E),function Mr(D,E){const V=(P,X)=>{E.valueAccessor.writeValue(P),X&&E.viewToModelUpdate(P)};D.registerOnChange(V),E._registerOnDestroy(()=>{D._unregisterOnChange(V)})}(D,E),function yr(D,E){E.valueAccessor.registerOnTouched(()=>{D._pendingTouched=!0,"blur"===D.updateOn&&D._pendingChange&&_r(D,E),"submit"!==D.updateOn&&D.markAsTouched()})}(D,E),function hn(D,E){if(E.valueAccessor.setDisabledState){const V=P=>{E.valueAccessor.setDisabledState(P)};D.registerOnDisabledChange(V),E._registerOnDestroy(()=>{D._unregisterOnDisabledChange(V)})}}(D,E)}function rt(D,E,V=!0){const P=()=>{};E.valueAccessor&&(E.valueAccessor.registerOnChange(P),E.valueAccessor.registerOnTouched(P)),Xt(D,E),D&&(E._invokeOnDestroyCallbacks(),D._registerOnCollectionChange(()=>{}))}function Ot(D,E){D.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(E)})}function yn(D,E){const V=Ct(D);null!==E.validator?D.setValidators(St(V,E.validator)):"function"==typeof V&&D.setValidators([V]);const P=qt(D);null!==E.asyncValidator?D.setAsyncValidators(St(P,E.asyncValidator)):"function"==typeof P&&D.setAsyncValidators([P]);const X=()=>D.updateValueAndValidity();Ot(E._rawValidators,X),Ot(E._rawAsyncValidators,X)}function Xt(D,E){let V=!1;if(null!==D){if(null!==E.validator){const X=Ct(D);if(Array.isArray(X)&&X.length>0){const ut=X.filter(v=>v!==E.validator);ut.length!==X.length&&(V=!0,D.setValidators(ut))}}if(null!==E.asyncValidator){const X=qt(D);if(Array.isArray(X)&&X.length>0){const ut=X.filter(v=>v!==E.asyncValidator);ut.length!==X.length&&(V=!0,D.setAsyncValidators(ut))}}}const P=()=>{};return Ot(E._rawValidators,P),Ot(E._rawAsyncValidators,P),V}function _r(D,E){D._pendingDirty&&D.markAsDirty(),D.setValue(D._pendingValue,{emitModelToViewChange:!1}),E.viewToModelUpdate(D._pendingValue),D._pendingChange=!1}function $r(D,E){yn(D,E)}function Ci(D,E){if(!D.hasOwnProperty("model"))return!1;const V=D.model;return!!V.isFirstChange()||!Object.is(E,V.currentValue)}function lr(D,E){D._syncPendingControls(),E.forEach(V=>{const P=V.control;"submit"===P.updateOn&&P._pendingChange&&(V.viewToModelUpdate(P._pendingValue),P._pendingChange=!1)})}function Fi(D,E){if(!E)return null;let V,P,X;return Array.isArray(E),E.forEach(ut=>{ut.constructor===ve?V=ut:function Ti(D){return Object.getPrototypeOf(D.constructor)===ke}(ut)?P=ut:X=ut}),X||P||V||null}const Ui={provide:On,useExisting:(0,g.Gpc)(()=>ee)},Cr=(()=>Promise.resolve())();let ee=(()=>{var D;class E extends On{constructor(P,X,ut){super(),this.callSetDisabledState=ut,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new on({},ft(P),at(X))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){Cr.then(()=>{const X=this._findContainer(P.path);P.control=X.registerControl(P.name,P.control),bt(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){Cr.then(()=>{const X=this._findContainer(P.path);X&&X.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){Cr.then(()=>{const X=this._findContainer(P.path),ut=new on({});$r(ut,P),X.registerControl(P.name,ut),ut.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){Cr.then(()=>{const X=this._findContainer(P.path);X&&X.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,X){Cr.then(()=>{this.form.get(P.path).setValue(X)})}setValue(P){this.control.setValue(P)}onSubmit(P){var X;return this.submitted=!0,lr(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===(null==P||null===(X=P.target)||void 0===X?void 0:X.method)}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(Se,10),g.Y36(ye,10),g.Y36(fr,8))},D.\u0275dir=g.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(P,X){1&P&&g.NdJ("submit",function(v){return X.onSubmit(v)})("reset",function(){return X.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Ui]),g.qOj]}),E})();function K(D,E){const V=D.indexOf(E);V>-1&&D.splice(V,1)}function Ee(D){return"object"==typeof D&&null!==D&&2===Object.keys(D).length&&"value"in D&&"disabled"in D}const Ne=class extends Bt{constructor(E=null,V,P){super(Ve(V),J(P,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(E),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Ee(E)?E.value:E)}setValue(E,V={}){this.value=this._pendingValue=E,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(P=>P(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(E,V={}){this.setValue(E,V)}reset(E=this.defaultValue,V={}){this._applyFormState(E),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(E){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(E){this._onChange.push(E)}_unregisterOnChange(E){K(this._onChange,E)}registerOnDisabledChange(E){this._onDisabledChange.push(E)}_unregisterOnDisabledChange(E){K(this._onDisabledChange,E)}_forEachChild(E){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(E){Ee(E)?(this.value=this._pendingValue=E.value,E.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=E}};let At=(()=>{var D;class E extends On{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ai(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(D=E).\u0275fac=function(){let V;return function(X){return(V||(V=g.n5z(D)))(X||D)}}(),D.\u0275dir=g.lG2({type:D,features:[g.qOj]}),E})();const nr={provide:Bn,useExisting:(0,g.Gpc)(()=>Ye)},Qe=(()=>Promise.resolve())();let Ye=(()=>{var D;class E extends Bn{constructor(P,X,ut,v,L,_){super(),this._changeDetectorRef=L,this.callSetDisabledState=_,this.control=new Ne,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=P,this._setValidators(X),this._setAsyncValidators(ut),this.valueAccessor=Fi(0,v)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const X=P.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),Ci(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Qe.then(()=>{var X;this.control.setValue(P,{emitViewToModelChange:!1}),null===(X=this._changeDetectorRef)||void 0===X||X.markForCheck()})}_updateDisabled(P){const X=P.isDisabled.currentValue,ut=0!==X&&(0,g.VuI)(X);Qe.then(()=>{var v;ut&&!this.control.disabled?this.control.disable():!ut&&this.control.disabled&&this.control.enable(),null===(v=this._changeDetectorRef)||void 0===v||v.markForCheck()})}_getPath(P){return this._parent?Ai(P,this._parent):[P]}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(On,9),g.Y36(Se,10),g.Y36(ye,10),g.Y36(Ke,10),g.Y36(g.sBO,8),g.Y36(fr,8))},D.\u0275dir=g.lG2({type:D,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([nr]),g.qOj,g.TTD]}),E})(),st=(()=>{var D;class E{}return(D=E).\u0275fac=function(P){return new(P||D)},D.\u0275dir=g.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})(),$n=(()=>{var D;class E{}return(D=E).\u0275fac=function(P){return new(P||D)},D.\u0275mod=g.oAB({type:D}),D.\u0275inj=g.cJS({}),E})();const Cs=new g.OlP("NgModelWithFormControlWarning"),Yr={provide:On,useExisting:(0,g.Gpc)(()=>tn)};let tn=(()=>{var D;class E extends On{constructor(P,X,ut){super(),this.callSetDisabledState=ut,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(P),this._setAsyncValidators(X)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const X=this.form.get(P.path);return bt(X,P,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),X}getControl(P){return this.form.get(P.path)}removeControl(P){rt(P.control||null,P,!1),function ci(D,E){const V=D.indexOf(E);V>-1&&D.splice(V,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,X){this.form.get(P.path).setValue(X)}onSubmit(P){var X;return this.submitted=!0,lr(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===(null==P||null===(X=P.target)||void 0===X?void 0:X.method)}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const X=P.control,ut=this.form.get(P.path);X!==ut&&(rt(X||null,P),(D=>D instanceof Ne)(ut)&&(bt(ut,P,this.callSetDisabledState),P.control=ut))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const X=this.form.get(P.path);$r(X,P),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const X=this.form.get(P.path);X&&function Er(D,E){return Xt(D,E)}(X,P)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yn(this.form,this),this._oldForm&&Xt(this._oldForm,this)}_checkFormPresent(){}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(Se,10),g.Y36(ye,10),g.Y36(fr,8))},D.\u0275dir=g.lG2({type:D,selectors:[["","formGroup",""]],hostBindings:function(P,X){1&P&&g.NdJ("submit",function(v){return X.onSubmit(v)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Yr]),g.qOj,g.TTD]}),E})();const Kn={provide:On,useExisting:(0,g.Gpc)(()=>dr)};let dr=(()=>{var D;class E extends At{constructor(P,X,ut){super(),this.name=null,this._parent=P,this._setValidators(X),this._setAsyncValidators(ut)}_checkParentType(){ji(this._parent)}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(On,13),g.Y36(Se,10),g.Y36(ye,10))},D.\u0275dir=g.lG2({type:D,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[g._Bn([Kn]),g.qOj]}),E})();const Li={provide:On,useExisting:(0,g.Gpc)(()=>Ji)};let Ji=(()=>{var D;class E extends On{constructor(P,X,ut){super(),this.name=null,this._parent=P,this._setValidators(X),this._setAsyncValidators(ut)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ai(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ji(this._parent)}}return(D=E).\u0275fac=function(P){return new(P||D)(g.Y36(On,13),g.Y36(Se,10),g.Y36(ye,10))},D.\u0275dir=g.lG2({type:D,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[g._Bn([Li]),g.qOj]}),E})();function ji(D){return!(D instanceof dr||D instanceof tn||D instanceof Ji)}const cs={provide:Bn,useExisting:(0,g.Gpc)(()=>Zr)};let Zr=(()=>{var D;class E extends Bn{set isDisabled(P){}constructor(P,X,ut,v,L){super(),this._ngModelWarningConfig=L,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(X),this._setAsyncValidators(ut),this.valueAccessor=Fi(0,v)}ngOnChanges(P){this._added||this._setUpControl(),Ci(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return Ai(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(D=E)._ngModelWarningSentOnce=!1,D.\u0275fac=function(P){return new(P||D)(g.Y36(On,13),g.Y36(Se,10),g.Y36(ye,10),g.Y36(Ke,10),g.Y36(Cs,8))},D.\u0275dir=g.lG2({type:D,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([cs]),g.qOj,g.TTD]}),E})();function Ts(D){return"number"==typeof D?D:parseFloat(D)}let es=(()=>{var D;class E{constructor(){this._validator=ue}ngOnChanges(P){if(this.inputName in P){const X=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):ue,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}}return(D=E).\u0275fac=function(P){return new(P||D)},D.\u0275dir=g.lG2({type:D,features:[g.TTD]}),E})();const ho={provide:Se,useExisting:(0,g.Gpc)(()=>Ss),multi:!0};let Ss=(()=>{var D;class E extends es{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=P=>Ts(P),this.createValidator=P=>ct(P)}}return(D=E).\u0275fac=function(){let V;return function(X){return(V||(V=g.n5z(D)))(X||D)}}(),D.\u0275dir=g.lG2({type:D,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(P,X){2&P&&g.uIk("max",X._enabled?X.max:null)},inputs:{max:"max"},features:[g._Bn([ho]),g.qOj]}),E})();const or={provide:Se,useExisting:(0,g.Gpc)(()=>ms),multi:!0};let ms=(()=>{var D;class E extends es{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=P=>Ts(P),this.createValidator=P=>ze(P)}}return(D=E).\u0275fac=function(){let V;return function(X){return(V||(V=g.n5z(D)))(X||D)}}(),D.\u0275dir=g.lG2({type:D,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(P,X){2&P&&g.uIk("min",X._enabled?X.min:null)},inputs:{min:"min"},features:[g._Bn([or]),g.qOj]}),E})();const ks={provide:Se,useExisting:(0,g.Gpc)(()=>qr),multi:!0};let qr=(()=>{var D;class E extends es{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=P=>ht}enabled(P){return P}}return(D=E).\u0275fac=function(){let V;return function(X){return(V||(V=g.n5z(D)))(X||D)}}(),D.\u0275dir=g.lG2({type:D,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(P,X){2&P&&g.uIk("required",X._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([ks]),g.qOj]}),E})();const Hi={provide:Se,useExisting:(0,g.Gpc)(()=>Ii),multi:!0};let Ii=(()=>{var D;class E extends es{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=P=>function wo(D){return"number"==typeof D?D:parseInt(D,10)}(P),this.createValidator=P=>Qt(P)}}return(D=E).\u0275fac=function(){let V;return function(X){return(V||(V=g.n5z(D)))(X||D)}}(),D.\u0275dir=g.lG2({type:D,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(P,X){2&P&&g.uIk("maxlength",X._enabled?X.maxlength:null)},inputs:{maxlength:"maxlength"},features:[g._Bn([Hi]),g.qOj]}),E})(),no=(()=>{var D;class E{}return(D=E).\u0275fac=function(P){return new(P||D)},D.\u0275mod=g.oAB({type:D}),D.\u0275inj=g.cJS({imports:[$n]}),E})();class ao extends Bt{constructor(E,V,P){super(Ve(V),J(P,V)),this.controls=E,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(E){return this.controls[this._adjustIndex(E)]}push(E,V={}){this.controls.push(E),this._registerControl(E),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(E,V,P={}){this.controls.splice(E,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:P.emitEvent})}removeAt(E,V={}){let P=this._adjustIndex(E);P<0&&(P=0),this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(E,V,P={}){let X=this._adjustIndex(E);X<0&&(X=0),this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),this.controls.splice(X,1),V&&(this.controls.splice(X,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(E,V={}){Et(this,0,E),E.forEach((P,X)=>{Ge(this,!1,X),this.at(X).setValue(P,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(E,V={}){null!=E&&(E.forEach((P,X)=>{this.at(X)&&this.at(X).patchValue(P,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(E=[],V={}){this._forEachChild((P,X)=>{P.reset(E[X],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(E=>E.getRawValue())}clear(E={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:E.emitEvent}))}_adjustIndex(E){return E<0?E+this.length:E}_syncPendingControls(){let E=this.controls.reduce((V,P)=>!!P._syncPendingControls()||V,!1);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_forEachChild(E){this.controls.forEach((V,P)=>{E(V,P)})}_updateValue(){this.value=this.controls.filter(E=>E.enabled||this.disabled).map(E=>E.value)}_anyControls(E){return this.controls.some(V=>V.enabled&&E(V))}_setUpControls(){this._forEachChild(E=>this._registerControl(E))}_allControlsDisabled(){for(const E of this.controls)if(E.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(E){E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)}_find(E){var V;return null!==(V=this.at(E))&&void 0!==V?V:null}}function Zs(D){return!!D&&(void 0!==D.asyncValidators||void 0!==D.validators||void 0!==D.updateOn)}let ro=(()=>{var D;class E{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new E;return P.useNonNullable=!0,P}group(P,X=null){const ut=this._reduceControls(P);let v={};return Zs(X)?v=X:null!==X&&(v.validators=X.validator,v.asyncValidators=X.asyncValidator),new on(ut,v)}record(P,X=null){const ut=this._reduceControls(P);return new Fn(ut,X)}control(P,X,ut){let v={};return this.useNonNullable?(Zs(X)?v=X:(v.validators=X,v.asyncValidators=ut),new Ne(P,{...v,nonNullable:!0})):new Ne(P,X,ut)}array(P,X,ut){const v=P.map(L=>this._createControl(L));return new ao(v,X,ut)}_reduceControls(P){const X={};return Object.keys(P).forEach(ut=>{X[ut]=this._createControl(P[ut])}),X}_createControl(P){return P instanceof Ne||P instanceof Bt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}}return(D=E).\u0275fac=function(P){return new(P||D)},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),E})(),W=(()=>{var D;class E{static withConfig(P){var X;return{ngModule:E,providers:[{provide:fr,useValue:null!==(X=P.callSetDisabledState)&&void 0!==X?X:yi}]}}}return(D=E).\u0275fac=function(P){return new(P||D)},D.\u0275mod=g.oAB({type:D}),D.\u0275inj=g.cJS({imports:[no]}),E})(),z=(()=>{var D;class E{static withConfig(P){var X,ut;return{ngModule:E,providers:[{provide:Cs,useValue:null!==(X=P.warnOnNgModelWithFormControl)&&void 0!==X?X:"always"},{provide:fr,useValue:null!==(ut=P.callSetDisabledState)&&void 0!==ut?ut:yi}]}}}return(D=E).\u0275fac=function(P){return new(P||D)},D.\u0275mod=g.oAB({type:D}),D.\u0275inj=g.cJS({imports:[no]}),E})()},6593:(en,nt,O)=>{"use strict";O.d(nt,{Dx:()=>Bn,b2:()=>cn,q6:()=>St});var g=O(5879),p=O(6814);class Q extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends Q{static makeCurrent(){(0,p.HT)(new le)}onAndCancel(J,Pe,oe){return J.addEventListener(Pe,oe),()=>{J.removeEventListener(Pe,oe)}}dispatchEvent(J,Pe){J.dispatchEvent(Pe)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,Pe){return(Pe=Pe||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,Pe){return"window"===Pe?window:"document"===Pe?J:"body"===Pe?J.body:null}getBaseHref(J){const Pe=function Ce(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==Pe?null:function qe(re){fe=fe||document.createElement("a"),fe.setAttribute("href",re);const J=fe.pathname;return"/"===J.charAt(0)?J:`/${J}`}(Pe)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,p.Mx)(document.cookie,J)}}let fe,we=null,_e=(()=>{var re;class J{build(){return new XMLHttpRequest}}return(re=J).\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac}),J})();const se=new g.OlP("EventManagerPlugins");let Oe=(()=>{var re;class J{constructor(oe,Ge){this._zone=Ge,this._eventNameToPlugin=new Map,oe.forEach(Et=>{Et.manager=this}),this._plugins=oe.slice().reverse()}addEventListener(oe,Ge,Et){return this._findPluginFor(Ge).addEventListener(oe,Ge,Et)}getZone(){return this._zone}_findPluginFor(oe){let Ge=this._eventNameToPlugin.get(oe);if(Ge)return Ge;if(Ge=this._plugins.find(Bt=>Bt.supports(oe)),!Ge)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(oe,Ge),Ge}}return(re=J).\u0275fac=function(oe){return new(oe||re)(g.LFG(se),g.LFG(g.R0b))},re.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac}),J})();class xe{constructor(J){this._doc=J}}const ke="ng-app-id";let Ke=(()=>{var re;class J{constructor(oe,Ge,Et,Bt={}){this.doc=oe,this.appId=Ge,this.nonce=Et,this.platformId=Bt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,p.PM)(Bt),this.resetHostNodes()}addStyles(oe){for(const Ge of oe)1===this.changeUsageCount(Ge,1)&&this.onStyleAdded(Ge)}removeStyles(oe){for(const Ge of oe)this.changeUsageCount(Ge,-1)<=0&&this.onStyleRemoved(Ge)}ngOnDestroy(){const oe=this.styleNodesInDOM;oe&&(oe.forEach(Ge=>Ge.remove()),oe.clear());for(const Ge of this.getAllStyles())this.onStyleRemoved(Ge);this.resetHostNodes()}addHost(oe){this.hostNodes.add(oe);for(const Ge of this.getAllStyles())this.addStyleToHost(oe,Ge)}removeHost(oe){this.hostNodes.delete(oe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(oe){for(const Ge of this.hostNodes)this.addStyleToHost(Ge,oe)}onStyleRemoved(oe){var Ge;const Et=this.styleRef;null===(Ge=Et.get(oe))||void 0===Ge||null===(Ge=Ge.elements)||void 0===Ge||Ge.forEach(Bt=>Bt.remove()),Et.delete(oe)}collectServerRenderedStyles(){var oe;const Ge=null===(oe=this.doc.head)||void 0===oe?void 0:oe.querySelectorAll(`style[${ke}="${this.appId}"]`);if(null!=Ge&&Ge.length){const Et=new Map;return Ge.forEach(Bt=>{null!=Bt.textContent&&Et.set(Bt.textContent,Bt)}),Et}return null}changeUsageCount(oe,Ge){const Et=this.styleRef;if(Et.has(oe)){const Bt=Et.get(oe);return Bt.usage+=Ge,Bt.usage}return Et.set(oe,{usage:Ge,elements:[]}),Ge}getStyleElement(oe,Ge){const Et=this.styleNodesInDOM,Bt=null==Et?void 0:Et.get(Ge);if((null==Bt?void 0:Bt.parentNode)===oe)return Et.delete(Ge),Bt.removeAttribute(ke),Bt;{const on=this.doc.createElement("style");return this.nonce&&on.setAttribute("nonce",this.nonce),on.textContent=Ge,this.platformIsServer&&on.setAttribute(ke,this.appId),on}}addStyleToHost(oe,Ge){var Et;const Bt=this.getStyleElement(oe,Ge);oe.appendChild(Bt);const on=this.styleRef,vn=null===(Et=on.get(Ge))||void 0===Et?void 0:Et.elements;vn?vn.push(Bt):on.set(Ge,{elements:[Bt],usage:1})}resetHostNodes(){const oe=this.hostNodes;oe.clear(),oe.add(this.doc.head)}}return(re=J).\u0275fac=function(oe){return new(oe||re)(g.LFG(p.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},re.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac}),J})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Re=/%COMP%/g,ge=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ye(re,J){return J.map(Pe=>Pe.replace(Re,re))}let Me=(()=>{var re;class J{constructor(oe,Ge,Et,Bt,on,vn,ln,Fn=null){this.eventManager=oe,this.sharedStylesHost=Ge,this.appId=Et,this.removeStylesOnCompDestroy=Bt,this.doc=on,this.platformId=vn,this.ngZone=ln,this.nonce=Fn,this.rendererByCompId=new Map,this.platformIsServer=(0,p.PM)(vn),this.defaultRenderer=new Le(oe,on,ln,this.platformIsServer)}createRenderer(oe,Ge){if(!oe||!Ge)return this.defaultRenderer;this.platformIsServer&&Ge.encapsulation===g.ifc.ShadowDom&&(Ge={...Ge,encapsulation:g.ifc.Emulated});const Et=this.getOrCreateRenderer(oe,Ge);return Et instanceof Tn?Et.applyToHost(oe):Et instanceof jt&&Et.applyStyles(),Et}getOrCreateRenderer(oe,Ge){const Et=this.rendererByCompId;let Bt=Et.get(Ge.id);if(!Bt){const on=this.doc,vn=this.ngZone,ln=this.eventManager,Fn=this.sharedStylesHost,br=this.removeStylesOnCompDestroy,fr=this.platformIsServer;switch(Ge.encapsulation){case g.ifc.Emulated:Bt=new Tn(ln,Fn,Ge,this.appId,br,on,vn,fr);break;case g.ifc.ShadowDom:return new It(ln,Fn,oe,Ge,on,vn,this.nonce,fr);default:Bt=new jt(ln,Fn,Ge,br,on,vn,fr)}Et.set(Ge.id,Bt)}return Bt}ngOnDestroy(){this.rendererByCompId.clear()}}return(re=J).\u0275fac=function(oe){return new(oe||re)(g.LFG(Oe),g.LFG(Ke),g.LFG(g.AFp),g.LFG(ge),g.LFG(p.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},re.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac}),J})();class Le{constructor(J,Pe,oe,Ge){this.eventManager=J,this.doc=Pe,this.ngZone=oe,this.platformIsServer=Ge,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,Pe){return Pe?this.doc.createElementNS(lt[Pe]||Pe,J):this.doc.createElement(J)}createComment(J){return this.doc.createComment(J)}createText(J){return this.doc.createTextNode(J)}appendChild(J,Pe){(ht(J)?J.content:J).appendChild(Pe)}insertBefore(J,Pe,oe){J&&(ht(J)?J.content:J).insertBefore(Pe,oe)}removeChild(J,Pe){J&&J.removeChild(Pe)}selectRootElement(J,Pe){let oe="string"==typeof J?this.doc.querySelector(J):J;if(!oe)throw new g.vHH(-5104,!1);return Pe||(oe.textContent=""),oe}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,Pe,oe,Ge){if(Ge){Pe=Ge+":"+Pe;const Et=lt[Ge];Et?J.setAttributeNS(Et,Pe,oe):J.setAttribute(Pe,oe)}else J.setAttribute(Pe,oe)}removeAttribute(J,Pe,oe){if(oe){const Ge=lt[oe];Ge?J.removeAttributeNS(Ge,Pe):J.removeAttribute(`${oe}:${Pe}`)}else J.removeAttribute(Pe)}addClass(J,Pe){J.classList.add(Pe)}removeClass(J,Pe){J.classList.remove(Pe)}setStyle(J,Pe,oe,Ge){Ge&(g.JOm.DashCase|g.JOm.Important)?J.style.setProperty(Pe,oe,Ge&g.JOm.Important?"important":""):J.style[Pe]=oe}removeStyle(J,Pe,oe){oe&g.JOm.DashCase?J.style.removeProperty(Pe):J.style[Pe]=""}setProperty(J,Pe,oe){J[Pe]=oe}setValue(J,Pe){J.nodeValue=Pe}listen(J,Pe,oe){if("string"==typeof J&&!(J=(0,p.q)().getGlobalEventTarget(this.doc,J)))throw new Error(`Unsupported event target ${J} for event ${Pe}`);return this.eventManager.addEventListener(J,Pe,this.decoratePreventDefault(oe))}decoratePreventDefault(J){return Pe=>{if("__ngUnwrap__"===Pe)return J;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>J(Pe)):J(Pe))&&Pe.preventDefault()}}}function ht(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class It extends Le{constructor(J,Pe,oe,Ge,Et,Bt,on,vn){super(J,Et,Bt,vn),this.sharedStylesHost=Pe,this.hostEl=oe,this.shadowRoot=oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ln=ye(Ge.id,Ge.styles);for(const Fn of ln){const br=document.createElement("style");on&&br.setAttribute("nonce",on),br.textContent=Fn,this.shadowRoot.appendChild(br)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,Pe){return super.appendChild(this.nodeOrShadowRoot(J),Pe)}insertBefore(J,Pe,oe){return super.insertBefore(this.nodeOrShadowRoot(J),Pe,oe)}removeChild(J,Pe){return super.removeChild(this.nodeOrShadowRoot(J),Pe)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jt extends Le{constructor(J,Pe,oe,Ge,Et,Bt,on,vn){super(J,Et,Bt,on),this.sharedStylesHost=Pe,this.removeStylesOnCompDestroy=Ge,this.styles=vn?ye(vn,oe.styles):oe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Tn extends jt{constructor(J,Pe,oe,Ge,Et,Bt,on,vn){const ln=Ge+"-"+oe.id;super(J,Pe,oe,Et,Bt,on,vn,ln),this.contentAttr=function me(re){return"_ngcontent-%COMP%".replace(Re,re)}(ln),this.hostAttr=function Se(re){return"_nghost-%COMP%".replace(Re,re)}(ln)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,Pe){const oe=super.createElement(J,Pe);return super.setAttribute(oe,this.contentAttr,""),oe}}let Qt=(()=>{var re;class J extends xe{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,Ge,Et){return oe.addEventListener(Ge,Et,!1),()=>this.removeEventListener(oe,Ge,Et)}removeEventListener(oe,Ge,Et){return oe.removeEventListener(Ge,Et)}}return(re=J).\u0275fac=function(oe){return new(oe||re)(g.LFG(p.K0))},re.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac}),J})();const gt=["alt","control","meta","shift"],ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Fe=(()=>{var re;class J extends xe{constructor(oe){super(oe)}supports(oe){return null!=J.parseEventName(oe)}addEventListener(oe,Ge,Et){const Bt=J.parseEventName(Ge),on=J.eventCallback(Bt.fullKey,Et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(oe,Bt.domEventName,on))}static parseEventName(oe){const Ge=oe.toLowerCase().split("."),Et=Ge.shift();if(0===Ge.length||"keydown"!==Et&&"keyup"!==Et)return null;const Bt=J._normalizeKey(Ge.pop());let on="",vn=Ge.indexOf("code");if(vn>-1&&(Ge.splice(vn,1),on="code."),gt.forEach(Fn=>{const br=Ge.indexOf(Fn);br>-1&&(Ge.splice(br,1),on+=Fn+".")}),on+=Bt,0!=Ge.length||0===Bt.length)return null;const ln={};return ln.domEventName=Et,ln.fullKey=on,ln}static matchEventFullKeyCode(oe,Ge){let Et=ue[oe.key]||oe.key,Bt="";return Ge.indexOf("code.")>-1&&(Et=oe.code,Bt="code."),!(null==Et||!Et)&&(Et=Et.toLowerCase()," "===Et?Et="space":"."===Et&&(Et="dot"),gt.forEach(on=>{on!==Et&&(0,Ie[on])(oe)&&(Bt+=on+".")}),Bt+=Et,Bt===Ge)}static eventCallback(oe,Ge,Et){return Bt=>{J.matchEventFullKeyCode(Bt,oe)&&Et.runGuarded(()=>Ge(Bt))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}}return(re=J).\u0275fac=function(oe){return new(oe||re)(g.LFG(p.K0))},re.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac}),J})();const St=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:p.bD},{provide:g.g9A,useValue:function Yt(){le.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Te(){return(0,g.RDi)(document),document},deps:[]}]),Ct=new g.OlP(""),qt=[{provide:g.rWj,useClass:class Ue{addToWindow(J){g.dqk.getAngularTestability=(oe,Ge=!0)=>{const Et=J.findTestabilityInTree(oe,Ge);if(null==Et)throw new g.vHH(5103,!1);return Et},g.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(oe=>{const Ge=g.dqk.getAllAngularTestabilities();let Et=Ge.length,Bt=!1;const on=function(vn){Bt=Bt||vn,Et--,0==Et&&oe(Bt)};Ge.forEach(vn=>{vn.whenStable(on)})})}findTestabilityInTree(J,Pe,oe){if(null==Pe)return null;const Ge=J.getTestability(Pe);return null!=Ge?Ge:oe?(0,p.q)().isShadowRoot(Pe)?this.findTestabilityInTree(J,Pe.host,!0):this.findTestabilityInTree(J,Pe.parentElement,!0):null}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],In=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function ft(){return new g.qLn},deps:[]},{provide:se,useClass:Qt,multi:!0,deps:[p.K0,g.R0b,g.Lbi]},{provide:se,useClass:Fe,multi:!0,deps:[p.K0]},Me,Ke,Oe,{provide:g.FYo,useExisting:Me},{provide:p.JF,useClass:_e,deps:[]},[]];let cn=(()=>{var re;class J{constructor(oe){}static withServerTransition(oe){return{ngModule:J,providers:[{provide:g.AFp,useValue:oe.appId}]}}}return(re=J).\u0275fac=function(oe){return new(oe||re)(g.LFG(Ct,12))},re.\u0275mod=g.oAB({type:re}),re.\u0275inj=g.cJS({providers:[...In,...qt],imports:[p.ez,g.hGG]}),J})(),Bn=(()=>{var re;class J{constructor(oe){this._doc=oe}getTitle(){return this._doc.title}setTitle(oe){this._doc.title=oe||""}}return(re=J).\u0275fac=function(oe){return new(oe||re)(g.LFG(p.K0))},re.\u0275prov=g.Yz7({token:re,factory:function(oe){let Ge=null;return Ge=oe?new oe:function On(){return new Bn((0,g.LFG)(p.K0))}(),Ge},providedIn:"root"}),J})();typeof window<"u"&&window},2891:(en,nt,O)=>{"use strict";O.d(nt,{gz:()=>ii,y6:()=>st,OD:()=>Fi,eC:()=>Te,wm:()=>ys,wN:()=>er,F0:()=>Ms,rH:()=>ba,Od:()=>ur,Bz:()=>Aa,Hx:()=>Un});var g=O(5879),p=O(5592),Q=O(4674),we=O(2459),Ce=O(2096),fe=O(5619),qe=O(2572),Ue=O(6973),_e=O(5211),se=O(4829);function Oe(b){return new p.y(M=>{(0,se.Xf)(b()).subscribe(M)})}var xe=O(8407);function ke(b,M){const k=(0,Q.m)(b)?b:()=>b,T=F=>F.error(k());return new p.y(M?F=>M.schedule(T,0,F):T)}var Ke=O(6232),lt=O(7394),Re=O(9360),Ae=O(8251);function pe(){return(0,Re.e)((b,M)=>{let k=null;b._refCount++;const T=(0,Ae.x)(M,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(k=null);const F=b._connection,ne=k;k=null,F&&(!ne||F===ne)&&F.unsubscribe(),M.unsubscribe()});b.subscribe(T),T.closed||(k=b.connect())})}class _t extends p.y{constructor(M,k){super(),this.source=M,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,Re.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new lt.w0;const k=this.getSubject();M.add(this.source.subscribe((0,Ae.x)(k,void 0,()=>{this._teardown(),k.complete()},T=>{this._teardown(),k.error(T)},()=>this._teardown()))),M.closed&&(this._connection=null,M=lt.w0.EMPTY)}return M}refCount(){return pe()(this)}}var ve=O(8645),ge=O(6814),me=O(7398),Se=O(4664),ye=O(8180),Me=O(7921),Le=O(2181),ze=O(1631),ct=O(1374);function ht(b,M){return(0,Q.m)(M)?(0,ze.z)(b,M,1):(0,ze.z)(b,1)}var It=O(9397);function jt(b){return(0,Re.e)((M,k)=>{let ne,T=null,F=!1;T=M.subscribe((0,Ae.x)(k,void 0,void 0,de=>{ne=(0,se.Xf)(b(de,jt(b)(M))),T?(T.unsubscribe(),T=null,ne.subscribe(k)):F=!0})),F&&(T.unsubscribe(),T=null,ne.subscribe(k))})}var Tn=O(6699),Qt=O(3572);function gt(b){return b<=0?()=>Ke.E:(0,Re.e)((M,k)=>{let T=[];M.subscribe((0,Ae.x)(k,F=>{T.push(F),b<T.length&&T.shift()},()=>{for(const F of T)k.next(F);k.complete()},void 0,()=>{T=null}))})}var ue=O(3026),Ie=O(2737),tt=O(4716),Xe=O(2420),Yt=O(7537),ft=O(6593);const Te="primary",at=Symbol("RouteTitle");class St{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const k=this.params[M];return Array.isArray(k)?k[0]:k}return null}getAll(M){if(this.has(M)){const k=this.params[M];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function Ct(b){return new St(b)}function qt(b,M,k){const T=k.path.split("/");if(T.length>b.length||"full"===k.pathMatch&&(M.hasChildren()||T.length<b.length))return null;const F={};for(let ne=0;ne<T.length;ne++){const de=T[ne],dt=b[ne];if(de.startsWith(":"))F[de.substring(1)]=dt;else if(de!==dt.path)return null}return{consumed:b.slice(0,T.length),posParams:F}}function cn(b,M){const k=b?Object.keys(b):void 0,T=M?Object.keys(M):void 0;if(!k||!T||k.length!=T.length)return!1;let F;for(let ne=0;ne<k.length;ne++)if(F=k[ne],!xn(b[F],M[F]))return!1;return!0}function xn(b,M){if(Array.isArray(b)&&Array.isArray(M)){if(b.length!==M.length)return!1;const k=[...b].sort(),T=[...M].sort();return k.every((F,ne)=>T[ne]===F)}return b===M}function Sn(b){return b.length>0?b[b.length-1]:null}function wn(b){return function le(b){return!!b&&(b instanceof p.y||(0,Q.m)(b.lift)&&(0,Q.m)(b.subscribe))}(b)?b:(0,g.QGY)(b)?(0,we.D)(Promise.resolve(b)):(0,Ce.of)(b)}const On={exact:function gr(b,M,k){if(!ir(b.segments,M.segments)||!Yn(b.segments,M.segments,k)||b.numberOfChildren!==M.numberOfChildren)return!1;for(const T in M.children)if(!b.children[T]||!gr(b.children[T],M.children[T],k))return!1;return!0},subset:Pn},Bn={exact:function pr(b,M){return cn(b,M)},subset:function un(b,M){return Object.keys(M).length<=Object.keys(b).length&&Object.keys(M).every(k=>xn(b[k],M[k]))},ignored:()=>!0};function Or(b,M,k){return On[k.paths](b.root,M.root,k.matrixParams)&&Bn[k.queryParams](b.queryParams,M.queryParams)&&!("exact"===k.fragment&&b.fragment!==M.fragment)}function Pn(b,M,k){return mr(b,M,M.segments,k)}function mr(b,M,k,T){if(b.segments.length>k.length){const F=b.segments.slice(0,k.length);return!(!ir(F,k)||M.hasChildren()||!Yn(F,k,T))}if(b.segments.length===k.length){if(!ir(b.segments,k)||!Yn(b.segments,k,T))return!1;for(const F in M.children)if(!b.children[F]||!Pn(b.children[F],M.children[F],T))return!1;return!0}{const F=k.slice(0,b.segments.length),ne=k.slice(b.segments.length);return!!(ir(b.segments,F)&&Yn(b.segments,F,T)&&b.children[Te])&&mr(b.children[Te],M,ne,T)}}function Yn(b,M,k){return M.every((T,F)=>Bn[k](b[F].parameters,T.parameters))}class Lr{constructor(M=new Zt([],{}),k={},T=null){this.root=M,this.queryParams=k,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return Pr.serialize(this)}}class Zt{constructor(M,k){this.segments=M,this.children=k,this.parent=null,Object.values(k).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ri(this)}}class Hn{constructor(M,k){this.path=M,this.parameters=k}get parameterMap(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap}toString(){return Ar(this)}}function ir(b,M){return b.length===M.length&&b.every((k,T)=>k.path===M[T].path)}let Un=(()=>{var b;class M{}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return new mi},providedIn:"root"}),M})();class mi{parse(M){const k=new vn(M);return new Lr(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(M){const k=`/${Nr(M.root,!0)}`,T=function Ve(b){const M=Object.keys(b).map(k=>{const T=b[k];return Array.isArray(T)?T.map(F=>`${ti(k)}=${ti(F)}`).join("&"):`${ti(k)}=${ti(T)}`}).filter(k=>!!k);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${k}${T}${"string"==typeof M.fragment?`#${function Kr(b){return encodeURI(b)}(M.fragment)}`:""}`}}const Pr=new mi;function ri(b){return b.segments.map(M=>Ar(M)).join("/")}function Nr(b,M){if(!b.hasChildren())return ri(b);if(M){const k=b.children[Te]?Nr(b.children[Te],!1):"",T=[];return Object.entries(b.children).forEach(([F,ne])=>{F!==Te&&T.push(`${F}:${Nr(ne,!1)}`)}),T.length>0?`${k}(${T.join("//")})`:k}{const k=function li(b,M){let k=[];return Object.entries(b.children).forEach(([T,F])=>{T===Te&&(k=k.concat(M(F,T)))}),Object.entries(b.children).forEach(([T,F])=>{T!==Te&&(k=k.concat(M(F,T)))}),k}(b,(T,F)=>F===Te?[Nr(b.children[Te],!1)]:[`${F}:${Nr(T,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[Te]?`${ri(b)}/${k[0]}`:`${ri(b)}/(${k.join("//")})`}}function vi(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(b){return vi(b).replace(/%3B/gi,";")}function kr(b){return vi(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wr(b){return decodeURIComponent(b)}function vr(b){return Wr(b.replace(/\+/g,"%20"))}function Ar(b){return`${kr(b.path)}${function qn(b){return Object.keys(b).map(M=>`;${kr(M)}=${kr(b[M])}`).join("")}(b.parameters)}`}const re=/^[^\/()?;#]+/;function J(b){const M=b.match(re);return M?M[0]:""}const Pe=/^[^\/()?;=#]+/,Ge=/^[^=?&#]+/,Bt=/^[^&#]+/;class vn{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(M.length>0||Object.keys(k).length>0)&&(T[Te]=new Zt(M,k)),T}parseSegment(){const M=J(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(M),new Hn(Wr(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const k=function oe(b){const M=b.match(Pe);return M?M[0]:""}(this.remaining);if(!k)return;this.capture(k);let T="";if(this.consumeOptional("=")){const F=J(this.remaining);F&&(T=F,this.capture(T))}M[Wr(k)]=Wr(T)}parseQueryParam(M){const k=function Et(b){const M=b.match(Ge);return M?M[0]:""}(this.remaining);if(!k)return;this.capture(k);let T="";if(this.consumeOptional("=")){const de=function on(b){const M=b.match(Bt);return M?M[0]:""}(this.remaining);de&&(T=de,this.capture(T))}const F=vr(k),ne=vr(T);if(M.hasOwnProperty(F)){let de=M[F];Array.isArray(de)||(de=[de],M[F]=de),de.push(ne)}else M[F]=ne}parseParens(M){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=J(this.remaining),F=this.remaining[T.length];if("/"!==F&&")"!==F&&";"!==F)throw new g.vHH(4010,!1);let ne;T.indexOf(":")>-1?(ne=T.slice(0,T.indexOf(":")),this.capture(ne),this.capture(":")):M&&(ne=Te);const de=this.parseChildren();k[ne]=1===Object.keys(de).length?de[Te]:new Zt([],de),this.consumeOptional("//")}return k}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new g.vHH(4011,!1)}}function ln(b){return b.segments.length>0?new Zt([],{[Te]:b}):b}function Fn(b){const M={};for(const T of Object.keys(b.children)){const ne=Fn(b.children[T]);if(T===Te&&0===ne.segments.length&&ne.hasChildren())for(const[de,dt]of Object.entries(ne.children))M[de]=dt;else(ne.segments.length>0||ne.hasChildren())&&(M[T]=ne)}return function br(b){if(1===b.numberOfChildren&&b.children[Te]){const M=b.children[Te];return new Zt(b.segments.concat(M.segments),M.children)}return b}(new Zt(b.segments,M))}function fr(b){return b instanceof Lr}function Ai(b){var M;let k;const ne=ln(function T(de){const dt={};for(const wt of de.children){const He=T(wt);dt[wt.outlet]=He}const Wt=new Zt(de.url,dt);return de===b&&(k=Wt),Wt}(b.root));return null!==(M=k)&&void 0!==M?M:ne}function bt(b,M,k,T){let F=b;for(;F.parent;)F=F.parent;if(0===M.length)return hn(F,F,F,k,T);const ne=function Qn(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Xt(!0,0,b);let M=0,k=!1;const T=b.reduce((F,ne,de)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const dt={};return Object.entries(ne.outlets).forEach(([Wt,wt])=>{dt[Wt]="string"==typeof wt?wt.split("/"):wt}),[...F,{outlets:dt}]}if(ne.segmentPath)return[...F,ne.segmentPath]}return"string"!=typeof ne?[...F,ne]:0===de?(ne.split("/").forEach((dt,Wt)=>{0==Wt&&"."===dt||(0==Wt&&""===dt?k=!0:".."===dt?M++:""!=dt&&F.push(dt))}),F):[...F,ne]},[]);return new Xt(k,M,T)}(M);if(ne.toRoot())return hn(F,F,new Zt([],{}),k,T);const de=function _r(b,M,k){if(b.isAbsolute)return new yr(M,!0,0);if(!k)return new yr(M,!1,NaN);if(null===k.parent)return new yr(k,!0,0);const T=rt(b.commands[0])?0:1;return function Mr(b,M,k){let T=b,F=M,ne=k;for(;ne>F;){if(ne-=F,T=T.parent,!T)throw new g.vHH(4005,!1);F=T.segments.length}return new yr(T,!1,F-ne)}(k,k.segments.length-1+T,b.numberOfDoubleDots)}(ne,F,b),dt=de.processChildren?ar(de.segmentGroup,de.index,ne.commands):Er(de.segmentGroup,de.index,ne.commands);return hn(F,de.segmentGroup,dt,k,T)}function rt(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Ot(b){return"object"==typeof b&&null!=b&&b.outlets}function hn(b,M,k,T,F){let de,ne={};T&&Object.entries(T).forEach(([Wt,wt])=>{ne[Wt]=Array.isArray(wt)?wt.map(He=>`${He}`):`${wt}`}),de=b===M?k:yn(b,M,k);const dt=ln(Fn(de));return new Lr(dt,ne,F)}function yn(b,M,k){const T={};return Object.entries(b.children).forEach(([F,ne])=>{T[F]=ne===M?k:yn(ne,M,k)}),new Zt(b.segments,T)}class Xt{constructor(M,k,T){if(this.isAbsolute=M,this.numberOfDoubleDots=k,this.commands=T,M&&T.length>0&&rt(T[0]))throw new g.vHH(4003,!1);const F=T.find(Ot);if(F&&F!==Sn(T))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yr{constructor(M,k,T){this.segmentGroup=M,this.processChildren=k,this.index=T}}function Er(b,M,k){if(b||(b=new Zt([],{})),0===b.segments.length&&b.hasChildren())return ar(b,M,k);const T=function Ns(b,M,k){let T=0,F=M;const ne={match:!1,pathIndex:0,commandIndex:0};for(;F<b.segments.length;){if(T>=k.length)return ne;const de=b.segments[F],dt=k[T];if(Ot(dt))break;const Wt=`${dt}`,wt=T<k.length-1?k[T+1]:null;if(F>0&&void 0===Wt)break;if(Wt&&wt&&"object"==typeof wt&&void 0===wt.outlets){if(!Ci(Wt,wt,de))return ne;T+=2}else{if(!Ci(Wt,{},de))return ne;T++}F++}return{match:!0,pathIndex:F,commandIndex:T}}(b,M,k),F=k.slice(T.commandIndex);if(T.match&&T.pathIndex<b.segments.length){const ne=new Zt(b.segments.slice(0,T.pathIndex),{});return ne.children[Te]=new Zt(b.segments.slice(T.pathIndex),b.children),ar(ne,0,F)}return T.match&&0===F.length?new Zt(b.segments,{}):T.match&&!b.hasChildren()?ki(b,M,k):T.match?ar(b,0,F):ki(b,M,k)}function ar(b,M,k){if(0===k.length)return new Zt(b.segments,{});{const T=function $r(b){return Ot(b[0])?b[0].outlets:{[Te]:b}}(k),F={};if(Object.keys(T).some(ne=>ne!==Te)&&b.children[Te]&&1===b.numberOfChildren&&0===b.children[Te].segments.length){const ne=ar(b.children[Te],M,k);return new Zt(b.segments,ne.children)}return Object.entries(T).forEach(([ne,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(F[ne]=Er(b.children[ne],M,de))}),Object.entries(b.children).forEach(([ne,de])=>{void 0===T[ne]&&(F[ne]=de)}),new Zt(b.segments,F)}}function ki(b,M,k){const T=b.segments.slice(0,M);let F=0;for(;F<k.length;){const ne=k[F];if(Ot(ne)){const Wt=_i(ne.outlets);return new Zt(T,Wt)}if(0===F&&rt(k[0])){T.push(new Hn(b.segments[M].path,rs(k[0]))),F++;continue}const de=Ot(ne)?ne.outlets[Te]:`${ne}`,dt=F<k.length-1?k[F+1]:null;de&&dt&&rt(dt)?(T.push(new Hn(de,rs(dt))),F+=2):(T.push(new Hn(de,{})),F++)}return new Zt(T,{})}function _i(b){const M={};return Object.entries(b).forEach(([k,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(M[k]=ki(new Zt([],{}),0,T))}),M}function rs(b){const M={};return Object.entries(b).forEach(([k,T])=>M[k]=`${T}`),M}function Ci(b,M,k){return b==k.path&&cn(M,k.parameters)}const Ti="imperative";class lr{constructor(M,k){this.id=M,this.url=k}}class Fi extends lr{constructor(M,k,T="imperative",F=null){super(M,k),this.type=0,this.navigationTrigger=T,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ci extends lr{constructor(M,k,T){super(M,k),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qi extends lr{constructor(M,k,T,F){super(M,k),this.reason=T,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ui extends lr{constructor(M,k,T,F){super(M,k),this.reason=T,this.code=F,this.type=16}}class Cr extends lr{constructor(M,k,T,F){super(M,k),this.error=T,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ee extends lr{constructor(M,k,T,F){super(M,k),this.urlAfterRedirects=T,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends lr{constructor(M,k,T,F){super(M,k),this.urlAfterRedirects=T,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee extends lr{constructor(M,k,T,F,ne){super(M,k),this.urlAfterRedirects=T,this.state=F,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ne extends lr{constructor(M,k,T,F){super(M,k),this.urlAfterRedirects=T,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt extends lr{constructor(M,k,T,F){super(M,k),this.urlAfterRedirects=T,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class At{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nt{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zn{constructor(M,k,T){this.routerEvent=M,this.position=k,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gn{}class nr{constructor(M){this.url=M}}class Ye{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new st,this.attachRef=null}}let st=(()=>{var b;class M{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const ne=this.getOrCreateContext(T);ne.outlet=F,this.contexts.set(T,ne)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new Ye,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();class Mt{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const k=this.pathFromRoot(M);return k.length>1?k[k.length-2]:null}children(M){const k=Ht(M,this._root);return k?k.children.map(T=>T.value):[]}firstChild(M){const k=Ht(M,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(M){const k=Jt(M,this._root);return k.length<2?[]:k[k.length-2].children.map(F=>F.value).filter(F=>F!==M)}pathFromRoot(M){return Jt(M,this._root).map(k=>k.value)}}function Ht(b,M){if(b===M.value)return M;for(const k of M.children){const T=Ht(b,k);if(T)return T}return null}function Jt(b,M){if(b===M.value)return[M];for(const k of M.children){const T=Jt(b,k);if(T.length)return T.unshift(M),T}return[]}class kn{constructor(M,k){this.value=M,this.children=k}toString(){return`TreeNode(${this.value})`}}function $n(b){const M={};return b&&b.children.forEach(k=>M[k.value.outlet]=k),M}class cr extends Mt{constructor(M,k){super(M),this.snapshot=k,tn(this,M)}toString(){return this.snapshot.toString()}}function ni(b,M){const k=function so(b,M){const de=new zi([],{},{},"",{},Te,M,null,{});return new Yr("",new kn(de,[]))}(0,M),T=new fe.X([new Hn("",{})]),F=new fe.X({}),ne=new fe.X({}),de=new fe.X({}),dt=new fe.X(""),Wt=new ii(T,F,de,dt,ne,Te,M,k.root);return Wt.snapshot=k.root,new cr(new kn(Wt,[]),k)}class ii{constructor(M,k,T,F,ne,de,dt,Wt){var wt,He;this.urlSubject=M,this.paramsSubject=k,this.queryParamsSubject=T,this.fragmentSubject=F,this.dataSubject=ne,this.outlet=de,this.component=dt,this._futureSnapshot=Wt,this.title=null!==(wt=null===(He=this.dataSubject)||void 0===He?void 0:He.pipe((0,me.U)(tr=>tr[at])))&&void 0!==wt?wt:(0,Ce.of)(void 0),this.url=M,this.params=k,this.queryParams=T,this.fragment=F,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,me.U)(M=>Ct(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,me.U)(M=>Ct(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cs(b,M="emptyOnly"){const k=b.pathFromRoot;let T=0;if("always"!==M)for(T=k.length-1;T>=1;){const F=k[T],ne=k[T-1];if(F.routeConfig&&""===F.routeConfig.path)T--;else{if(ne.component)break;T--}}return function ls(b){return b.reduce((M,k)=>{var T;return{params:{...M.params,...k.params},data:{...M.data,...k.data},resolve:{...k.data,...M.resolve,...null===(T=k.routeConfig)||void 0===T?void 0:T.data,...k._resolvedData}}},{params:{},data:{},resolve:{}})}(k.slice(T))}class zi{get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[at]}constructor(M,k,T,F,ne,de,dt,Wt,wt){this.url=M,this.params=k,this.queryParams=T,this.fragment=F,this.data=ne,this.outlet=de,this.component=dt,this.routeConfig=Wt,this._resolve=wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yr extends Mt{constructor(M,k){super(k),this.url=M,tn(this,k)}toString(){return Kn(this._root)}}function tn(b,M){M.value._routerState=b,M.children.forEach(k=>tn(b,k))}function Kn(b){const M=b.children.length>0?` { ${b.children.map(Kn).join(", ")} } `:"";return`${b.value}${M}`}function dr(b){if(b.snapshot){const M=b.snapshot,k=b._futureSnapshot;b.snapshot=k,cn(M.queryParams,k.queryParams)||b.queryParamsSubject.next(k.queryParams),M.fragment!==k.fragment&&b.fragmentSubject.next(k.fragment),cn(M.params,k.params)||b.paramsSubject.next(k.params),function In(b,M){if(b.length!==M.length)return!1;for(let k=0;k<b.length;++k)if(!cn(b[k],M[k]))return!1;return!0}(M.url,k.url)||b.urlSubject.next(k.url),cn(M.data,k.data)||b.dataSubject.next(k.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function Li(b,M){const k=cn(b.params,M.params)&&function Ut(b,M){return ir(b,M)&&b.every((k,T)=>cn(k.parameters,M[T].parameters))}(b.url,M.url);return k&&!(!b.parent!=!M.parent)&&(!b.parent||Li(b.parent,M.parent))}let Ji=(()=>{var b;class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(st),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(cs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:F,previousValue:ne}=T.name;if(F)return;this.isTrackedInParentContexts(ne)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ne)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var F;return(null===(F=this.parentContexts.getContext(T))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){var ne;this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),null===(ne=this.inputBinder)||void 0===ne||ne.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){var ne;if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=T;const de=this.location,Wt=T.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,He=new ji(T,wt,de.injector);this.activated=de.createComponent(Wt,{index:de.length,injector:He,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ne=this.inputBinder)||void 0===ne||ne.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275dir=g.lG2({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),M})();class ji{constructor(M,k,T){this.route=M,this.childContexts=k,this.parent=T}get(M,k){return M===ii?this.route:M===st?this.childContexts:this.parent.get(M,k)}}const cs=new g.OlP("");let Zr=(()=>{var b;class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var F;null===(F=this.outletDataSubscriptions.get(T))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:F}=T,ne=(0,qe.a)([F.queryParams,F.params,F.data]).pipe((0,Se.w)(([de,dt,Wt],wt)=>(Wt={...de,...dt,...Wt},0===wt?(0,Ce.of)(Wt):Promise.resolve(Wt)))).subscribe(de=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(T);const dt=(0,g.qFp)(F.component);if(dt)for(const{templateName:Wt}of dt.inputs)T.activatedComponentRef.setInput(Wt,de[Wt]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,ne)}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),M})();function fi(b,M,k){if(k&&b.shouldReuseRoute(M.value,k.value.snapshot)){const T=k.value;T._futureSnapshot=M.value;const F=function Rn(b,M,k){return M.children.map(T=>{for(const F of k.children)if(b.shouldReuseRoute(T.value,F.value.snapshot))return fi(b,T,F);return fi(b,T)})}(b,M,k);return new kn(T,F)}{if(b.shouldAttach(M.value)){const ne=b.retrieve(M.value);if(null!==ne){const de=ne.route;return de.value._futureSnapshot=M.value,de.children=M.children.map(dt=>fi(b,dt)),de}}const T=function $s(b){return new ii(new fe.X(b.url),new fe.X(b.params),new fe.X(b.queryParams),new fe.X(b.fragment),new fe.X(b.data),b.outlet,b.component,b)}(M.value),F=M.children.map(ne=>fi(b,ne));return new kn(T,F)}}const eo="ngNavigationCancelingError";function gs(b,M){const{redirectTo:k,navigationBehaviorOptions:T}=fr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,F=sr(!1,0,M);return F.url=k,F.navigationBehaviorOptions=T,F}function sr(b,M,k){const T=new Error("NavigationCancelingError: "+(b||""));return T[eo]=!0,T.cancellationCode=M,k&&(T.url=k),T}function Si(b){return b&&b[eo]}let pi=(()=>{var b;class M{}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275cmp=g.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(T,F){1&T&&g._UZ(0,"router-outlet")},dependencies:[Ji],encapsulation:2}),M})();function is(b){const M=b.children&&b.children.map(is),k=M?{...b,children:M}:{...b};return!k.component&&!k.loadComponent&&(M||k.loadChildren)&&k.outlet&&k.outlet!==Te&&(k.component=pi),k}function qr(b){return b.outlet||Te}function ss(b){var M;if(!b)return null;if(null!==(M=b.routeConfig)&&void 0!==M&&M._injector)return b.routeConfig._injector;for(let k=b.parent;k;k=k.parent){const T=k.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class fo{constructor(M,k,T,F,ne){this.routeReuseStrategy=M,this.futureState=k,this.currState=T,this.forwardEvent=F,this.inputBindingEnabled=ne}activate(M){const k=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,T,M),dr(this.futureState.root),this.activateChildRoutes(k,T,M)}deactivateChildRoutes(M,k,T){const F=$n(k);M.children.forEach(ne=>{const de=ne.value.outlet;this.deactivateRoutes(ne,F[de],T),delete F[de]}),Object.values(F).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,T)})}deactivateRoutes(M,k,T){const F=M.value,ne=k?k.value:null;if(F===ne)if(F.component){const de=T.getContext(F.outlet);de&&this.deactivateChildRoutes(M,k,de.children)}else this.deactivateChildRoutes(M,k,T);else ne&&this.deactivateRouteAndItsChildren(k,T)}deactivateRouteAndItsChildren(M,k){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,k):this.deactivateRouteAndOutlet(M,k)}detachAndStoreRouteSubtree(M,k){const T=k.getContext(M.value.outlet),F=T&&M.value.component?T.children:k,ne=$n(M);for(const de of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[de],F);if(T&&T.outlet){const de=T.outlet.detach(),dt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:de,route:M,contexts:dt})}}deactivateRouteAndOutlet(M,k){const T=k.getContext(M.value.outlet),F=T&&M.value.component?T.children:k,ne=$n(M);for(const de of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[de],F);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(M,k,T){const F=$n(k);M.children.forEach(ne=>{this.activateRoutes(ne,F[ne.value.outlet],T),this.forwardEvent(new dn(ne.value.snapshot))}),M.children.length&&this.forwardEvent(new Rt(M.value.snapshot))}activateRoutes(M,k,T){const F=M.value,ne=k?k.value:null;if(dr(F),F===ne)if(F.component){const de=T.getOrCreateContext(F.outlet);this.activateChildRoutes(M,k,de.children)}else this.activateChildRoutes(M,k,T);else if(F.component){const de=T.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const dt=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),de.children.onOutletReAttached(dt.contexts),de.attachRef=dt.componentRef,de.route=dt.route.value,de.outlet&&de.outlet.attach(dt.componentRef,dt.route.value),dr(dt.route.value),this.activateChildRoutes(M,null,de.children)}else{const dt=ss(F.snapshot);de.attachRef=null,de.route=F,de.injector=dt,de.outlet&&de.outlet.activateWith(F,de.injector),this.activateChildRoutes(M,null,de.children)}}else this.activateChildRoutes(M,null,T)}}class Hi{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Ii{constructor(M,k){this.component=M,this.route=k}}function oo(b,M,k){const T=b._root;return ui(T,M?M._root:null,k,[T.value])}function ds(b,M){const k=Symbol(),T=M.get(b,k);return T===k?"function"!=typeof b||(0,g.Z0I)(b)?M.get(b):b:T}function ui(b,M,k,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const ne=$n(M);return b.children.forEach(de=>{(function Ks(b,M,k,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const ne=b.value,de=M?M.value:null,dt=k?k.getContext(b.value.outlet):null;if(de&&ne.routeConfig===de.routeConfig){const Wt=function no(b,M,k){if("function"==typeof k)return k(b,M);switch(k){case"pathParamsChange":return!ir(b.url,M.url);case"pathParamsOrQueryParamsChange":return!ir(b.url,M.url)||!cn(b.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Li(b,M)||!cn(b.queryParams,M.queryParams);default:return!Li(b,M)}}(de,ne,ne.routeConfig.runGuardsAndResolvers);Wt?F.canActivateChecks.push(new Hi(T)):(ne.data=de.data,ne._resolvedData=de._resolvedData),ui(b,M,ne.component?dt?dt.children:null:k,T,F),Wt&&dt&&dt.outlet&&dt.outlet.isActivated&&F.canDeactivateChecks.push(new Ii(dt.outlet.component,de))}else de&&ao(M,dt,F),F.canActivateChecks.push(new Hi(T)),ui(b,null,ne.component?dt?dt.children:null:k,T,F)})(de,ne[de.value.outlet],k,T.concat([de.value]),F),delete ne[de.value.outlet]}),Object.entries(ne).forEach(([de,dt])=>ao(dt,k.getContext(de),F)),F}function ao(b,M,k){const T=$n(b),F=b.value;Object.entries(T).forEach(([ne,de])=>{ao(de,F.component?M?M.children.getContext(ne):null:M,k)}),k.canDeactivateChecks.push(new Ii(F.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,F))}function lo(b){return"function"==typeof b}function D(b){return b instanceof Ue.K||"EmptyError"===(null==b?void 0:b.name)}const E=Symbol("INITIAL_VALUE");function V(){return(0,Se.w)(b=>(0,qe.a)(b.map(M=>M.pipe((0,ye.q)(1),(0,Me.O)(E)))).pipe((0,me.U)(M=>{for(const k of M)if(!0!==k){if(k===E)return E;if(!1===k||k instanceof Lr)return k}return!0}),(0,Le.h)(M=>M!==E),(0,ye.q)(1)))}function Gt(b){return(0,xe.z)((0,It.b)(M=>{if(fr(M))throw gs(0,M)}),(0,me.U)(M=>!0===M))}class An{constructor(M){this.segmentGroup=M||null}}class Jn{constructor(M){this.urlTree=M}}function Jr(b){return ke(new An(b))}function Hr(b){return ke(new Jn(b))}class Gi{constructor(M,k){this.urlSerializer=M,this.urlTree=k}noMatchError(M){return new g.vHH(4002,!1)}lineralizeSegments(M,k){let T=[],F=k.root;for(;;){if(T=T.concat(F.segments),0===F.numberOfChildren)return(0,Ce.of)(T);if(F.numberOfChildren>1||!F.children[Te])return ke(new g.vHH(4e3,!1));F=F.children[Te]}}applyRedirectCommands(M,k,T){return this.applyRedirectCreateUrlTree(k,this.urlSerializer.parse(k),M,T)}applyRedirectCreateUrlTree(M,k,T,F){const ne=this.createSegmentGroup(M,k.root,T,F);return new Lr(ne,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(M,k){const T={};return Object.entries(M).forEach(([F,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const dt=ne.substring(1);T[F]=k[dt]}else T[F]=ne}),T}createSegmentGroup(M,k,T,F){const ne=this.createSegments(M,k.segments,T,F);let de={};return Object.entries(k.children).forEach(([dt,Wt])=>{de[dt]=this.createSegmentGroup(M,Wt,T,F)}),new Zt(ne,de)}createSegments(M,k,T,F){return k.map(ne=>ne.path.startsWith(":")?this.findPosParam(M,ne,F):this.findOrReturn(ne,T))}findPosParam(M,k,T){const F=T[k.path.substring(1)];if(!F)throw new g.vHH(4001,!1);return F}findOrReturn(M,k){let T=0;for(const F of k){if(F.path===M.path)return k.splice(T),F;T++}return M}}const Bi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fs(b,M,k,T,F){const ne=Ei(b,M,k);return ne.matched?(T=function us(b,M){var k;return b.providers&&!b._injector&&(b._injector=(0,g.MMx)(b.providers,M,`Route: ${b.path}`)),null!==(k=b._injector)&&void 0!==k?k:M}(M,T),function an(b,M,k,T){const F=M.canMatch;if(!F||0===F.length)return(0,Ce.of)(!0);const ne=F.map(de=>{const dt=ds(de,b);return wn(function Qr(b){return b&&lo(b.canMatch)}(dt)?dt.canMatch(M,k):b.runInContext(()=>dt(M,k)))});return(0,Ce.of)(ne).pipe(V(),Gt())}(T,M,k).pipe((0,me.U)(de=>!0===de?ne:{...Bi}))):(0,Ce.of)(ne)}function Ei(b,M,k){var T,F;if(""===M.path)return"full"===M.pathMatch&&(b.hasChildren()||k.length>0)?{...Bi}:{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const de=(M.matcher||qt)(k,b,M);if(!de)return{...Bi};const dt={};Object.entries(null!==(T=de.posParams)&&void 0!==T?T:{}).forEach(([wt,He])=>{dt[wt]=He.path});const Wt=de.consumed.length>0?{...dt,...de.consumed[de.consumed.length-1].parameters}:dt;return{matched:!0,consumedSegments:de.consumed,remainingSegments:k.slice(de.consumed.length),parameters:Wt,positionalParamSegments:null!==(F=de.posParams)&&void 0!==F?F:{}}}function fs(b,M,k,T){return k.length>0&&function la(b,M,k){return k.some(T=>xo(b,M,T)&&qr(T)!==Te)}(b,k,T)?{segmentGroup:new Zt(M,aa(T,new Zt(k,b.children))),slicedSegments:[]}:0===k.length&&function ca(b,M,k){return k.some(T=>xo(b,M,T))}(b,k,T)?{segmentGroup:new Zt(b.segments,fl(b,0,k,T,b.children)),slicedSegments:k}:{segmentGroup:new Zt(b.segments,b.children),slicedSegments:k}}function fl(b,M,k,T,F){const ne={};for(const de of T)if(xo(b,k,de)&&!F[qr(de)]){const dt=new Zt([],{});ne[qr(de)]=dt}return{...F,...ne}}function aa(b,M){const k={};k[Te]=M;for(const T of b)if(""===T.path&&qr(T)!==Te){const F=new Zt([],{});k[qr(T)]=F}return k}function xo(b,M,k){return(!(b.hasChildren()||M.length>0)||"full"!==k.pathMatch)&&""===k.path}class da{constructor(M,k,T,F,ne,de,dt){this.injector=M,this.configLoader=k,this.rootComponentType=T,this.config=F,this.urlTree=ne,this.paramsInheritanceStrategy=de,this.urlSerializer=dt,this.allowRedirects=!0,this.applyRedirects=new Gi(this.urlSerializer,this.urlTree)}noMatchError(M){return new g.vHH(4002,!1)}recognize(){const M=fs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Te).pipe(jt(k=>{if(k instanceof Jn)return this.allowRedirects=!1,this.urlTree=k.urlTree,this.match(k.urlTree);throw k instanceof An?this.noMatchError(k):k}),(0,me.U)(k=>{const T=new zi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),F=new kn(T,k),ne=new Yr("",F),de=function yi(b,M,k=null,T=null){return bt(Ai(b),M,k,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(de),this.inheritParamsAndData(ne._root),{state:ne,tree:de}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,Te).pipe(jt(T=>{throw T instanceof An?this.noMatchError(T):T}))}inheritParamsAndData(M){const k=M.value,T=Cs(k,this.paramsInheritanceStrategy);k.params=Object.freeze(T.params),k.data=Object.freeze(T.data),M.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(M,k,T,F){return 0===T.segments.length&&T.hasChildren()?this.processChildren(M,k,T):this.processSegment(M,k,T,T.segments,F,!0)}processChildren(M,k,T){const F=[];for(const ne of Object.keys(T.children))"primary"===ne?F.unshift(ne):F.push(ne);return(0,we.D)(F).pipe(ht(ne=>{const de=T.children[ne],dt=function Br(b,M){const k=b.filter(T=>qr(T)===M);return k.push(...b.filter(T=>qr(T)!==M)),k}(k,ne);return this.processSegmentGroup(M,dt,de,ne)}),(0,Tn.R)((ne,de)=>(ne.push(...de),ne)),(0,Qt.d)(null),function Fe(b,M){const k=arguments.length>=2;return T=>T.pipe(b?(0,Le.h)((F,ne)=>b(F,ne,T)):Ie.y,gt(1),k?(0,Qt.d)(M):(0,ue.T)(()=>new Ue.K))}(),(0,ze.z)(ne=>{if(null===ne)return Jr(T);const de=Gl(ne);return function Ia(b){b.sort((M,k)=>M.value.outlet===Te?-1:k.value.outlet===Te?1:M.value.outlet.localeCompare(k.value.outlet))}(de),(0,Ce.of)(de)}))}processSegment(M,k,T,F,ne,de){return(0,we.D)(k).pipe(ht(dt=>{var Wt;return this.processSegmentAgainstRoute(null!==(Wt=dt._injector)&&void 0!==Wt?Wt:M,k,dt,T,F,ne,de).pipe(jt(wt=>{if(wt instanceof An)return(0,Ce.of)(null);throw wt}))}),(0,ct.P)(dt=>!!dt),jt(dt=>{if(D(dt))return function ua(b,M,k){return 0===M.length&&!b.children[k]}(T,F,ne)?(0,Ce.of)([]):Jr(T);throw dt}))}processSegmentAgainstRoute(M,k,T,F,ne,de,dt){return function Ya(b,M,k,T){return!!(qr(b)===T||T!==Te&&xo(M,k,b))&&("**"===b.path||Ei(M,b,k).matched)}(T,F,ne,de)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(M,F,T,ne,de,dt):dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,F,k,T,ne,de):Jr(F):Jr(F)}expandSegmentAgainstRouteUsingRedirect(M,k,T,F,ne,de){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,T,F,de):this.expandRegularSegmentAgainstRouteUsingRedirect(M,k,T,F,ne,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,k,T,F){const ne=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Hr(ne):this.applyRedirects.lineralizeSegments(T,ne).pipe((0,ze.z)(de=>{const dt=new Zt(de,{});return this.processSegment(M,k,dt,de,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,k,T,F,ne,de){const{matched:dt,consumedSegments:Wt,remainingSegments:wt,positionalParamSegments:He}=Ei(k,F,ne);if(!dt)return Jr(k);const tr=this.applyRedirects.applyRedirectCommands(Wt,F.redirectTo,He);return F.redirectTo.startsWith("/")?Hr(tr):this.applyRedirects.lineralizeSegments(F,tr).pipe((0,ze.z)(xr=>this.processSegment(M,T,k,xr.concat(wt),de,!1)))}matchSegmentAgainstRoute(M,k,T,F,ne,de){let dt;if("**"===T.path){var Wt,wt;const He=F.length>0?Sn(F).parameters:{},tr=new zi(F,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xs(T),qr(T),null!==(Wt=null!==(wt=T.component)&&void 0!==wt?wt:T._loadedComponent)&&void 0!==Wt?Wt:null,T,Da(T));dt=(0,Ce.of)({snapshot:tr,consumedSegments:[],remainingSegments:[]}),k.children={}}else dt=Fs(k,T,F,M).pipe((0,me.U)(({matched:He,consumedSegments:tr,remainingSegments:xr,parameters:xs})=>{var Ir,$i;return He?{snapshot:new zi(tr,xs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xs(T),qr(T),null!==(Ir=null!==($i=T.component)&&void 0!==$i?$i:T._loadedComponent)&&void 0!==Ir?Ir:null,T,Da(T)),consumedSegments:tr,remainingSegments:xr}:null}));return dt.pipe((0,Se.w)(He=>{var tr;return null===He?Jr(k):(M=null!==(tr=T._injector)&&void 0!==tr?tr:M,this.getChildConfig(M,T,F).pipe((0,Se.w)(({routes:xr})=>{var xs;const Ir=null!==(xs=T._loadedInjector)&&void 0!==xs?xs:M,{snapshot:$i,consumedSegments:co,remainingSegments:Ls}=He,{segmentGroup:Po,slicedSegments:No}=fs(k,co,Ls,xr);if(0===No.length&&Po.hasChildren())return this.processChildren(Ir,xr,Po).pipe((0,me.U)(ko=>null===ko?null:[new kn($i,ko)]));if(0===xr.length&&0===No.length)return(0,Ce.of)([new kn($i,[])]);const Na=qr(T)===ne;return this.processSegment(Ir,xr,Po,No,Na?Te:ne,!0).pipe((0,me.U)(ko=>[new kn($i,ko)]))})))}))}getChildConfig(M,k,T){return k.children?(0,Ce.of)({routes:k.children,injector:M}):k.loadChildren?void 0!==k._loadedRoutes?(0,Ce.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):function pt(b,M,k,T){const F=M.canLoad;if(void 0===F||0===F.length)return(0,Ce.of)(!0);const ne=F.map(de=>{const dt=ds(de,b);return wn(function Zs(b){return b&&lo(b.canLoad)}(dt)?dt.canLoad(M,k):b.runInContext(()=>dt(M,k)))});return(0,Ce.of)(ne).pipe(V(),Gt())}(M,k,T).pipe((0,ze.z)(F=>F?this.configLoader.loadChildren(M,k).pipe((0,It.b)(ne=>{k._loadedRoutes=ne.routes,k._loadedInjector=ne.injector})):function hs(b){return ke(sr(!1,3))}())):(0,Ce.of)({routes:[],injector:M})}}function qa(b){const M=b.value.routeConfig;return M&&""===M.path}function Gl(b){const M=[],k=new Set;for(const T of b){if(!qa(T)){M.push(T);continue}const F=M.find(ne=>T.value.routeConfig===ne.value.routeConfig);void 0!==F?(F.children.push(...T.children),k.add(F)):M.push(T)}for(const T of k){const F=Gl(T.children);M.push(new kn(T.value,F))}return M.filter(T=>!k.has(T))}function Xs(b){return b.data||{}}function Da(b){return b.resolve||{}}function S(b){return"string"==typeof b.title||null===b.title}function j(b){return(0,Se.w)(M=>{const k=b(M);return k?(0,we.D)(k).pipe((0,me.U)(()=>M)):(0,Ce.of)(M)})}const De=new g.OlP("ROUTES");let $=(()=>{var b;class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,Ce.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=wn(T.loadComponent()).pipe((0,me.U)(Be),(0,It.b)(de=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=de}),(0,tt.x)(()=>{this.componentLoaders.delete(T)})),ne=new _t(F,()=>new ve.x).pipe(pe());return this.componentLoaders.set(T,ne),ne}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Ce.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const de=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,me.U)(Wt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let wt,He;return Array.isArray(Wt)?He=Wt:(wt=Wt.create(T).injector,He=wt.get(De,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:He.map(is),injector:wt}}),(0,tt.x)(()=>{this.childrenLoaders.delete(F)})),dt=new _t(de,()=>new ve.x).pipe(pe());return this.childrenLoaders.set(F,dt),dt}loadModuleFactoryOrRoutes(T){return wn(T()).pipe((0,me.U)(Be),(0,ze.z)(F=>F instanceof g.YKP||Array.isArray(F)?(0,Ce.of)(F):(0,we.D)(this.compiler.compileModuleAsync(F))))}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();function Be(b){return function ce(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let Pt=(()=>{var b;class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve.x,this.transitionAbortSubject=new ve.x,this.configLoader=(0,g.f3M)($),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(Un),this.rootContexts=(0,g.f3M)(st),this.inputBindingEnabled=null!==(0,g.f3M)(cs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ne=>this.events.next(new At(ne)),this.configLoader.onLoadStartListener=ne=>this.events.next(new et(ne))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var F;const ne=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...T,id:ne})}setupNavigations(T,F,ne){return this.transitions=new fe.X({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:T.urlHandlingStrategy.extract(F),urlAfterRedirects:T.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ti,restoredState:null,currentSnapshot:ne.snapshot,targetSnapshot:null,currentRouterState:ne,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Le.h)(de=>0!==de.id),(0,me.U)(de=>({...de,extractedUrl:T.urlHandlingStrategy.extract(de.rawUrl)})),(0,Se.w)(de=>{this.currentTransition=de;let dt=!1,Wt=!1;return(0,Ce.of)(de).pipe((0,It.b)(wt=>{this.currentNavigation={id:wt.id,initialUrl:wt.rawUrl,extractedUrl:wt.extractedUrl,trigger:wt.source,extras:wt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Se.w)(wt=>{var He;const tr=wt.currentBrowserUrl.toString(),xr=!T.navigated||wt.extractedUrl.toString()!==tr||tr!==wt.currentUrlTree.toString(),xs=null!==(He=wt.extras.onSameUrlNavigation)&&void 0!==He?He:T.onSameUrlNavigation;if(!xr&&"reload"!==xs){const Ir="";return this.events.next(new Ui(wt.id,this.urlSerializer.serialize(wt.rawUrl),Ir,0)),wt.resolve(null),Ke.E}if(T.urlHandlingStrategy.shouldProcessUrl(wt.rawUrl))return(0,Ce.of)(wt).pipe((0,Se.w)(Ir=>{var $i,co;const Ls=null===($i=this.transitions)||void 0===$i?void 0:$i.getValue();return this.events.next(new Fi(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),Ir.source,Ir.restoredState)),Ls!==(null===(co=this.transitions)||void 0===co?void 0:co.getValue())?Ke.E:Promise.resolve(Ir)}),function pl(b,M,k,T,F,ne){return(0,ze.z)(de=>function po(b,M,k,T,F,ne,de="emptyOnly"){return new da(b,M,k,T,F,de,ne).recognize()}(b,M,k,T,de.extractedUrl,F,ne).pipe((0,me.U)(({state:dt,tree:Wt})=>({...de,targetSnapshot:dt,urlAfterRedirects:Wt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,It.b)(Ir=>{de.targetSnapshot=Ir.targetSnapshot,de.urlAfterRedirects=Ir.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ir.urlAfterRedirects};const $i=new ee(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),this.urlSerializer.serialize(Ir.urlAfterRedirects),Ir.targetSnapshot);this.events.next($i)}));if(xr&&T.urlHandlingStrategy.shouldProcessUrl(wt.currentRawUrl)){const{id:Ir,extractedUrl:$i,source:co,restoredState:Ls,extras:Po}=wt,No=new Fi(Ir,this.urlSerializer.serialize($i),co,Ls);this.events.next(No);const Na=ni(0,this.rootComponentType).snapshot;return this.currentTransition=de={...wt,targetSnapshot:Na,urlAfterRedirects:$i,extras:{...Po,skipLocationChange:!1,replaceUrl:!1}},(0,Ce.of)(de)}{const Ir="";return this.events.next(new Ui(wt.id,this.urlSerializer.serialize(wt.extractedUrl),Ir,1)),wt.resolve(null),Ke.E}}),(0,It.b)(wt=>{const He=new K(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot);this.events.next(He)}),(0,me.U)(wt=>(this.currentTransition=de={...wt,guards:oo(wt.targetSnapshot,wt.currentSnapshot,this.rootContexts)},de)),function P(b,M){return(0,ze.z)(k=>{const{targetSnapshot:T,currentSnapshot:F,guards:{canActivateChecks:ne,canDeactivateChecks:de}}=k;return 0===de.length&&0===ne.length?(0,Ce.of)({...k,guardsResult:!0}):function X(b,M,k,T){return(0,we.D)(b).pipe((0,ze.z)(F=>function ie(b,M,k,T,F){const ne=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,Ce.of)(!0);const de=ne.map(dt=>{var Wt;const wt=null!==(Wt=ss(M))&&void 0!==Wt?Wt:F,He=ds(dt,wt);return wn(function _a(b){return b&&lo(b.canDeactivate)}(He)?He.canDeactivate(b,M,k,T):wt.runInContext(()=>He(b,M,k,T))).pipe((0,ct.P)())});return(0,Ce.of)(de).pipe(V())}(F.component,F.route,k,M,T)),(0,ct.P)(F=>!0!==F,!0))}(de,T,F,b).pipe((0,ze.z)(dt=>dt&&function bo(b){return"boolean"==typeof b}(dt)?function ut(b,M,k,T){return(0,we.D)(M).pipe(ht(F=>(0,_e.z)(function L(b,M){return null!==b&&M&&M(new Nt(b)),(0,Ce.of)(!0)}(F.route.parent,T),function v(b,M){return null!==b&&M&&M(new Vt(b)),(0,Ce.of)(!0)}(F.route,T),function B(b,M,k){const T=M[M.length-1],ne=M.slice(0,M.length-1).reverse().map(de=>function xi(b){const M=b.routeConfig?b.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:b,guards:M}:null}(de)).filter(de=>null!==de).map(de=>Oe(()=>{const dt=de.guards.map(Wt=>{var wt;const He=null!==(wt=ss(de.node))&&void 0!==wt?wt:k,tr=ds(Wt,He);return wn(function Ho(b){return b&&lo(b.canActivateChild)}(tr)?tr.canActivateChild(T,b):He.runInContext(()=>tr(T,b))).pipe((0,ct.P)())});return(0,Ce.of)(dt).pipe(V())}));return(0,Ce.of)(ne).pipe(V())}(b,F.path,k),function _(b,M,k){const T=M.routeConfig?M.routeConfig.canActivate:null;if(!T||0===T.length)return(0,Ce.of)(!0);const F=T.map(ne=>Oe(()=>{var de;const dt=null!==(de=ss(M))&&void 0!==de?de:k,Wt=ds(ne,dt);return wn(function ro(b){return b&&lo(b.canActivate)}(Wt)?Wt.canActivate(M,b):dt.runInContext(()=>Wt(M,b))).pipe((0,ct.P)())}));return(0,Ce.of)(F).pipe(V())}(b,F.route,k))),(0,ct.P)(F=>!0!==F,!0))}(T,ne,b,M):(0,Ce.of)(dt)),(0,me.U)(dt=>({...k,guardsResult:dt})))})}(this.environmentInjector,wt=>this.events.next(wt)),(0,It.b)(wt=>{if(de.guardsResult=wt.guardsResult,fr(wt.guardsResult))throw gs(0,wt.guardsResult);const He=new Ee(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot,!!wt.guardsResult);this.events.next(He)}),(0,Le.h)(wt=>!!wt.guardsResult||(this.cancelNavigationTransition(wt,"",3),!1)),j(wt=>{if(wt.guards.canActivateChecks.length)return(0,Ce.of)(wt).pipe((0,It.b)(He=>{const tr=new Ne(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(tr)}),(0,Se.w)(He=>{let tr=!1;return(0,Ce.of)(He).pipe(function Ro(b,M){return(0,ze.z)(k=>{const{targetSnapshot:T,guards:{canActivateChecks:F}}=k;if(!F.length)return(0,Ce.of)(k);let ne=0;return(0,we.D)(F).pipe(ht(de=>function Ka(b,M,k,T){const F=b.routeConfig,ne=b._resolve;return void 0!==(null==F?void 0:F.title)&&!S(F)&&(ne[at]=F.title),function vs(b,M,k,T){const F=function Zo(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===F.length)return(0,Ce.of)({});const ne={};return(0,we.D)(F).pipe((0,ze.z)(de=>function si(b,M,k,T){var F;const ne=null!==(F=ss(M))&&void 0!==F?F:T,de=ds(b,ne);return wn(de.resolve?de.resolve(M,k):ne.runInContext(()=>de(M,k)))}(b[de],M,k,T).pipe((0,ct.P)(),(0,It.b)(dt=>{ne[de]=dt}))),gt(1),function Ze(b){return(0,me.U)(()=>b)}(ne),jt(de=>D(de)?Ke.E:ke(de)))}(ne,b,M,T).pipe((0,me.U)(de=>(b._resolvedData=de,b.data=Cs(b,k).resolve,F&&S(F)&&(b.data[at]=F.title),null)))}(de.route,T,b,M)),(0,It.b)(()=>ne++),gt(1),(0,ze.z)(de=>ne===F.length?(0,Ce.of)(k):Ke.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,It.b)({next:()=>tr=!0,complete:()=>{tr||this.cancelNavigationTransition(He,"",2)}}))}),(0,It.b)(He=>{const tr=new mt(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(tr)}))}),j(wt=>{const He=tr=>{var xr;const xs=[];null!==(xr=tr.routeConfig)&&void 0!==xr&&xr.loadComponent&&!tr.routeConfig._loadedComponent&&xs.push(this.configLoader.loadComponent(tr.routeConfig).pipe((0,It.b)(Ir=>{tr.component=Ir}),(0,me.U)(()=>{})));for(const Ir of tr.children)xs.push(...He(Ir));return xs};return(0,qe.a)(He(wt.targetSnapshot.root)).pipe((0,Qt.d)(),(0,ye.q)(1))}),j(()=>this.afterPreactivation()),(0,me.U)(wt=>{const He=function qs(b,M,k){const T=fi(b,M._root,k?k._root:void 0);return new cr(T,M)}(T.routeReuseStrategy,wt.targetSnapshot,wt.currentRouterState);return this.currentTransition=de={...wt,targetRouterState:He},de}),(0,It.b)(()=>{this.events.next(new Gn)}),((b,M,k,T)=>(0,me.U)(F=>(new fo(M,F.targetRouterState,F.currentRouterState,k,T).activate(b),F)))(this.rootContexts,T.routeReuseStrategy,wt=>this.events.next(wt),this.inputBindingEnabled),(0,ye.q)(1),(0,It.b)({next:wt=>{var He;dt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects))),null===(He=T.titleStrategy)||void 0===He||He.updateTitle(wt.targetRouterState.snapshot),wt.resolve(!0)},complete:()=>{dt=!0}}),function $t(b){return(0,Re.e)((M,k)=>{(0,se.Xf)(b).subscribe((0,Ae.x)(k,()=>k.complete(),Xe.Z)),!k.closed&&M.subscribe(k)})}(this.transitionAbortSubject.pipe((0,It.b)(wt=>{throw wt}))),(0,tt.x)(()=>{var wt;dt||Wt||this.cancelNavigationTransition(de,"",1),(null===(wt=this.currentNavigation)||void 0===wt?void 0:wt.id)===de.id&&(this.currentNavigation=null)}),jt(wt=>{if(Wt=!0,Si(wt))this.events.next(new Qi(de.id,this.urlSerializer.serialize(de.extractedUrl),wt.message,wt.cancellationCode)),function Vs(b){return Si(b)&&fr(b.url)}(wt)?this.events.next(new nr(wt.url)):de.resolve(!1);else{var He;this.events.next(new Cr(de.id,this.urlSerializer.serialize(de.extractedUrl),wt,null!==(He=de.targetSnapshot)&&void 0!==He?He:void 0));try{de.resolve(T.errorHandler(wt))}catch(tr){de.reject(tr)}}return Ke.E}))}))}cancelNavigationTransition(T,F,ne){const de=new Qi(T.id,this.urlSerializer.serialize(T.extractedUrl),F,ne);this.events.next(de),T.resolve(!1)}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();function nn(b){return b!==Ti}let bn=(()=>{var b;class M{buildTitle(T){let F,ne=T.root;for(;void 0!==ne;){var de;F=null!==(de=this.getResolvedTitleForRoute(ne))&&void 0!==de?de:F,ne=ne.children.find(dt=>dt.outlet===Te)}return F}getResolvedTitleForRoute(T){return T.data[at]}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(hr)},providedIn:"root"}),M})(),hr=(()=>{var b;class M extends bn{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return(b=M).\u0275fac=function(T){return new(T||b)(g.LFG(ft.Dx))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})(),er=(()=>{var b;class M{}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(Di)},providedIn:"root"}),M})();class Wn{shouldDetach(M){return!1}store(M,k){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,k){return M.routeConfig===k.routeConfig}}let Di=(()=>{var b;class M extends Wn{}return(b=M).\u0275fac=function(){let k;return function(F){return(k||(k=g.n5z(b)))(F||b)}}(),b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();const Tr=new g.OlP("",{providedIn:"root",factory:()=>({})});let ei=(()=>{var b;class M{}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(Ri)},providedIn:"root"}),M})(),Ri=(()=>{var b;class M{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,F){return T}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();var ps=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(ps||{});function Oo(b,M){b.events.pipe((0,Le.h)(k=>k instanceof ci||k instanceof Qi||k instanceof Cr||k instanceof Ui),(0,me.U)(k=>k instanceof ci||k instanceof Ui?ps.COMPLETE:k instanceof Qi&&(0===k.code||1===k.code)?ps.REDIRECTING:ps.FAILED),(0,Le.h)(k=>k!==ps.REDIRECTING),(0,ye.q)(1)).subscribe(()=>{M()})}function go(b){throw b}function As(b,M,k){return M.parse("/")}const zo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ha={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ms=(()=>{var b;class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var T,F;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(F=this.location.getState())||void 0===F?void 0:F.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}get events(){return this._events}constructor(){var T,F;this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new ve.x,this.options=(0,g.f3M)(Tr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||go,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||As,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(ei),this.routeReuseStrategy=(0,g.f3M)(er),this.titleStrategy=(0,g.f3M)(bn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(T=null===(F=(0,g.f3M)(De,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==T?T:[],this.navigationTransitions=(0,g.f3M)(Pt),this.urlSerializer=(0,g.f3M)(Un),this.location=(0,g.f3M)(ge.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(cs,{optional:!0}),this.eventsSubscription=new lt.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ni(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(ne=>{this.lastSuccessfulId=ne.id,this.currentPageId=this.browserPageId},ne=>{this.console.warn(`Unhandled Navigation Error: ${ne}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:ne}=this.navigationTransitions;if(null===ne)return void(wa(F)&&this._events.next(F));if(F instanceof Fi)nn(ne.source)&&(this.browserUrlTree=ne.extractedUrl);else if(F instanceof Ui)this.rawUrlTree=ne.rawUrl;else if(F instanceof ee){if("eager"===this.urlUpdateStrategy){if(!ne.extras.skipLocationChange){const de=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl);this.setBrowserUrl(de,ne)}this.browserUrlTree=ne.urlAfterRedirects}}else if(F instanceof Gn)this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects);else if(F instanceof Qi)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(ne);else if(F instanceof nr){const de=this.urlHandlingStrategy.merge(F.url,ne.currentRawUrl),dt={skipLocationChange:ne.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nn(ne.source)};this.scheduleNavigation(de,Ti,null,dt,{resolve:ne.resolve,reject:ne.reject,promise:ne.promise})}F instanceof Cr&&this.restoreHistory(ne,!0),F instanceof ci&&(this.navigated=!0),wa(F)&&this._events.next(F)}catch(ne){this.navigationTransitions.transitionAbortSubject.next(ne)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ti,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const F="popstate"===T.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,F,T.state)},0)}))}navigateToSyncWithBrowser(T,F,ne){const de={replaceUrl:!0},dt=null!=ne&&ne.navigationId?ne:null;if(ne){const wt={...ne};delete wt.navigationId,delete wt.\u0275routerPageId,0!==Object.keys(wt).length&&(de.state=wt)}const Wt=this.parseUrl(T);this.scheduleNavigation(Wt,F,dt,de)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(is),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,F={}){const{relativeTo:ne,queryParams:de,fragment:dt,queryParamsHandling:Wt,preserveFragment:wt}=F,He=wt?this.currentUrlTree.fragment:dt;let xr,tr=null;switch(Wt){case"merge":tr={...this.currentUrlTree.queryParams,...de};break;case"preserve":tr=this.currentUrlTree.queryParams;break;default:tr=de||null}null!==tr&&(tr=this.removeEmptyProps(tr));try{xr=Ai(ne?ne.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),xr=this.currentUrlTree.root}return bt(xr,T,tr,null!=He?He:null)}navigateByUrl(T,F={skipLocationChange:!1}){const ne=fr(T)?T:this.parseUrl(T),de=this.urlHandlingStrategy.merge(ne,this.rawUrlTree);return this.scheduleNavigation(de,Ti,null,F)}navigate(T,F={skipLocationChange:!1}){return function Za(b){for(let M=0;M<b.length;M++)if(null==b[M])throw new g.vHH(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let F;try{F=this.urlSerializer.parse(T)}catch(ne){F=this.malformedUriErrorHandler(ne,this.urlSerializer,T)}return F}isActive(T,F){let ne;if(ne=!0===F?{...zo}:!1===F?{...ha}:F,fr(T))return Or(this.currentUrlTree,T,ne);const de=this.parseUrl(T);return Or(this.currentUrlTree,de,ne)}removeEmptyProps(T){return Object.keys(T).reduce((F,ne)=>{const de=T[ne];return null!=de&&(F[ne]=de),F},{})}scheduleNavigation(T,F,ne,de,dt){if(this.disposed)return Promise.resolve(!1);let Wt,wt,He;dt?(Wt=dt.resolve,wt=dt.reject,He=dt.promise):He=new Promise((xr,xs)=>{Wt=xr,wt=xs});const tr=this.pendingTasks.add();return Oo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:ne,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:de,resolve:Wt,reject:wt,promise:He,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),He.catch(xr=>Promise.reject(xr))}setBrowserUrl(T,F){const ne=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(ne)||F.extras.replaceUrl){const dt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(ne,"",dt)}else{const de={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(ne,"",de)}}restoreHistory(T,F=!1){if("computed"===this.canceledNavigationResolution){var ne;const dt=this.currentPageId-this.browserPageId;0!==dt?this.location.historyGo(dt):this.currentUrlTree===(null===(ne=this.getCurrentNavigation())||void 0===ne?void 0:ne.finalUrl)&&0===dt&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();function wa(b){return!(b instanceof Gn||b instanceof nr)}let ba=(()=>{var b;class M{constructor(T,F,ne,de,dt,Wt){var wt;this.router=T,this.route=F,this.tabIndexAttribute=ne,this.renderer=de,this.el=dt,this.locationStrategy=Wt,this.href=null,this.commands=null,this.onChanges=new ve.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const He=null===(wt=dt.nativeElement.tagName)||void 0===wt?void 0:wt.toLowerCase();this.isAnchorElement="a"===He||"area"===He,this.isAnchorElement?this.subscription=T.events.subscribe(tr=>{tr instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,F,ne,de,dt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||F||ne||de||dt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;this.href=null!==this.urlTree&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const F=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(T,F){const ne=this.renderer,de=this.el.nativeElement;null!==F?ne.setAttribute(de,T,F):ne.removeAttribute(de,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(b=M).\u0275fac=function(T){return new(T||b)(g.Y36(Ms),g.Y36(ii),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ge.S$))},b.\u0275dir=g.lG2({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,F){1&T&&g.NdJ("click",function(de){return F.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&T&&g.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]}),M})(),ur=(()=>{var b;class M{get isActive(){return this._isActive}constructor(T,F,ne,de,dt){this.router=T,this.element=F,this.renderer=ne,this.cdr=de,this.link=dt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=T.events.subscribe(Wt=>{Wt instanceof ci&&this.update()})}ngAfterContentInit(){(0,Ce.of)(this.links.changes,(0,Ce.of)(null)).pipe((0,Yt.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var T;null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe();const F=[...this.links.toArray(),this.link].filter(ne=>!!ne).map(ne=>ne.onChanges);this.linkInputChangesSubscription=(0,we.D)(F).pipe((0,Yt.J)()).subscribe(ne=>{this._isActive!==this.isLinkActive(this.router)(ne)&&this.update()})}set routerLinkActive(T){const F=Array.isArray(T)?T:T.split(" ");this.classes=F.filter(ne=>!!ne)}ngOnChanges(T){this.update()}ngOnDestroy(){var T;this.routerEventsSubscription.unsubscribe(),null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const T=this.hasActiveLinks();this._isActive!==T&&(this._isActive=T,this.cdr.markForCheck(),this.classes.forEach(F=>{T?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const F=function Ca(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ne=>!!ne.urlTree&&T.isActive(ne.urlTree,F)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.links.some(T)}}return(b=M).\u0275fac=function(T){return new(T||b)(g.Y36(Ms),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(ba,8))},b.\u0275dir=g.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(T,F,ne){if(1&T&&g.Suo(ne,ba,5),2&T){let de;g.iGM(de=g.CRH())&&(F.links=de)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.TTD]}),M})();class Wl{}let ys=(()=>{var b;class M{preload(T,F){return F().pipe(jt(()=>(0,Ce.of)(null)))}}return(b=M).\u0275fac=function(T){return new(T||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})(),mo=(()=>{var b;class M{constructor(T,F,ne,de,dt){this.router=T,this.injector=ne,this.preloadingStrategy=de,this.loader=dt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.h)(T=>T instanceof ci),ht(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){const ne=[];for(const wt of F){var de,dt;wt.providers&&!wt._injector&&(wt._injector=(0,g.MMx)(wt.providers,T,`Route: ${wt.path}`));const He=null!==(de=wt._injector)&&void 0!==de?de:T,tr=null!==(dt=wt._loadedInjector)&&void 0!==dt?dt:He;var Wt;(wt.loadChildren&&!wt._loadedRoutes&&void 0===wt.canLoad||wt.loadComponent&&!wt._loadedComponent)&&ne.push(this.preloadConfig(He,wt)),(wt.children||wt._loadedRoutes)&&ne.push(this.processRoutes(tr,null!==(Wt=wt.children)&&void 0!==Wt?Wt:wt._loadedRoutes))}return(0,we.D)(ne).pipe((0,Yt.J)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let ne;ne=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,Ce.of)(null);const de=ne.pipe((0,ze.z)(dt=>{var Wt;return null===dt?(0,Ce.of)(void 0):(F._loadedRoutes=dt.routes,F._loadedInjector=dt.injector,this.processRoutes(null!==(Wt=dt.injector)&&void 0!==Wt?Wt:T,dt.routes))}));if(F.loadComponent&&!F._loadedComponent){const dt=this.loader.loadComponent(F);return(0,we.D)([de,dt]).pipe((0,Yt.J)())}return de})}}return(b=M).\u0275fac=function(T){return new(T||b)(g.LFG(Ms),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Wl),g.LFG($))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();const Xa=new g.OlP("");let vo=(()=>{var b;class M{constructor(T,F,ne,de,dt={}){this.urlSerializer=T,this.transitions=F,this.viewportScroller=ne,this.zone=de,this.options=dt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},dt.scrollPositionRestoration=dt.scrollPositionRestoration||"disabled",dt.anchorScrolling=dt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Fi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof ci?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Ui&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof zn&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zn(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var T,F;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return(b=M).\u0275fac=function(T){g.$Z()},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),M})();function ts(b,M){return{\u0275kind:b,\u0275providers:M}}function Dn(){const b=(0,g.f3M)(g.zs3);return M=>{var k,T;const F=b.get(g.z2F);if(M!==F.components[0])return;const ne=b.get(Ms),de=b.get(Tt);1===b.get(kt)&&ne.initialNavigation(),null===(k=b.get(Sa,null,g.XFs.Optional))||void 0===k||k.setUpPreloading(),null===(T=b.get(Xa,null,g.XFs.Optional))||void 0===T||T.init(),ne.resetRootComponentType(F.componentTypes[0]),de.closed||(de.next(),de.complete(),de.unsubscribe())}}const Tt=new g.OlP("",{factory:()=>new ve.x}),kt=new g.OlP("",{providedIn:"root",factory:()=>1}),Sa=new g.OlP("");function Qa(b){return ts(0,[{provide:Sa,useExisting:mo},{provide:Wl,useExisting:b}])}const Ja=new g.OlP("ROUTER_FORROOT_GUARD"),Xo=[ge.Ye,{provide:Un,useClass:mi},Ms,st,{provide:ii,useFactory:function Wi(b){return b.routerState.root},deps:[Ms]},$,[]];function rr(){return new g.PXZ("Router",Ms)}let Aa=(()=>{var b;class M{constructor(T){}static forRoot(T,F){return{ngModule:M,providers:[Xo,[],{provide:De,multi:!0,useValue:T},{provide:Ja,useFactory:Co,deps:[[Ms,new g.FiY,new g.tp0]]},{provide:Tr,useValue:F||{}},null!=F&&F.useHash?{provide:ge.S$,useClass:ge.Do}:{provide:ge.S$,useClass:ge.b0},{provide:Xa,useFactory:()=>{const b=(0,g.f3M)(ge.EM),M=(0,g.f3M)(g.R0b),k=(0,g.f3M)(Tr),T=(0,g.f3M)(Pt),F=(0,g.f3M)(Un);return k.scrollOffset&&b.setOffset(k.scrollOffset),new vo(F,T,b,M,k)}},null!=F&&F.preloadingStrategy?Qa(F.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:rr},null!=F&&F.initialNavigation?Gr(F):[],null!=F&&F.bindToComponentInputs?ts(8,[Zr,{provide:cs,useExisting:Zr}]).\u0275providers:[],[{provide:ql,useFactory:Dn},{provide:g.tb,multi:!0,useExisting:ql}]]}}static forChild(T){return{ngModule:M,providers:[{provide:De,multi:!0,useValue:T}]}}}return(b=M).\u0275fac=function(T){return new(T||b)(g.LFG(Ja,8))},b.\u0275mod=g.oAB({type:b}),b.\u0275inj=g.cJS({}),M})();function Co(b){return"guarded"}function Gr(b){return["disabled"===b.initialNavigation?ts(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const M=(0,g.f3M)(Ms);return()=>{M.setUpLocationChangeListener()}}},{provide:kt,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?ts(2,[{provide:kt,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:M=>{const k=M.get(ge.V_,Promise.resolve());return()=>k.then(()=>new Promise(T=>{const F=M.get(Ms),ne=M.get(Tt);Oo(F,()=>{T(!0)}),M.get(Pt).afterPreactivation=()=>(T(!0),ne.closed?(0,Ce.of)(void 0):ne),F.initialNavigation()}))}}]).\u0275providers:[]]}const ql=new g.OlP("")},3106:(en,nt,O)=>{"use strict";O.d(nt,{Z:()=>Ke});var g=O(9058),p=O(4537),Q=O(534),le=O(7879);class we{constructor(Re,Ae){this._delegate=Re,this.firebase=Ae,(0,Q._addComponent)(Re,new p.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(Re,Ae=Q._DEFAULT_ENTRY_NAME){var pe;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(Re);return!_t.isInitialized()&&"EXPLICIT"===(null===(pe=_t.getComponent())||void 0===pe?void 0:pe.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:Ae})}_removeServiceInstance(Re,Ae=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Ae)}_addComponent(Re){(0,Q._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,Q._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function Ue(){const lt=function qe(lt){const Re={},Ae={__esModule:!0,initializeApp:function ve(ye,Me={}){const Le=Q.initializeApp(ye,Me);if((0,g.r3)(Re,Le.name))return Re[Le.name];const ze=new lt(Le,Ae);return Re[Le.name]=ze,ze},app:_t,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function me(ye){const Me=ye.name,Le=Me.replace("-compat","");if(Q._registerComponent(ye)&&"PUBLIC"===ye.type){const ze=(ct=_t())=>{if("function"!=typeof ct[Le])throw fe.create("invalid-app-argument",{appName:Me});return ct[Le]()};void 0!==ye.serviceProps&&(0,g.ZB)(ze,ye.serviceProps),Ae[Le]=ze,lt.prototype[Le]=function(...ct){return this._getService.bind(this,Me).apply(this,ye.multipleInstances?ct:[])}}return"PUBLIC"===ye.type?Ae[Le]:null},removeApp:function pe(ye){delete Re[ye]},useAsService:function Se(ye,Me){return"serverAuth"===Me?null:Me},modularAPIs:Q}};function _t(ye){if(!(0,g.r3)(Re,ye=ye||Q._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ye});return Re[ye]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ge(){return Object.keys(Re).map(ye=>Re[ye])}}),_t.App=lt,Ae}(we);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function Re(Ae){(0,g.ZB)(lt,Ae)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),lt}(),se=new le.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=_e;!function ke(lt){(0,Q.registerVersion)("@firebase/app-compat","0.2.13",lt)}()},534:(en,nt,O)=>{"use strict";O.r(nt),O.d(nt,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Pr,_DEFAULT_ENTRY_NAME:()=>gr,_addComponent:()=>Yn,_addOrOverwriteComponent:()=>Lr,_apps:()=>Pn,_clearComponents:()=>ir,_components:()=>mr,_getProvider:()=>Hn,_registerComponent:()=>Zt,_removeServiceInstance:()=>Ut,deleteApp:()=>ti,getApp:()=>Nr,getApps:()=>vi,initializeApp:()=>ri,onLog:()=>Wr,registerVersion:()=>kr,setLogLevel:()=>vr});var g=O(5861),p=O(4537),Q=O(7879),le=O(9058);const we=(bt,rt)=>rt.some(Ot=>bt instanceof Ot);let Ce,fe;const _e=new WeakMap,se=new WeakMap,Oe=new WeakMap,xe=new WeakMap,ke=new WeakMap;let Re={get(bt,rt,Ot){if(bt instanceof IDBTransaction){if("done"===rt)return se.get(bt);if("objectStoreNames"===rt)return bt.objectStoreNames||Oe.get(bt);if("store"===rt)return Ot.objectStoreNames[1]?void 0:Ot.objectStore(Ot.objectStoreNames[0])}return ve(bt[rt])},set:(bt,rt,Ot)=>(bt[rt]=Ot,!0),has:(bt,rt)=>bt instanceof IDBTransaction&&("done"===rt||"store"===rt)||rt in bt};function _t(bt){return"function"==typeof bt?function pe(bt){return bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ue(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(bt)?function(...rt){return bt.apply(ge(this),rt),ve(_e.get(this))}:function(...rt){return ve(bt.apply(ge(this),rt))}:function(rt,...Ot){const hn=bt.call(ge(this),rt,...Ot);return Oe.set(hn,rt.sort?rt.sort():[rt]),ve(hn)}}(bt):(bt instanceof IDBTransaction&&function lt(bt){if(se.has(bt))return;const rt=new Promise((Ot,hn)=>{const yn=()=>{bt.removeEventListener("complete",Xt),bt.removeEventListener("error",Qn),bt.removeEventListener("abort",Qn)},Xt=()=>{Ot(),yn()},Qn=()=>{hn(bt.error||new DOMException("AbortError","AbortError")),yn()};bt.addEventListener("complete",Xt),bt.addEventListener("error",Qn),bt.addEventListener("abort",Qn)});se.set(bt,rt)}(bt),we(bt,function qe(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(bt,Re):bt)}function ve(bt){if(bt instanceof IDBRequest)return function Ke(bt){const rt=new Promise((Ot,hn)=>{const yn=()=>{bt.removeEventListener("success",Xt),bt.removeEventListener("error",Qn)},Xt=()=>{Ot(ve(bt.result)),yn()},Qn=()=>{hn(bt.error),yn()};bt.addEventListener("success",Xt),bt.addEventListener("error",Qn)});return rt.then(Ot=>{Ot instanceof IDBCursor&&_e.set(Ot,bt)}).catch(()=>{}),ke.set(rt,bt),rt}(bt);if(xe.has(bt))return xe.get(bt);const rt=_t(bt);return rt!==bt&&(xe.set(bt,rt),ke.set(rt,bt)),rt}const ge=bt=>ke.get(bt),ye=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],Le=new Map;function ze(bt,rt){if(!(bt instanceof IDBDatabase)||rt in bt||"string"!=typeof rt)return;if(Le.get(rt))return Le.get(rt);const Ot=rt.replace(/FromIndex$/,""),hn=rt!==Ot,yn=Me.includes(Ot);if(!(Ot in(hn?IDBIndex:IDBObjectStore).prototype)||!yn&&!ye.includes(Ot))return;const Xt=function(){var Qn=(0,g.Z)(function*(yr,..._r){const Mr=this.transaction(yr,yn?"readwrite":"readonly");let $r=Mr.store;return hn&&($r=$r.index(_r.shift())),(yield Promise.all([$r[Ot](..._r),yn&&Mr.done]))[0]});return function(_r){return Qn.apply(this,arguments)}}();return Le.set(rt,Xt),Xt}!function Ae(bt){Re=bt(Re)}(bt=>({...bt,get:(rt,Ot,hn)=>ze(rt,Ot)||bt.get(rt,Ot,hn),has:(rt,Ot)=>!!ze(rt,Ot)||bt.has(rt,Ot)}));class ct{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Ot=>{if(function ht(bt){const rt=bt.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(Ot)){const hn=Ot.getImmediate();return`${hn.library}/${hn.version}`}return null}).filter(Ot=>Ot).join(" ")}}const It="@firebase/app",Tn=new Q.Yd("@firebase/app"),gr="[DEFAULT]",un={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pn=new Map,mr=new Map;function Yn(bt,rt){try{bt.container.addComponent(rt)}catch(Ot){Tn.debug(`Component ${rt.name} failed to register with FirebaseApp ${bt.name}`,Ot)}}function Lr(bt,rt){bt.container.addOrOverwriteComponent(rt)}function Zt(bt){const rt=bt.name;if(mr.has(rt))return Tn.debug(`There were multiple attempts to register component ${rt}.`),!1;mr.set(rt,bt);for(const Ot of Pn.values())Yn(Ot,bt);return!0}function Hn(bt,rt){const Ot=bt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ot&&Ot.triggerHeartbeat(),bt.container.getProvider(rt)}function Ut(bt,rt,Ot=gr){Hn(bt,rt).clearInstance(Ot)}function ir(){mr.clear()}const Un=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mi{constructor(rt,Ot,hn){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Ot),this._name=Ot.name,this._automaticDataCollectionEnabled=Ot.automaticDataCollectionEnabled,this._container=hn,this.container.addComponent(new p.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const Pr="9.23.0";function ri(bt,rt={}){let Ot=bt;"object"!=typeof rt&&(rt={name:rt});const hn=Object.assign({name:gr,automaticDataCollectionEnabled:!1},rt),yn=hn.name;if("string"!=typeof yn||!yn)throw Un.create("bad-app-name",{appName:String(yn)});if(Ot||(Ot=(0,le.aH)()),!Ot)throw Un.create("no-options");const Xt=Pn.get(yn);if(Xt){if((0,le.vZ)(Ot,Xt.options)&&(0,le.vZ)(hn,Xt.config))return Xt;throw Un.create("duplicate-app",{appName:yn})}const Qn=new p.H0(yn);for(const _r of mr.values())Qn.addComponent(_r);const yr=new mi(Ot,hn,Qn);return Pn.set(yn,yr),yr}function Nr(bt=gr){const rt=Pn.get(bt);if(!rt&&bt===gr&&(0,le.aH)())return ri();if(!rt)throw Un.create("no-app",{appName:bt});return rt}function vi(){return Array.from(Pn.values())}function ti(bt){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,g.Z)(function*(bt){const rt=bt.name;Pn.has(rt)&&(Pn.delete(rt),yield Promise.all(bt.container.getProviders().map(Ot=>Ot.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function kr(bt,rt,Ot){var hn;let yn=null!==(hn=un[bt])&&void 0!==hn?hn:bt;Ot&&(yn+=`-${Ot}`);const Xt=yn.match(/\s|\//),Qn=rt.match(/\s|\//);if(Xt||Qn){const yr=[`Unable to register library "${yn}" with version "${rt}":`];return Xt&&yr.push(`library name "${yn}" contains illegal characters (whitespace or "/")`),Xt&&Qn&&yr.push("and"),Qn&&yr.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void Tn.warn(yr.join(" "))}Zt(new p.wA(`${yn}-version`,()=>({library:yn,version:rt}),"VERSION"))}function Wr(bt,rt){if(null!==bt&&"function"!=typeof bt)throw Un.create("invalid-log-argument");(0,Q.Am)(bt,rt)}function vr(bt){(0,Q.Ub)(bt)}const Ar="firebase-heartbeat-database",qn=1,Ve="firebase-heartbeat-store";let re=null;function J(){return re||(re=function me(bt,rt,{blocked:Ot,upgrade:hn,blocking:yn,terminated:Xt}={}){const Qn=indexedDB.open(bt,rt),yr=ve(Qn);return hn&&Qn.addEventListener("upgradeneeded",_r=>{hn(ve(Qn.result),_r.oldVersion,_r.newVersion,ve(Qn.transaction),_r)}),Ot&&Qn.addEventListener("blocked",_r=>Ot(_r.oldVersion,_r.newVersion,_r)),yr.then(_r=>{Xt&&_r.addEventListener("close",()=>Xt()),yn&&_r.addEventListener("versionchange",Mr=>yn(Mr.oldVersion,Mr.newVersion,Mr))}).catch(()=>{}),yr}(Ar,qn,{upgrade:(bt,rt)=>{0===rt&&bt.createObjectStore(Ve)}}).catch(bt=>{throw Un.create("idb-open",{originalErrorMessage:bt.message})})),re}function oe(){return(oe=(0,g.Z)(function*(bt){try{return yield(yield J()).transaction(Ve).objectStore(Ve).get(Bt(bt))}catch(rt){if(rt instanceof le.ZR)Tn.warn(rt.message);else{const Ot=Un.create("idb-get",{originalErrorMessage:null==rt?void 0:rt.message});Tn.warn(Ot.message)}}})).apply(this,arguments)}function Ge(bt,rt){return Et.apply(this,arguments)}function Et(){return(Et=(0,g.Z)(function*(bt,rt){try{const hn=(yield J()).transaction(Ve,"readwrite");yield hn.objectStore(Ve).put(rt,Bt(bt)),yield hn.done}catch(Ot){if(Ot instanceof le.ZR)Tn.warn(Ot.message);else{const hn=Un.create("idb-set",{originalErrorMessage:null==Ot?void 0:Ot.message});Tn.warn(hn.message)}}})).apply(this,arguments)}function Bt(bt){return`${bt.name}!${bt.options.appId}`}class ln{constructor(rt){this.container=rt,this._heartbeatsCache=null;const Ot=this.container.getProvider("app").getImmediate();this._storage=new fr(Ot),this._heartbeatsCachePromise=this._storage.read().then(hn=>(this._heartbeatsCache=hn,hn))}triggerHeartbeat(){var rt=this;return(0,g.Z)(function*(){const hn=rt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yn=Fn();if(null===rt._heartbeatsCache&&(rt._heartbeatsCache=yield rt._heartbeatsCachePromise),rt._heartbeatsCache.lastSentHeartbeatDate!==yn&&!rt._heartbeatsCache.heartbeats.some(Xt=>Xt.date===yn))return rt._heartbeatsCache.heartbeats.push({date:yn,agent:hn}),rt._heartbeatsCache.heartbeats=rt._heartbeatsCache.heartbeats.filter(Xt=>{const Qn=new Date(Xt.date).valueOf();return Date.now()-Qn<=2592e6}),rt._storage.overwrite(rt._heartbeatsCache)})()}getHeartbeatsHeader(){var rt=this;return(0,g.Z)(function*(){if(null===rt._heartbeatsCache&&(yield rt._heartbeatsCachePromise),null===rt._heartbeatsCache||0===rt._heartbeatsCache.heartbeats.length)return"";const Ot=Fn(),{heartbeatsToSend:hn,unsentEntries:yn}=function br(bt,rt=1024){const Ot=[];let hn=bt.slice();for(const yn of bt){const Xt=Ot.find(Qn=>Qn.agent===yn.agent);if(Xt){if(Xt.dates.push(yn.date),yi(Ot)>rt){Xt.dates.pop();break}}else if(Ot.push({agent:yn.agent,dates:[yn.date]}),yi(Ot)>rt){Ot.pop();break}hn=hn.slice(1)}return{heartbeatsToSend:Ot,unsentEntries:hn}}(rt._heartbeatsCache.heartbeats),Xt=(0,le.L)(JSON.stringify({version:2,heartbeats:hn}));return rt._heartbeatsCache.lastSentHeartbeatDate=Ot,yn.length>0?(rt._heartbeatsCache.heartbeats=yn,yield rt._storage.overwrite(rt._heartbeatsCache)):(rt._heartbeatsCache.heartbeats=[],rt._storage.overwrite(rt._heartbeatsCache)),Xt})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class fr{constructor(rt){this.app=rt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var rt=this;return(0,g.Z)(function*(){return(yield rt._canUseIndexedDBPromise)&&(yield function Pe(bt){return oe.apply(this,arguments)}(rt.app))||{heartbeats:[]}})()}overwrite(rt){var Ot=this;return(0,g.Z)(function*(){var hn;if(yield Ot._canUseIndexedDBPromise){const Xt=yield Ot.read();return Ge(Ot.app,{lastSentHeartbeatDate:null!==(hn=rt.lastSentHeartbeatDate)&&void 0!==hn?hn:Xt.lastSentHeartbeatDate,heartbeats:rt.heartbeats})}})()}add(rt){var Ot=this;return(0,g.Z)(function*(){var hn;if(yield Ot._canUseIndexedDBPromise){const Xt=yield Ot.read();return Ge(Ot.app,{lastSentHeartbeatDate:null!==(hn=rt.lastSentHeartbeatDate)&&void 0!==hn?hn:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...rt.heartbeats]})}})()}}function yi(bt){return(0,le.L)(JSON.stringify({version:2,heartbeats:bt})).length}!function Ai(bt){Zt(new p.wA("platform-logger",rt=>new ct(rt),"PRIVATE")),Zt(new p.wA("heartbeat",rt=>new ln(rt),"PRIVATE")),kr(It,"0.9.13",bt),kr(It,"0.9.13","esm2017"),kr("fire-js","")}("")},4537:(en,nt,O)=>{"use strict";O.d(nt,{H0:()=>qe,wA:()=>Q,zt:()=>we});var g=O(5861),p=O(9058);class Q{constructor(_e,se,Oe){this.name=_e,this.instanceFactory=se,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const le="[DEFAULT]";class we{constructor(_e,se){this.name=_e,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const se=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(se)){const Oe=new p.BH;if(this.instancesDeferred.set(se,Oe),this.isInitialized(se)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:se});xe&&Oe.resolve(xe)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(_e){var se;const Oe=this.normalizeInstanceIdentifier(null==_e?void 0:_e.identifier),xe=null!==(se=null==_e?void 0:_e.optional)&&void 0!==se&&se;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ke){if(xe)return null;throw ke}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function fe(Ue){return"EAGER"===Ue.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[se,Oe]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(se);try{const ke=this.getOrInitializeService({instanceIdentifier:xe});Oe.resolve(ke)}catch{}}}}clearInstance(_e=le){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,g.Z)(function*(){const se=Array.from(_e.instances.values());yield Promise.all([...se.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...se.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=le){return this.instances.has(_e)}getOptions(_e=le){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:se={}}=_e,Oe=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:Oe,options:se});for(const[ke,Ke]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ke)&&Ke.resolve(xe);return xe}onInit(_e,se){var Oe;const xe=this.normalizeInstanceIdentifier(se),ke=null!==(Oe=this.onInitCallbacks.get(xe))&&void 0!==Oe?Oe:new Set;ke.add(_e),this.onInitCallbacks.set(xe,ke);const Ke=this.instances.get(xe);return Ke&&_e(Ke,xe),()=>{ke.delete(_e)}}invokeOnInitCallbacks(_e,se){const Oe=this.onInitCallbacks.get(se);if(Oe)for(const xe of Oe)try{xe(_e,se)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:se={}}){let Oe=this.instances.get(_e);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=_e,Ue===le?void 0:Ue),options:se}),this.instances.set(_e,Oe),this.instancesOptions.set(_e,se),this.invokeOnInitCallbacks(Oe,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Oe)}catch{}var Ue;return Oe||null}normalizeInstanceIdentifier(_e=le){return this.component?this.component.multipleInstances?_e:le:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qe{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const se=this.getProvider(_e.name);if(se.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);se.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const se=new we(_e,this);return this.providers.set(_e,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(en,nt,O)=>{"use strict";O.d(nt,{Am:()=>Ue,Ub:()=>qe,Yd:()=>fe,in:()=>p});const g=[];var p=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(p||{});const Q={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},le=p.INFO,we={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},Ce=(_e,se,...Oe)=>{if(se<_e.logLevel)return;const xe=(new Date).toISOString(),ke=we[se];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[ke](`[${xe}]  ${_e.name}:`,...Oe)};class fe{constructor(se){this.name=se,this._logLevel=le,this._logHandler=Ce,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in p))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?Q[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...se),this._logHandler(this,p.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...se),this._logHandler(this,p.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,p.INFO,...se),this._logHandler(this,p.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,p.WARN,...se),this._logHandler(this,p.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...se),this._logHandler(this,p.ERROR,...se)}}function qe(_e){g.forEach(se=>{se.setLogLevel(_e)})}function Ue(_e,se){for(const Oe of g){let xe=null;se&&se.level&&(xe=Q[se.level]),Oe.userLogHandler=null===_e?null:(ke,Ke,...lt)=>{const Re=lt.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ke>=(null!=xe?xe:ke.logLevel)&&_e({level:p[Ke].toLowerCase(),message:Re,args:lt,type:ke.name})}}}},7027:(en,nt,O)=>{"use strict";O.d(nt,{BX:()=>Ks,Br:()=>no,w:()=>pr,dr:()=>Pr,BJ:()=>ri,oU:()=>Nr,cs:()=>Br,YG:()=>Wr,Sm:()=>vr,PM:()=>Ar,FN:()=>qn,Zi:()=>Ve,tO:()=>re,Dq:()=>J,nz:()=>Pe,wI:()=>Ge,W2:()=>Et,IJ:()=>vn,W4:()=>ln,jY:()=>fr,Gu:()=>yi,gu:()=>Ai,Xz:()=>bt,pK:()=>hn,Ie:()=>yn,rH:()=>Xt,Ub:()=>Qn,Q$:()=>$r,q_:()=>Er,yh:()=>ar,z0:()=>ki,fG:()=>_i,zc:()=>rs,uN:()=>lr,jP:()=>or,Nd:()=>et,t9:()=>Vt,n0:()=>dn,jI:()=>nr,Bs:()=>Ht,wd:()=>Jt,sr:()=>cr,Pc:()=>X,r4:()=>D,HT:()=>ao,_q:()=>lo,SH:()=>Yr,as:()=>gr,YI:()=>to,QI:()=>Pn,j9:()=>mr,yF:()=>Ho});var g=O(5861),p=O(5879),Q=O(95),le=O(7582),we=O(4829),Ce=O(5592),fe=O(1631),qe=O(4266),Ue=O(4674),_e=O(7400);const se=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],xe=["on","off"];function ke(v,L,_,B){if((0,Ue.m)(_)&&(B=_,_=void 0),B)return ke(v,L,_).pipe((0,_e.Z)(B));const[ie,pt]=function Ae(v){return(0,Ue.m)(v.addEventListener)&&(0,Ue.m)(v.removeEventListener)}(v)?Oe.map(Gt=>an=>v[Gt](L,an,_)):function lt(v){return(0,Ue.m)(v.addListener)&&(0,Ue.m)(v.removeListener)}(v)?se.map(Ke(v,L)):function Re(v){return(0,Ue.m)(v.on)&&(0,Ue.m)(v.off)}(v)?xe.map(Ke(v,L)):[];if(!ie&&(0,qe.z)(v))return(0,fe.z)(Gt=>ke(Gt,L,_))((0,we.Xf)(v));if(!ie)throw new TypeError("Invalid event target");return new Ce.y(Gt=>{const an=(...An)=>Gt.next(1<An.length?An:An[0]);return ie(an),()=>pt(an)})}function Ke(v,L){return _=>B=>v[_](L,B)}var pe=O(8645),_t=O(5619),ve=O(2572),ge=O(2096),me=O(2891),ze=(O(1774),O(2650),O(1904),O(9203),O(2085)),ct=O(839),ht=O(3365),It=O(1651),jt=O(5662),Tn=O(4988),ue=(O(6225),O(619),O(1688)),Fe=O(2181),Ze=O(4664),tt=O(3997),Xe=O(6814);const Yt=ze.i,Te=["*"],xn=v=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(v):"function"==typeof requestAnimationFrame?requestAnimationFrame(v):setTimeout(v);let Sn=(()=>{class v{constructor(_,B){this.injector=_,this.el=B,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(_){this.el.nativeElement.value=this.lastValue=_,wn(this.el)}handleValueChange(_,B){_===this.el.nativeElement&&(B!==this.lastValue&&(this.lastValue=B,this.onChange(B)),wn(this.el))}_handleBlurEvent(_){_===this.el.nativeElement&&(this.onTouched(),wn(this.el))}registerOnChange(_){this.onChange=_}registerOnTouched(_){this.onTouched=_}setDisabledState(_){this.el.nativeElement.disabled=_}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let _;try{_=this.injector.get(Q.a5)}catch{}if(!_)return;_.statusChanges&&(this.statusChanges=_.statusChanges.subscribe(()=>wn(this.el)));const B=_.control;B&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(pt=>{if(typeof B[pt]<"u"){const Gt=B[pt].bind(B);B[pt]=(...an)=>{Gt(...an),wn(this.el)}}})}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.zs3),p.Y36(p.SBq))},v.\u0275dir=p.lG2({type:v,hostBindings:function(_,B){1&_&&p.NdJ("ionBlur",function(pt){return B._handleBlurEvent(pt.target)})}}),v})();const wn=v=>{xn(()=>{const L=v.nativeElement,_=null!=L.value&&L.value.toString().length>0,B=On(L);Bn(L,B);const ie=L.closest("ion-item");ie&&Bn(ie,_?[...B,"item-has-value"]:B)})},On=v=>{const L=v.classList,_=[];for(let B=0;B<L.length;B++){const ie=L.item(B);null!==ie&&Or(ie,"ng-")&&_.push(`ion-${ie.substring(3)}`)}return _},Bn=(v,L)=>{const _=v.classList;_.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),_.add(...L)},Or=(v,L)=>v.substring(0,L.length)===L;let pr=(()=>{class v extends Sn{constructor(_,B){super(_,B)}writeValue(_){this.el.nativeElement.checked=this.lastValue=_,wn(this.el)}_handleIonChange(_){this.handleValueChange(_,_.checked)}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.zs3),p.Y36(p.SBq))},v.\u0275dir=p.lG2({type:v,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(_,B){1&_&&p.NdJ("ionChange",function(pt){return B._handleIonChange(pt.target)})},features:[p._Bn([{provide:Q.JU,useExisting:v,multi:!0}]),p.qOj]}),v})(),gr=(()=>{class v extends Sn{constructor(_,B){super(_,B)}handleInputEvent(_){this.handleValueChange(_,_.value)}registerOnChange(_){super.registerOnChange(B=>{_(""===B?null:parseFloat(B))})}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.zs3),p.Y36(p.SBq))},v.\u0275dir=p.lG2({type:v,selectors:[["ion-input","type","number"]],hostBindings:function(_,B){1&_&&p.NdJ("ionInput",function(pt){return B.handleInputEvent(pt.target)})},features:[p._Bn([{provide:Q.JU,useExisting:v,multi:!0}]),p.qOj]}),v})(),Pn=(()=>{class v extends Sn{constructor(_,B){super(_,B)}_handleChangeEvent(_){this.handleValueChange(_,_.value)}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.zs3),p.Y36(p.SBq))},v.\u0275dir=p.lG2({type:v,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(_,B){1&_&&p.NdJ("ionChange",function(pt){return B._handleChangeEvent(pt.target)})},features:[p._Bn([{provide:Q.JU,useExisting:v,multi:!0}]),p.qOj]}),v})(),mr=(()=>{class v extends Sn{constructor(_,B){super(_,B)}_handleInputEvent(_){this.handleValueChange(_,_.value)}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.zs3),p.Y36(p.SBq))},v.\u0275dir=p.lG2({type:v,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(_,B){1&_&&p.NdJ("ionInput",function(pt){return B._handleInputEvent(pt.target)})},features:[p._Bn([{provide:Q.JU,useExisting:v,multi:!0}]),p.qOj]}),v})();const Yn=(v,L)=>{const _=v.prototype;L.forEach(B=>{Object.defineProperty(_,B,{get(){return this.el[B]},set(ie){this.z.runOutsideAngular(()=>this.el[B]=ie)}})})},Lr=(v,L)=>{const _=v.prototype;L.forEach(B=>{_[B]=function(){const ie=arguments;return this.z.runOutsideAngular(()=>this.el[B].apply(this.el,ie))}})},Zt=(v,L,_)=>{_.forEach(B=>v[B]=ke(L,B))};function Ut(v){return function(_){const{defineCustomElementFn:B,inputs:ie,methods:pt}=v;return void 0!==B&&B(),ie&&Yn(_,ie),pt&&Lr(_,pt),_}}let Pr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({})],v),v})(),ri=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-avatar"]],ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({})],v),v})(),Nr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],v),v})(),Wr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],v),v})(),vr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["collapse"]})],v),v})(),Ar=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],v),v})(),qn=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["mode"]})],v),v})(),Ve=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","mode","translucent"]})],v),v})(),re=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","mode"]})],v),v})(),J=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","mode"]})],v),v})(),Pe=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionChange","ionFocus","ionBlur"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],v),v})(),Ge=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],v),v})(),Et=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],v),v})(),vn=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],v),v})(),ln=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],v),v})(),fr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["fixed"]})],v),v})(),yi=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["collapse","mode","translucent"]})],v),v})(),Ai=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],v),v})(),bt=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["alt","src"]})],v),v})(),hn=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],v),v})(),yn=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],v),v})(),Xt=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","mode","sticky"]})],v),v})(),Qn=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-item-group"]],ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({})],v),v})(),$r=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","mode","position"]})],v),v})(),Er=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],v),v})(),ar=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","lines","mode"]})],v),v})(),ki=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],v),v})(),_i=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["autoHide","color","disabled","menu","mode","type"]})],v),v})(),rs=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["autoHide","menu"]})],v),v})(),lr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","mode"]})],v),v})(),et=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-row"]],ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({})],v),v})(),Vt=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],v),v})(),dn=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["disabled","value"]})],v),v})(),nr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement,Zt(this,this.el,["ionSplitPaneVisible"])}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["contentId","disabled","when"]})],v),v})(),Ht=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-thumbnail"]],ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({})],v),v})(),Jt=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","size"]})],v),v})(),cr=(()=>{let v=class{constructor(_,B,ie){this.z=ie,_.detach(),this.el=B.nativeElement}};return v.\u0275fac=function(_){return new(_||v)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(p.R0b))},v.\u0275cmp=p.Xpm({type:v,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(_,B){1&_&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,le.gn)([Ut({inputs:["color","mode"]})],v),v})(),ni=(()=>{class v{get(_,B){const ie=ii();return ie?ie.get(_,B):null}getBoolean(_,B){const ie=ii();return!!ie&&ie.getBoolean(_,B)}getNumber(_,B){const ie=ii();return ie?ie.getNumber(_,B):0}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const so=new p.OlP("USERCONFIG"),ii=()=>{if(typeof window<"u"){const v=window.Ionic;if(null!=v&&v.config)return v.config}return null};let Cs=(()=>{class v{constructor(_,B){this.doc=_,this.backButton=new pe.x,this.keyboardDidShow=new pe.x,this.keyboardDidHide=new pe.x,this.pause=new pe.x,this.resume=new pe.x,this.resize=new pe.x,B.run(()=>{var ie;let pt;this.win=_.defaultView,this.backButton.subscribeWithPriority=function(Gt,an){return this.subscribe(An=>An.register(Gt,Jn=>B.run(()=>an(Jn))))},zi(this.pause,_,"pause"),zi(this.resume,_,"resume"),zi(this.backButton,_,"ionBackButton"),zi(this.resize,this.win,"resize"),zi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),zi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Gt=>{pt=Gt}),null!==(ie=this.win)&&void 0!==ie&&ie.cordova?_.addEventListener("deviceready",()=>{pt("cordova")},{once:!0}):pt("dom")})}is(_){return(0,ze.a)(this.win,_)}platforms(){return(0,ze.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(_){return ls(this.win.location.href,_)}isLandscape(){return!this.isPortrait()}isPortrait(){var _,B;return null===(_=(B=this.win).matchMedia)||void 0===_?void 0:_.call(B,"(orientation: portrait)").matches}testUserAgent(_){const B=this.win.navigator;return!!(null!=B&&B.userAgent&&B.userAgent.indexOf(_)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return v.\u0275fac=function(_){return new(_||v)(p.LFG(Xe.K0),p.LFG(p.R0b))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ls=(v,L)=>{L=L.replace(/[[\]\\]/g,"\\$&");const B=new RegExp("[\\?&]"+L+"=([^&#]*)").exec(v);return B?decodeURIComponent(B[1].replace(/\+/g," ")):null},zi=(v,L,_)=>{L&&L.addEventListener(_,B=>{v.next(null!=B?B.detail:void 0)})};let Yr=(()=>{class v{constructor(_,B,ie,pt){this.location=B,this.serializer=ie,this.router=pt,this.direction=Kn,this.animated=dr,this.guessDirection="forward",this.lastNavId=-1,pt&&pt.events.subscribe(Gt=>{if(Gt instanceof me.OD){const an=Gt.restoredState?Gt.restoredState.navigationId:Gt.id;this.guessDirection=an<this.lastNavId?"back":"forward",this.guessAnimation=Gt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Gt.id:an}}),_.backButton.subscribeWithPriority(0,Gt=>{this.pop(),Gt()})}navigateForward(_,B={}){return this.setDirection("forward",B.animated,B.animationDirection,B.animation),this.navigate(_,B)}navigateBack(_,B={}){return this.setDirection("back",B.animated,B.animationDirection,B.animation),this.navigate(_,B)}navigateRoot(_,B={}){return this.setDirection("root",B.animated,B.animationDirection,B.animation),this.navigate(_,B)}back(_={animated:!0,animationDirection:"back"}){return this.setDirection("back",_.animated,_.animationDirection,_.animation),this.location.back()}pop(){var _=this;return(0,g.Z)(function*(){let B=_.topOutlet;for(;B;){if(yield B.pop())return!0;B=B.parentOutlet}return!1})()}setDirection(_,B,ie,pt){this.direction=_,this.animated=tn(_,B,ie),this.animationBuilder=pt}setTopOutlet(_){this.topOutlet=_}consumeTransition(){let B,_="root";const ie=this.animationBuilder;return"auto"===this.direction?(_=this.guessDirection,B=this.guessAnimation):(B=this.animated,_=this.direction),this.direction=Kn,this.animated=dr,this.animationBuilder=void 0,{direction:_,animation:B,animationBuilder:ie}}navigate(_,B){if(Array.isArray(_))return this.router.navigate(_,B);{const ie=this.serializer.parse(_.toString());return void 0!==B.queryParams&&(ie.queryParams={...B.queryParams}),void 0!==B.fragment&&(ie.fragment=B.fragment),this.router.navigateByUrl(ie,B)}}}return v.\u0275fac=function(_){return new(_||v)(p.LFG(Cs),p.LFG(Xe.Ye),p.LFG(me.Hx),p.LFG(me.F0,8))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const tn=(v,L,_)=>{if(!1!==L){if(void 0!==_)return _;if("forward"===v||"back"===v)return v;if("root"===v&&!0===L)return"forward"}},Kn="auto",dr=void 0;class Li{constructor(L={}){this.data=L}get(L){return this.data[L]}}let Ji=(()=>{class v{constructor(){this.zone=(0,p.f3M)(p.R0b),this.applicationRef=(0,p.f3M)(p.z2F)}create(_,B,ie){return new ji(_,B,this.applicationRef,this.zone,ie)}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})();class ji{constructor(L,_,B,ie,pt){this.environmentInjector=L,this.injector=_,this.applicationRef=B,this.zone=ie,this.elementReferenceKey=pt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(L,_,B,ie){return this.zone.run(()=>new Promise(pt=>{const Gt={...B};void 0!==this.elementReferenceKey&&(Gt[this.elementReferenceKey]=L),pt(cs(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,L,_,Gt,ie,this.elementReferenceKey))}))}removeViewFromDom(L,_){return this.zone.run(()=>new Promise(B=>{const ie=this.elRefMap.get(_);if(ie){ie.destroy(),this.elRefMap.delete(_);const pt=this.elEventsMap.get(_);pt&&(pt(),this.elEventsMap.delete(_))}B()}))}}const cs=(v,L,_,B,ie,pt,Gt,an,An,Jn,Jr)=>{const Hr=p.zs3.create({providers:Rn(An),parent:_}),Vr=(0,p.LMc)(an,{environmentInjector:L,elementInjector:Hr}),hs=Vr.instance,Gi=Vr.location.nativeElement;if(An&&(Jr&&void 0!==hs[Jr]&&console.error(`[Ionic Error]: ${Jr} is a reserved property when using ${Gt.tagName.toLowerCase()}. Rename or remove the "${Jr}" property from ${an.name}.`),Object.assign(hs,An)),Jn)for(const Fs of Jn)Gi.classList.add(Fs);const Bi=qs(v,hs,Gi);return Gt.appendChild(Gi),B.attachView(Vr.hostView),ie.set(Gi,Vr),pt.set(Gi,Bi),Gi},Zr=[It.L,It.a,It.b,It.c,It.d],qs=(v,L,_)=>v.run(()=>{const B=Zr.filter(ie=>"function"==typeof L[ie]).map(ie=>{const pt=Gt=>L[ie](Gt.detail);return _.addEventListener(ie,pt),()=>_.removeEventListener(ie,pt)});return()=>B.forEach(ie=>ie())}),fi=new p.OlP("NavParamsToken"),Rn=v=>[{provide:fi,useValue:v},{provide:Li,useFactory:$s,deps:[fi]}],$s=v=>new Li(v),gs=(v,L)=>((v=v.filter(_=>_.stackId!==L.stackId)).push(L),v),Si=(v,L)=>{const _=v.createUrlTree(["."],{relativeTo:L});return v.serializeUrl(_)},pi=(v,L)=>!L||v.stackId!==L.stackId,us=(v,L)=>{if(!v)return;const _=wo(L);for(let B=0;B<_.length;B++){if(B>=v.length)return _[B];if(_[B]!==v[B])return}},wo=v=>v.split("/").map(L=>L.trim()).filter(L=>""!==L),Ts=v=>{v&&(v.ref.destroy(),v.unlistenEvents())};class es{constructor(L,_,B,ie,pt,Gt){this.containerEl=_,this.router=B,this.navCtrl=ie,this.zone=pt,this.location=Gt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==L?wo(L):void 0}createView(L,_){var B;const ie=Si(this.router,_),pt=null==L||null===(B=L.location)||void 0===B?void 0:B.nativeElement,Gt=qs(this.zone,L.instance,pt);return{id:this.nextId++,stackId:us(this.tabsPrefix,ie),unlistenEvents:Gt,element:pt,ref:L,url:ie}}getExistingView(L){const _=Si(this.router,L),B=this.views.find(ie=>ie.url===_);return B&&B.ref.changeDetectorRef.reattach(),B}setActive(L){var _,B;const ie=this.navCtrl.consumeTransition();let{direction:pt,animation:Gt,animationBuilder:an}=ie;const An=this.activeView,Jn=pi(L,An);Jn&&(pt="back",Gt=void 0);const Jr=this.views.slice();let Hr;const Vr=this.router;Vr.getCurrentNavigation?Hr=Vr.getCurrentNavigation():null!==(_=Vr.navigations)&&void 0!==_&&_.value&&(Hr=Vr.navigations.value),null!==(B=Hr)&&void 0!==B&&null!==(B=B.extras)&&void 0!==B&&B.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const hs=this.views.includes(L),Gi=this.insertView(L,pt);hs||L.ref.changeDetectorRef.detectChanges();const Bi=L.animationBuilder;return void 0===an&&"back"===pt&&!Jn&&void 0!==Bi&&(an=Bi),An&&(An.animationBuilder=an),this.zone.runOutsideAngular(()=>this.wait(()=>(An&&An.ref.changeDetectorRef.detach(),L.ref.changeDetectorRef.reattach(),this.transition(L,An,Gt,this.canGoBack(1),!1,an).then(()=>ho(L,Gi,Jr,this.location,this.zone)).then(()=>({enteringView:L,direction:pt,animation:Gt,tabSwitch:Jn})))))}canGoBack(L,_=this.getActiveStackId()){return this.getStack(_).length>L}pop(L,_=this.getActiveStackId()){return this.zone.run(()=>{const B=this.getStack(_);if(B.length<=L)return Promise.resolve(!1);const ie=B[B.length-L-1];let pt=ie.url;const Gt=ie.savedData;if(Gt){var an;const Jn=Gt.get("primary");null!=Jn&&null!==(an=Jn.route)&&void 0!==an&&null!==(an=an._routerState)&&void 0!==an&&an.snapshot.url&&(pt=Jn.route._routerState.snapshot.url)}const{animationBuilder:An}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(pt,{...ie.savedExtras,animation:An}).then(()=>!0)})}startBackTransition(){const L=this.activeView;if(L){const _=this.getStack(L.stackId),B=_[_.length-2],ie=B.animationBuilder;return this.wait(()=>this.transition(B,L,"back",this.canGoBack(2),!0,ie))}return Promise.resolve()}endBackTransition(L){L?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ss(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(L){const _=this.getStack(L);return _.length>0?_[_.length-1]:void 0}getRootUrl(L){const _=this.getStack(L);return _.length>0?_[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ts),this.activeView=void 0,this.views=[]}getStack(L){return this.views.filter(_=>_.stackId===L)}insertView(L,_){return this.activeView=L,this.views=((v,L,_)=>"root"===_?gs(v,L):"forward"===_?((v,L)=>(v.indexOf(L)>=0?v=v.filter(B=>B.stackId!==L.stackId||B.id<=L.id):v.push(L),v))(v,L):((v,L)=>v.indexOf(L)>=0?v.filter(B=>B.stackId!==L.stackId||B.id<=L.id):gs(v,L))(v,L))(this.views,L,_),this.views.slice()}transition(L,_,B,ie,pt,Gt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(_===L)return Promise.resolve(!1);const an=L?L.element:void 0,An=_?_.element:void 0,Jn=this.containerEl;return an&&an!==An&&(an.classList.add("ion-page"),an.classList.add("ion-page-invisible"),an.parentElement!==Jn&&Jn.appendChild(an),Jn.commit)?Jn.commit(an,An,{duration:void 0===B?0:void 0,direction:B,showGoBack:ie,progressAnimation:pt,animationBuilder:Gt}):Promise.resolve(!1)}wait(L){var _=this;return(0,g.Z)(function*(){void 0!==_.runningTask&&(yield _.runningTask,_.runningTask=void 0);const B=_.runningTask=L();return B.finally(()=>_.runningTask=void 0),B})()}}const ho=(v,L,_,B,ie)=>"function"==typeof requestAnimationFrame?new Promise(pt=>{requestAnimationFrame(()=>{Ss(v,L,_,B,ie),pt()})}):Promise.resolve(),Ss=(v,L,_,B,ie)=>{ie.run(()=>_.filter(pt=>!L.includes(pt)).forEach(Ts)),L.forEach(pt=>{const an=B.path().split("?")[0].split("#")[0];if(pt!==v&&pt.url!==an){const An=pt.element;An.setAttribute("aria-hidden","true"),An.classList.add("ion-page-hidden"),pt.ref.changeDetectorRef.detach()}})};let or=(()=>{class v{constructor(_,B,ie,pt,Gt,an,An,Jn){this.parentOutlet=Jn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new _t.X(null),this.activated=null,this._activatedRoute=null,this.name=me.eC,this.stackWillChange=new p.vpe,this.stackDidChange=new p.vpe,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.parentContexts=(0,p.f3M)(me.y6),this.location=(0,p.f3M)(p.s_b),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(ks,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,p.f3M)(ni),this.navCtrl=(0,p.f3M)(Yr),this.nativeEl=pt.nativeElement,this.name=_||me.eC,this.tabsPrefix="true"===B?Si(Gt,An):void 0,this.stackCtrl=new es(this.tabsPrefix,this.nativeEl,Gt,this.navCtrl,an,ie),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(_){this.nativeEl.animation=_}set animated(_){this.nativeEl.animated=_}set swipeGesture(_){this._swipeGesture=_,this.nativeEl.swipeHandler=_?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:B=>this.stackCtrl.endBackTransition(B)}:void 0}ngOnDestroy(){var _;this.stackCtrl.destroy(),null===(_=this.inputBinder)||void 0===_||_.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const _=this.getContext();null!=_&&_.route&&this.activateWith(_.route,_.injector)}new Promise(_=>(0,ct.c)(this.nativeEl,_)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(_,B){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const B=this.getContext();this.activatedView.savedData=new Map(B.children.contexts);const ie=this.activatedView.savedData.get("primary");if(ie&&B.route&&(ie.route={...B.route}),this.activatedView.savedExtras={},B.route){const pt=B.route.snapshot;this.activatedView.savedExtras.queryParams=pt.queryParams,this.activatedView.savedExtras.fragment=pt.fragment}}const _=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,B){var ie;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;let pt,Gt=this.stackCtrl.getExistingView(_);if(Gt){pt=this.activated=Gt.ref;const Jn=Gt.savedData;Jn&&(this.getContext().children.contexts=Jn),this.updateActivatedRouteProxy(pt.instance,_)}else{var an;const Jn=_._futureSnapshot,Jr=this.parentContexts.getOrCreateContext(this.name).children,Hr=new _t.X(null),Vr=this.createActivatedRouteProxy(Hr,_),hs=new ms(Vr,Jr,this.location.injector),Gi=null!==(an=Jn.routeConfig.component)&&void 0!==an?an:Jn.component;pt=this.activated=this.location.createComponent(Gi,{index:this.location.length,injector:hs,environmentInjector:null!=B?B:this.environmentInjector}),Hr.next(pt.instance),Gt=this.stackCtrl.createView(this.activated,_),this.proxyMap.set(pt.instance,Vr),this.currentActivatedRoute$.next({component:pt.instance,activatedRoute:_})}null===(ie=this.inputBinder)||void 0===ie||ie.bindActivatedRouteToOutletComponent(this),this.activatedView=Gt,this.navCtrl.setTopOutlet(this);const An=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Gt,tabSwitch:pi(Gt,An)}),this.stackCtrl.setActive(Gt).then(Jn=>{this.activateEvents.emit(pt.instance),this.stackDidChange.emit(Jn)})}canGoBack(_=1,B){return this.stackCtrl.canGoBack(_,B)}pop(_=1,B){return this.stackCtrl.pop(_,B)}getLastUrl(_){const B=this.stackCtrl.getLastUrl(_);return B?B.url:void 0}getLastRouteView(_){return this.stackCtrl.getLastUrl(_)}getRootView(_){return this.stackCtrl.getRootUrl(_)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(_,B){const ie=new me.gz;return ie._futureSnapshot=B._futureSnapshot,ie._routerState=B._routerState,ie.snapshot=B.snapshot,ie.outlet=B.outlet,ie.component=B.component,ie._paramMap=this.proxyObservable(_,"paramMap"),ie._queryParamMap=this.proxyObservable(_,"queryParamMap"),ie.url=this.proxyObservable(_,"url"),ie.params=this.proxyObservable(_,"params"),ie.queryParams=this.proxyObservable(_,"queryParams"),ie.fragment=this.proxyObservable(_,"fragment"),ie.data=this.proxyObservable(_,"data"),ie}proxyObservable(_,B){return _.pipe((0,Fe.h)(ie=>!!ie),(0,Ze.w)(ie=>this.currentActivatedRoute$.pipe((0,Fe.h)(pt=>null!==pt&&pt.component===ie),(0,Ze.w)(pt=>pt&&pt.activatedRoute[B]),(0,tt.x)())))}updateActivatedRouteProxy(_,B){const ie=this.proxyMap.get(_);if(!ie)throw new Error("Could not find activated route proxy for view");ie._futureSnapshot=B._futureSnapshot,ie._routerState=B._routerState,ie.snapshot=B.snapshot,ie.outlet=B.outlet,ie.component=B.component,this.currentActivatedRoute$.next({component:_,activatedRoute:B})}}return v.\u0275fac=function(_){return new(_||v)(p.$8M("name"),p.$8M("tabs"),p.Y36(Xe.Ye),p.Y36(p.SBq),p.Y36(me.F0),p.Y36(p.R0b),p.Y36(me.gz),p.Y36(v,12))},v.\u0275dir=p.lG2({type:v,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class ms{constructor(L,_,B){this.route=L,this.childContexts=_,this.parent=B}get(L,_){return L===me.gz?this.route:L===me.y6?this.childContexts:this.parent.get(L,_)}}const ks=new p.OlP("");let is=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){var B;null===(B=this.outletDataSubscriptions.get(_))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:B}=_,ie=(0,ve.a)([B.queryParams,B.params,B.data]).pipe((0,Ze.w)(([pt,Gt,an],An)=>(an={...pt,...Gt,...an},0===An?(0,ge.of)(an):Promise.resolve(an)))).subscribe(pt=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(_);const Gt=(0,p.qFp)(B.component);if(Gt)for(const{templateName:an}of Gt.inputs)_.activatedComponentRef.setInput(an,pt[an]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,ie)}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})(),Br=(()=>{class v{constructor(_,B,ie){this.routerOutlet=_,this.navCtrl=B,this.config=ie}onClick(_){var B;const ie=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(B=this.routerOutlet)&&void 0!==B&&B.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),_.preventDefault()):null!=ie&&(this.navCtrl.navigateBack(ie,{animation:this.routerAnimation}),_.preventDefault())}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(or,8),p.Y36(Yr),p.Y36(ni))},v.\u0275dir=p.lG2({type:v,selectors:[["ion-back-button"]],hostBindings:function(_,B){1&_&&p.NdJ("click",function(pt){return B.onClick(pt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),v})(),to=(()=>{class v{constructor(_,B,ie,pt,Gt){this.locationStrategy=_,this.navCtrl=B,this.elementRef=ie,this.router=pt,this.routerLink=Gt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var _;if(null!==(_=this.routerLink)&&void 0!==_&&_.urlTree){const B=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=B}}onClick(_){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),_.preventDefault()}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(Xe.S$),p.Y36(Yr),p.Y36(p.SBq),p.Y36(me.F0),p.Y36(me.rH,8))},v.\u0275dir=p.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,B){1&_&&p.NdJ("click",function(pt){return B.onClick(pt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[p.TTD]}),v})();const Ii={provide:Q.Cf,useExisting:(0,p.Gpc)(()=>oo),multi:!0};let oo=(()=>{class v extends Q.Fd{}return v.\u0275fac=function(){let L;return function(B){return(L||(L=p.n5z(v)))(B||v)}}(),v.\u0275dir=p.lG2({type:v,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(_,B){2&_&&p.uIk("max",B._enabled?B.max:null)},features:[p._Bn([Ii]),p.qOj]}),v})();const xi={provide:Q.Cf,useExisting:(0,p.Gpc)(()=>ds),multi:!0};let ds=(()=>{class v extends Q.qQ{}return v.\u0275fac=function(){let L;return function(B){return(L||(L=p.n5z(v)))(B||v)}}(),v.\u0275dir=p.lG2({type:v,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(_,B){2&_&&p.uIk("min",B._enabled?B.min:null)},features:[p._Bn([xi]),p.qOj]}),v})();class ui{constructor(L){this.ctrl=L}create(L){return this.ctrl.create(L||{})}dismiss(L,_,B){return this.ctrl.dismiss(L,_,B)}getTop(){return this.ctrl.getTop()}}let Ks=(()=>{class v extends ui{constructor(){super(Tn.b)}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),no=(()=>{class v extends ui{constructor(){super(Tn.a)}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),ao=(()=>{class v extends ui{constructor(){super(Tn.l)}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),lo=(()=>{class v{open(_){return jt.m.open(_)}close(_){return jt.m.close(_)}toggle(_){return jt.m.toggle(_)}enable(_,B){return jt.m.enable(_,B)}swipeGesture(_,B){return jt.m.swipeGesture(_,B)}isOpen(_){return jt.m.isOpen(_)}isEnabled(_){return jt.m.isEnabled(_)}get(_){return jt.m.get(_)}getOpen(){return jt.m.getOpen()}getMenus(){return jt.m.getMenus()}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Zs=(()=>{class v extends ui{constructor(){super(Tn.m),this.angularDelegate=(0,p.f3M)(Ji),this.injector=(0,p.f3M)(p.zs3),this.environmentInjector=(0,p.f3M)(p.lqb)}create(_){return super.create({..._,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})(),ro=(()=>{class v extends ui{constructor(){super(Tn.c),this.angularDelegate=(0,p.f3M)(Ji),this.injector=(0,p.f3M)(p.zs3),this.environmentInjector=(0,p.f3M)(p.lqb)}create(_){return super.create({..._,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})(),Ho=(()=>{class v extends ui{constructor(){super(Tn.t)}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class D{shouldDetach(L){return!1}shouldAttach(L){return!1}store(L,_){}retrieve(L){return null}shouldReuseRoute(L,_){if(L.routeConfig!==_.routeConfig)return!1;const B=L.params,ie=_.params,pt=Object.keys(B),Gt=Object.keys(ie);if(pt.length!==Gt.length)return!1;for(const an of pt)if(ie[an]!==B[an])return!1;return!0}}const E=(v,L,_)=>()=>{if(L.defaultView&&typeof window<"u"){(0,ht.s)({...v,_zoneGate:pt=>_.run(pt)});const ie="__zone_symbol__addEventListener"in L.body?"__zone_symbol__addEventListener":"addEventListener";return function $t(){var v=[];if(typeof window<"u"){var L=window;(!L.customElements||L.Element&&(!L.Element.prototype.closest||!L.Element.prototype.matches||!L.Element.prototype.remove||!L.Element.prototype.getRootNode))&&v.push(O.e(6748).then(O.t.bind(O,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||L.NodeList&&!L.NodeList.prototype.forEach||!L.fetch||!function(){try{var B=new URL("b","http://a");return B.pathname="c%20d","http://a/c%20d"===B.href&&B.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&v.push(O.e(2214).then(O.t.bind(O,2668,23)))}return Promise.all(v)}().then(()=>((v,L)=>{if(!(typeof window>"u"))return Yt(),(0,ue.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),L)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:xn,jmp:pt=>_.runOutsideAngular(pt),ael(pt,Gt,an,An){pt[ie](Gt,an,An)},rel(pt,Gt,an,An){pt.removeEventListener(Gt,an,An)}}))}};let X=(()=>{class v{static forRoot(_){return{ngModule:v,providers:[{provide:so,useValue:_},{provide:p.ip1,useFactory:E,multi:!0,deps:[so,Xe.K0,p.R0b]},{provide:ks,useFactory:ut,deps:[me.F0]}]}}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({providers:[Ji,Zs,ro],imports:[Xe.ez]}),v})();function ut(v){return null!=v&&v.componentInputBindingEnabled?new is:null}},3182:(en,nt,O)=>{"use strict";O.d(nt,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=O(534);(0,g.registerVersion)("firebase","9.23.0","app")},7142:(en,nt,O)=>{"use strict";O.d(nt,{Z:()=>g.Z});var g=O(3106);g.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(en,nt,O)=>{"use strict";O.r(nt);var g=O(5861),p=O(3106),Q=O(9058),le=O(534),we=O(7582),Ce=O(7879),fe=O(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ke=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new Ce.Yd("@firebase/auth");function ve(I,...d){pe.logLevel<=Ce.in.ERROR&&pe.error(`Auth (${le.SDK_VERSION}): ${I}`,...d)}function ge(I,...d){throw Me(I,...d)}function me(I,...d){return Me(I,...d)}function Se(I,d,f){const w=Object.assign(Object.assign({},lt()),{[d]:f});return new Q.LL("auth","Firebase",w).create(d,{appName:I.name})}function ye(I,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&ge(I,"argument-error"),Se(I,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(I,...d){if("string"!=typeof I){const f=d[0],w=[...d.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(f,...w)}return Re.create(I,...d)}function Le(I,d,...f){if(!I)throw Me(d,...f)}function ze(I){const d="INTERNAL ASSERTION FAILED: "+I;throw ve(d),new Error(d)}function ct(I,d){I||ze(d)}function ht(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function It(){return"http:"===jt()||"https:"===jt()}function jt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class gt{constructor(d,f){this.shortDelay=d,this.longDelay=f,ct(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function Tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ue(I,d){ct(I.emulator,"Emulator should always be set here");const{url:f}=I.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Ie{static initialize(d,f,w){this.fetchImpl=d,f&&(this.headersImpl=f),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new gt(3e4,6e4);function tt(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function Xe(I,d,f,w){return $t.apply(this,arguments)}function $t(){return($t=(0,g.Z)(function*(I,d,f,w,G={}){return Yt(I,G,(0,g.Z)(function*(){let te={},$e={};w&&("GET"===d?$e=w:te={body:JSON.stringify(w)});const vt=(0,Q.xO)(Object.assign({key:I.config.apiKey},$e)).slice(1),Kt=yield I._getAdditionalHeaders();return Kt["Content-Type"]="application/json",I.languageCode&&(Kt["X-Firebase-Locale"]=I.languageCode),Ie.fetch()(St(I,I.config.apiHost,f,vt),Object.assign({method:d,headers:Kt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function Yt(I,d,f){return ft.apply(this,arguments)}function ft(){return(ft=(0,g.Z)(function*(I,d,f){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},Fe),d);try{const G=new Ct(I),te=yield Promise.race([f(),G.promise]);G.clearNetworkTimeout();const $e=yield te.json();if("needConfirmation"in $e)throw qt(I,"account-exists-with-different-credential",$e);if(te.ok&&!("errorMessage"in $e))return $e;{const vt=te.ok?$e.errorMessage:$e.error.message,[Kt,mn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw qt(I,"credential-already-in-use",$e);if("EMAIL_EXISTS"===Kt)throw qt(I,"email-already-in-use",$e);if("USER_DISABLED"===Kt)throw qt(I,"user-disabled",$e);const Ln=w[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw Se(I,Ln,mn);ge(I,Ln)}}catch(G){if(G instanceof Q.ZR)throw G;ge(I,"network-request-failed",{message:String(G)})}})).apply(this,arguments)}function Te(I,d,f,w){return at.apply(this,arguments)}function at(){return(at=(0,g.Z)(function*(I,d,f,w,G={}){const te=yield Xe(I,d,f,w,G);return"mfaPendingCredential"in te&&ge(I,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function St(I,d,f,w){const G=`${d}${f}?${w}`;return I.config.emulator?ue(I.config,G):`${I.config.apiScheme}://${G}`}class Ct{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,w)=>{this.timer=setTimeout(()=>w(me(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(I,d,f){const w={appName:I.name};f.email&&(w.email=f.email),f.phoneNumber&&(w.phoneNumber=f.phoneNumber);const G=me(I,d,w);return G.customData._tokenResponse=f,G}function cn(){return(cn=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Sn(){return(Sn=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Bn(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function gr(){return(gr=(0,g.Z)(function*(I,d=!1){const f=(0,Q.m9)(I),w=yield f.getIdToken(d),G=Pn(w);Le(G&&G.exp&&G.auth_time&&G.iat,f.auth,"internal-error");const te="object"==typeof G.firebase?G.firebase:void 0,$e=null==te?void 0:te.sign_in_provider;return{claims:G,token:w,authTime:Bn(un(G.auth_time)),issuedAtTime:Bn(un(G.iat)),expirationTime:Bn(un(G.exp)),signInProvider:$e||null,signInSecondFactor:(null==te?void 0:te.sign_in_second_factor)||null}})).apply(this,arguments)}function un(I){return 1e3*Number(I)}function Pn(I){const[d,f,w]=I.split(".");if(void 0===d||void 0===f||void 0===w)return ve("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,Q.tV)(f);return G?JSON.parse(G):(ve("Failed to decode base64 JWT payload"),null)}catch(G){return ve("Caught error parsing JWT payload as JSON",null==G?void 0:G.toString()),null}}function Yn(I,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*(I,d,f=!1){if(f)return d;try{return yield d}catch(w){throw w instanceof Q.ZR&&function Zt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class Hn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const G=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const w=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),w)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===(null==f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class Ut{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bn(this.lastLoginAt),this.creationTime=Bn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(I){return li.apply(this,arguments)}function li(){return li=(0,g.Z)(function*(I){var d;const f=I.auth,w=yield I.getIdToken(),G=yield Yn(I,function wn(I,d){return On.apply(this,arguments)}(f,{idToken:w}));Le(null==G?void 0:G.users.length,f,"internal-error");const te=G.users[0];I._notifyReloadListener(te);const $e=null!==(d=te.providerUserInfo)&&void 0!==d&&d.length?function ri(I){return I.map(d=>{var{providerId:f}=d,w=(0,we._T)(d,["providerId"]);return{providerId:f,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(te.providerUserInfo):[],vt=function Pr(I,d){return[...I.filter(w=>!d.some(G=>G.providerId===w.providerId)),...d]}(I.providerData,$e),Ln=!!I.isAnonymous&&!(I.email&&te.passwordHash||null!=vt&&vt.length),Vn={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:vt,metadata:new Ut(te.createdAt,te.lastLoginAt),isAnonymous:Ln};Object.assign(I,Vn)}),li.apply(this,arguments)}function mi(){return(mi=(0,g.Z)(function*(I){const d=(0,Q.m9)(I);yield ir(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function vi(){return(vi=(0,g.Z)(function*(I,d){const f=yield Yt(I,{},(0,g.Z)(function*(){const w=(0,Q.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:G,apiKey:te}=I.config,$e=St(I,G,"/v1/token",`key=${te}`),vt=yield I._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()($e,{method:"POST",headers:vt,body:w})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Le(d.idToken,"internal-error"),Le(typeof d.idToken<"u","internal-error"),Le(typeof d.refreshToken<"u","internal-error");const f="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function mr(I){const d=Pn(I);return Le(d,"internal-error"),Le(typeof d.exp<"u","internal-error"),Le(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var w=this;return(0,g.Z)(function*(){return Le(!w.accessToken||w.refreshToken,d,"user-token-expired"),f||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(d,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var w=this;return(0,g.Z)(function*(){const{accessToken:G,refreshToken:te,expiresIn:$e}=yield function Nr(I,d){return vi.apply(this,arguments)}(d,f);w.updateTokensAndExpiration(G,te,Number($e))})()}updateTokensAndExpiration(d,f,w){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(d,f){const{refreshToken:w,accessToken:G,expirationTime:te}=f,$e=new ti;return w&&(Le("string"==typeof w,"internal-error",{appName:d}),$e.refreshToken=w),G&&(Le("string"==typeof G,"internal-error",{appName:d}),$e.accessToken=G),te&&(Le("number"==typeof te,"internal-error",{appName:d}),$e.expirationTime=te),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return ze("not implemented")}}function Kr(I,d){Le("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class kr{constructor(d){var{uid:f,auth:w,stsTokenManager:G}=d,te=(0,we._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=w,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new Ut(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,g.Z)(function*(){const w=yield Yn(f,f.stsTokenManager.getToken(f.auth,d));return Le(w,f.auth,"internal-error"),f.accessToken!==w&&(f.accessToken=w,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),w})()}getIdTokenResult(d){return function pr(I){return gr.apply(this,arguments)}(this,d)}reload(){return function Un(I){return mi.apply(this,arguments)}(this)}_assign(d){this!==d&&(Le(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const f=new kr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(d){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var w=this;return(0,g.Z)(function*(){let G=!1;d.idToken&&d.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(d),G=!0),f&&(yield ir(w)),yield w.auth._persistUserIfCurrent(w),G&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var d=this;return(0,g.Z)(function*(){const f=yield d.getIdToken();return yield Yn(d,function In(I,d){return cn.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var w,G,te,$e,vt,Kt,mn,Ln;const Vn=null!==(w=f.displayName)&&void 0!==w?w:void 0,Es=null!==(G=f.email)&&void 0!==G?G:void 0,Vo=null!==(te=f.phoneNumber)&&void 0!==te?te:void 0,ac=null!==($e=f.photoURL)&&void 0!==$e?$e:void 0,Bc=null!==(vt=f.tenantId)&&void 0!==vt?vt:void 0,lc=null!==(Kt=f._redirectEventId)&&void 0!==Kt?Kt:void 0,$c=null!==(mn=f.createdAt)&&void 0!==mn?mn:void 0,Ol=null!==(Ln=f.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:cc,emailVerified:ll,isAnonymous:hd,providerData:Eu,stsTokenManager:Cf}=f;Le(cc&&Cf,d,"internal-error");const zp=ti.fromJSON(this.name,Cf);Le("string"==typeof cc,d,"internal-error"),Kr(Vn,d.name),Kr(Es,d.name),Le("boolean"==typeof ll,d,"internal-error"),Le("boolean"==typeof hd,d,"internal-error"),Kr(Vo,d.name),Kr(ac,d.name),Kr(Bc,d.name),Kr(lc,d.name),Kr($c,d.name),Kr(Ol,d.name);const uc=new kr({uid:cc,auth:d,email:Es,emailVerified:ll,displayName:Vn,isAnonymous:hd,photoURL:ac,phoneNumber:Vo,tenantId:Bc,stsTokenManager:zp,createdAt:$c,lastLoginAt:Ol});return Eu&&Array.isArray(Eu)&&(uc.providerData=Eu.map(Gp=>Object.assign({},Gp))),lc&&(uc._redirectEventId=lc),uc}static _fromIdTokenResponse(d,f,w=!1){return(0,g.Z)(function*(){const G=new ti;G.updateFromServerResponse(f);const te=new kr({uid:f.localId,auth:d,stsTokenManager:G,isAnonymous:w});return yield ir(te),te})()}}const Wr=new Map;function vr(I){ct(I instanceof Function,"Expected a class definition");let d=Wr.get(I);return d?(ct(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,Wr.set(I,d),d)}const qn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,w){var G=this;return(0,g.Z)(function*(){G.storage[f]=w})()}_get(f){var w=this;return(0,g.Z)(function*(){const G=w.storage[f];return void 0===G?null:G})()}_remove(f){var w=this;return(0,g.Z)(function*(){delete w.storage[f]})()}_addListener(f,w){}_removeListener(f,w){}}return I.type="NONE",I})();function Ve(I,d,f){return`firebase:${I}:${d}:${f}`}class re{constructor(d,f,w){this.persistence=d,this.auth=f,this.userKey=w;const{config:G,name:te}=this.auth;this.fullUserKey=Ve(this.userKey,G.apiKey,te),this.fullPersistenceKey=Ve("persistence",G.apiKey,te),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?kr._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,g.Z)(function*(){if(f.persistence===d)return;const w=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,w?f.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,w="authUser"){return(0,g.Z)(function*(){if(!f.length)return new re(vr(qn),d,w);const G=(yield Promise.all(f.map(function(){var mn=(0,g.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return mn.apply(this,arguments)}}()))).filter(mn=>mn);let te=G[0]||vr(qn);const $e=Ve(w,d.config.apiKey,d.name);let vt=null;for(const mn of f)try{const Ln=yield mn._get($e);if(Ln){const Vn=kr._fromJSON(d,Ln);mn!==te&&(vt=Vn),te=mn;break}}catch{}const Kt=G.filter(mn=>mn._shouldAllowMigration);return te._shouldAllowMigration&&Kt.length?(te=Kt[0],vt&&(yield te._set($e,vt.toJSON())),yield Promise.all(f.map(function(){var mn=(0,g.Z)(function*(Ln){if(Ln!==te)try{yield Ln._remove($e)}catch{}});return function(Ln){return mn.apply(this,arguments)}}())),new re(te,d,w)):new re(te,d,w)})()}}function J(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Et(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Pe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(on(d))return"Blackberry";if(vn(d))return"Webos";if(oe(d))return"Safari";if((d.includes("chrome/")||Ge(d))&&!d.includes("edge/"))return"Chrome";if(Bt(d))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Pe(I=(0,Q.z$)()){return/firefox\//i.test(I)}function oe(I=(0,Q.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ge(I=(0,Q.z$)()){return/crios\//i.test(I)}function Et(I=(0,Q.z$)()){return/iemobile/i.test(I)}function Bt(I=(0,Q.z$)()){return/android/i.test(I)}function on(I=(0,Q.z$)()){return/blackberry/i.test(I)}function vn(I=(0,Q.z$)()){return/webos/i.test(I)}function ln(I=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function yi(I=(0,Q.z$)()){return ln(I)||Bt(I)||vn(I)||on(I)||/windows phone/i.test(I)||Et(I)}function bt(I,d=[]){let f;switch(I){case"Browser":f=J((0,Q.z$)());break;case"Worker":f=`${J((0,Q.z$)())}-${I}`;break;default:f=I}const w=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${le.SDK_VERSION}/${w}`}function Ot(){return(Ot=(0,g.Z)(function*(I){return(yield Xe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hn(I,d){return yn.apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(I,d){return Xe(I,"GET","/v2/recaptchaConfig",tt(I,d))})).apply(this,arguments)}function Xt(I){return void 0!==I&&void 0!==I.getResponse}function Qn(I){return void 0!==I&&void 0!==I.enterprise}class yr{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function Mr(I){return new Promise((d,f)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=d,w.onerror=G=>{const te=me("internal-error");te.customData=G,f(te)},w.type="text/javascript",w.charset="UTF-8",function _r(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(w)})}function $r(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ki{constructor(d){this.type="recaptcha-enterprise",this.auth=lr(d)}verify(d="verify",f=!1){var w=this;return(0,g.Z)(function*(){function te(){return te=(0,g.Z)(function*(vt){if(!f){if(null==vt.tenantId&&null!=vt._agentRecaptchaConfig)return vt._agentRecaptchaConfig.siteKey;if(null!=vt.tenantId&&void 0!==vt._tenantRecaptchaConfigs[vt.tenantId])return vt._tenantRecaptchaConfigs[vt.tenantId].siteKey}return new Promise(function(){var Kt=(0,g.Z)(function*(mn,Ln){hn(vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vn=>{if(void 0!==Vn.recaptchaKey){const Es=new yr(Vn);return null==vt.tenantId?vt._agentRecaptchaConfig=Es:vt._tenantRecaptchaConfigs[vt.tenantId]=Es,mn(Es.siteKey)}Ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Vn=>{Ln(Vn)})});return function(mn,Ln){return Kt.apply(this,arguments)}}())}),te.apply(this,arguments)}function $e(vt,Kt,mn){const Ln=window.grecaptcha;Qn(Ln)?Ln.enterprise.ready(()=>{Ln.enterprise.execute(vt,{action:d}).then(Vn=>{Kt(Vn)}).catch(()=>{Kt("NO_RECAPTCHA")})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((vt,Kt)=>{(function G(vt){return te.apply(this,arguments)})(w.auth).then(mn=>{if(!f&&Qn(window.grecaptcha))$e(mn,vt,Kt);else{if(typeof window>"u")return void Kt(new Error("RecaptchaVerifier is only supported in browser"));Mr("https://www.google.com/recaptcha/enterprise.js?render="+mn).then(()=>{$e(mn,vt,Kt)}).catch(Ln=>{Kt(Ln)})}}).catch(mn=>{Kt(mn)})})})()}}function _i(I,d,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(I,d,f,w=!1){const G=new ki(I);let te;try{te=yield G.verify(f)}catch{te=yield G.verify(f,!0)}const $e=Object.assign({},d);return Object.assign($e,w?{captchaResp:te}:{captchaResponse:te}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e})).apply(this,arguments)}class Ci{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const w=te=>new Promise(($e,vt)=>{try{$e(d(te))}catch(Kt){vt(Kt)}});w.onAbort=f,this.queue.push(w);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,g.Z)(function*(){if(f.auth.currentUser===d)return;const w=[];try{for(const G of f.queue)yield G(d),G.onAbort&&w.push(G.onAbort)}catch(G){w.reverse();for(const te of w)try{te()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null==G?void 0:G.message})}})()}}class Ti{constructor(d,f,w,G){this.app=d,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=w,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fi(this),this.idTokenSubscription=new Fi(this),this.beforeStateQueue=new Ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=G.sdkClientVersion}_initializeWithPersistence(d,f){var w=this;return f&&(this._popupRedirectResolver=vr(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var G,te;if(!w._deleted&&(w.persistenceManager=yield re.create(w,d),!w._deleted)){if(null!==(G=w._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(f),w.lastNotifiedUid=(null===(te=w.currentUser)||void 0===te?void 0:te.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,g.Z)(function*(){var w;const G=yield f.assertedPersistence.getCurrentUser();let te=G,$e=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const vt=null===(w=f.redirectUser)||void 0===w?void 0:w._redirectEventId,Kt=null==te?void 0:te._redirectEventId,mn=yield f.tryRedirectSignIn(d);(!vt||vt===Kt)&&null!=mn&&mn.user&&(te=mn.user,$e=!0)}if(!te)return f.directlySetCurrentUser(null);if(!te._redirectEventId){if($e)try{yield f.beforeStateQueue.runMiddleware(te)}catch(vt){te=G,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(vt))}return te?f.reloadAndSetCurrentUserOrClear(te):f.directlySetCurrentUser(null)}return Le(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===te._redirectEventId?f.directlySetCurrentUser(te):f.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(d){var f=this;return(0,g.Z)(function*(){let w=null;try{w=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch{yield f._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,g.Z)(function*(){try{yield ir(d)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){const w=d?(0,Q.m9)(d):null;return w&&Le(w.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(w&&w._clone(f))})()}_updateCurrentUser(d,f=!1){var w=this;return(0,g.Z)(function*(){if(!w._deleted)return d&&Le(w.tenantId===d.tenantId,w,"tenant-id-mismatch"),f||(yield w.beforeStateQueue.runMiddleware(d)),w.queue((0,g.Z)(function*(){yield w.directlySetCurrentUser(d),w.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(vr(d))}))}initializeRecaptchaConfig(){var d=this;return(0,g.Z)(function*(){const f=yield hn(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new yr(f);null==d.tenantId?d._agentRecaptchaConfig=w:d._tenantRecaptchaConfigs[d.tenantId]=w,w.emailPasswordEnabled&&new ki(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Q.LL("auth","Firebase",d())}onAuthStateChanged(d,f,w){return this.registerStateListener(this.authStateSubscription,d,f,w)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,w){return this.registerStateListener(this.idTokenSubscription,d,f,w)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var w=this;return(0,g.Z)(function*(){const G=yield w.getOrInitRedirectPersistenceManager(f);return null===d?G.removeCurrentUser():G.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const w=d&&vr(d)||f._popupRedirectResolver;Le(w,f,"argument-error"),f.redirectPersistenceManager=yield re.create(f,[vr(w._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,g.Z)(function*(){var w,G;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(w=f._currentUser)||void 0===w?void 0:w._redirectEventId)===d?f._currentUser:(null===(G=f.redirectUser)||void 0===G?void 0:G._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,g.Z)(function*(){if(d===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,w,G){if(this._deleted)return()=>{};const te="function"==typeof f?f:f.next.bind(f),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return Le($e,this,"internal-error"),$e.then(()=>te(this.currentUser)),"function"==typeof f?d.addObserver(f,w,G):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var f;const w={"X-Client-Version":d.clientVersion};d.app.options.appId&&(w["X-Firebase-gmpid"]=d.app.options.appId);const G=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();G&&(w["X-Firebase-Client"]=G);const te=yield d._getAppCheckToken();return te&&(w["X-Firebase-AppCheck"]=te),w})()}_getAppCheckToken(){var d=this;return(0,g.Z)(function*(){var f;const w=yield null===(f=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return null!=w&&w.error&&function _t(I,...d){pe.logLevel<=Ce.in.WARN&&pe.warn(`Auth (${le.SDK_VERSION}): ${I}`,...d)}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function lr(I){return(0,Q.m9)(I)}class Fi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Q.ne)(f=>this.observer=f)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cr(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function K(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class Ne{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return ze("not implemented")}_getIdTokenResponse(d){return ze("not implemented")}_linkToIdToken(d,f){return ze("not implemented")}_getReauthenticationResolver(d){return ze("not implemented")}}function mt(I,d){return et.apply(this,arguments)}function et(){return(et=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:resetPassword",tt(I,d))})).apply(this,arguments)}function At(I,d){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:update",tt(I,d))})).apply(this,arguments)}function dn(I,d){return zn.apply(this,arguments)}function zn(){return(zn=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signInWithPassword",tt(I,d))})).apply(this,arguments)}function Gn(I,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:sendOobCode",tt(I,d))})).apply(this,arguments)}function Ye(){return(Ye=(0,g.Z)(function*(I,d){return Gn(I,d)})).apply(this,arguments)}function st(I,d){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,g.Z)(function*(I,d){return Gn(I,d)})).apply(this,arguments)}function Ht(I,d){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(I,d){return Gn(I,d)})).apply(this,arguments)}function $n(){return($n=(0,g.Z)(function*(I,d){return Gn(I,d)})).apply(this,arguments)}function ni(){return(ni=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signInWithEmailLink",tt(I,d))})).apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signInWithEmailLink",tt(I,d))})).apply(this,arguments)}class Cs extends Ne{constructor(d,f,w,G=null){super("password",w),this._email=d,this._password=f,this._tenantId=G}static _fromEmailAndPassword(d,f){return new Cs(d,f,"password")}static _fromEmailAndCode(d,f,w=null){return new Cs(d,f,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if(null!=f&&f.email&&null!=f&&f.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,g.Z)(function*(){var w;switch(f.signInMethod){case"password":const G={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=d._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const te=yield _i(d,G,"signInWithPassword");return dn(d,te)}return dn(d,G).catch(function(){var te=(0,g.Z)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const vt=yield _i(d,G,"signInWithPassword");return dn(d,vt)}return Promise.reject($e)});return function($e){return te.apply(this,arguments)}}());case"emailLink":return function cr(I,d){return ni.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:ge(d,"internal-error")}})()}_linkToIdToken(d,f){var w=this;return(0,g.Z)(function*(){switch(w.signInMethod){case"password":return At(d,{idToken:f,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function so(I,d){return ii.apply(this,arguments)}(d,{idToken:f,email:w._email,oobCode:w._password});default:ge(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ls(I,d){return zi.apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signInWithIdp",tt(I,d))})).apply(this,arguments)}class tn extends Ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new tn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):ge("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:G}=f,te=(0,we._T)(f,["providerId","signInMethod"]);if(!w||!G)return null;const $e=new tn(w,G);return $e.idToken=te.idToken||void 0,$e.accessToken=te.accessToken||void 0,$e.secret=te.secret,$e.nonce=te.nonce,$e.pendingToken=te.pendingToken||null,$e}_getIdTokenResponse(d){return ls(d,this.buildRequest())}_linkToIdToken(d,f){const w=this.buildRequest();return w.idToken=f,ls(d,w)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,ls(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,Q.xO)(f)}return d}}function dr(){return(dr=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:sendVerificationCode",tt(I,d))})).apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signInWithPhoneNumber",tt(I,d))})).apply(this,arguments)}function cs(){return(cs=(0,g.Z)(function*(I,d){const f=yield Te(I,"POST","/v1/accounts:signInWithPhoneNumber",tt(I,d));if(f.temporaryProof)throw qt(I,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Zr={USER_NOT_FOUND:"user-not-found"};function fi(){return(fi=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signInWithPhoneNumber",tt(I,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Zr)})).apply(this,arguments)}class Rn extends Ne{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Rn({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Rn({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function Li(I,d){return Ji.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function ji(I,d){return cs.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function qs(I,d){return fi.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:w,verificationCode:G}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:w,code:G}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:w,phoneNumber:G,temporaryProof:te}=d;return w||f||G||te?new Rn({verificationId:f,verificationCode:w,phoneNumber:G,temporaryProof:te}):null}}class gs{constructor(d){var f,w,G,te,$e,vt;const Kt=(0,Q.zd)((0,Q.pd)(d)),mn=null!==(f=Kt.apiKey)&&void 0!==f?f:null,Ln=null!==(w=Kt.oobCode)&&void 0!==w?w:null,Vn=function $s(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Kt.mode)&&void 0!==G?G:null);Le(mn&&Ln&&Vn,"argument-error"),this.apiKey=mn,this.operation=Vn,this.code=Ln,this.continueUrl=null!==(te=Kt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==($e=Kt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(vt=Kt.tenantId)&&void 0!==vt?vt:null}static parseLink(d){const f=function eo(I){const d=(0,Q.zd)((0,Q.pd)(I)).link,f=d?(0,Q.zd)((0,Q.pd)(d)).deep_link_id:null,w=(0,Q.zd)((0,Q.pd)(I)).deep_link_id;return(w?(0,Q.zd)((0,Q.pd)(w)).link:null)||w||f||d||I}(d);try{return new gs(f)}catch{return null}}}let Vs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(f,w){return Cs._fromEmailAndPassword(f,w)}static credentialWithLink(f,w){const G=gs.parseLink(w);return Le(G,"argument-error"),Cs._fromEmailAndCode(f,G.code,G.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Si{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class pi extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class us extends pi{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return Le("providerId"in f&&"signInMethod"in f,"argument-error"),tn._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Le(d.idToken||d.accessToken,"argument-error"),tn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return us.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return us.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:w,oauthTokenSecret:G,pendingToken:te,nonce:$e,providerId:vt}=d;if(!w&&!G&&!f&&!te||!vt)return null;try{return new us(vt)._credential({idToken:f,accessToken:w,nonce:$e,pendingToken:te})}catch{return null}}}let wo=(()=>{class I extends pi{constructor(){super("facebook.com")}static credential(f){return tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return I.credentialFromTaggedObject(f)}static credentialFromError(f){return I.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return I.credential(f.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ts=(()=>{class I extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(f,w){return tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:w})}static credentialFromResult(f){return I.credentialFromTaggedObject(f)}static credentialFromError(f){return I.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:w,oauthAccessToken:G}=f;if(!w&&!G)return null;try{return I.credential(w,G)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),es=(()=>{class I extends pi{constructor(){super("github.com")}static credential(f){return tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return I.credentialFromTaggedObject(f)}static credentialFromError(f){return I.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return I.credential(f.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ss extends Ne{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return ls(d,this.buildRequest())}_linkToIdToken(d,f){const w=this.buildRequest();return w.idToken=f,ls(d,w)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,ls(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:w,signInMethod:G,pendingToken:te}=f;return w&&G&&te&&w===G?new Ss(w,te):null}static _create(d,f){return new Ss(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ms extends Si{constructor(d){Le(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ms.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ms.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Ss.fromJSON(d);return Le(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:w}=d;if(!f||!w)return null;try{return Ss._create(w,f)}catch{return null}}}let ks=(()=>{class I extends pi{constructor(){super("twitter.com")}static credential(f,w){return tn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:w})}static credentialFromResult(f){return I.credentialFromTaggedObject(f)}static credentialFromError(f){return I.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:w,oauthTokenSecret:G}=f;if(!w||!G)return null;try{return I.credential(w,G)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function is(I,d){return qr.apply(this,arguments)}function qr(){return(qr=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signUp",tt(I,d))})).apply(this,arguments)}class Br{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,w,G=!1){return(0,g.Z)(function*(){const te=yield kr._fromIdTokenResponse(d,w,G),$e=ss(w);return new Br({user:te,providerId:$e,_tokenResponse:w,operationType:f})})()}static _forOperation(d,f,w){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(w,!0);const G=ss(w);return new Br({user:d,providerId:G,_tokenResponse:w,operationType:f})})()}}function ss(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Mi(){return(Mi=(0,g.Z)(function*(I){var d;const f=lr(I);if(yield f._initializationPromise,null!==(d=f.currentUser)&&void 0!==d&&d.isAnonymous)return new Br({user:f.currentUser,providerId:null,operationType:"signIn"});const w=yield is(f,{returnSecureToken:!0}),G=yield Br._fromIdTokenResponse(f,"signIn",w,!0);return yield f._updateCurrentUser(G.user),G})).apply(this,arguments)}class fo extends Q.ZR{constructor(d,f,w,G){var te;super(f.code,f.message),this.operationType=w,this.user=G,Object.setPrototypeOf(this,fo.prototype),this.customData={appName:d.name,tenantId:null!==(te=d.tenantId)&&void 0!==te?te:void 0,_serverResponse:f.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(d,f,w,G){return new fo(d,f,w,G)}}function Hi(I,d,f,w){return("reauthenticate"===d?f._getReauthenticationResolver(I):f._getIdTokenResponse(I)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?fo._fromErrorAndOperation(I,te,d,w):te})}function Ii(I){return new Set(I.map(({providerId:d})=>d).filter(d=>!!d))}function xi(){return xi=(0,g.Z)(function*(I,d){const f=(0,Q.m9)(I);yield Ks(!0,f,d);const{providerUserInfo:w}=yield function xn(I,d){return Sn.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),G=Ii(w||[]);return f.providerData=f.providerData.filter(te=>G.has(te.providerId)),G.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),xi.apply(this,arguments)}function ds(I,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(I,d,f=!1){const w=yield Yn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),f);return Br._forOperation(I,"link",w)})).apply(this,arguments)}function Ks(I,d,f){return no.apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(I,d,f){yield ir(d);const G=!1===I?"provider-already-linked":"no-such-provider";Le(Ii(d.providerData).has(f)===I,d.auth,G)})).apply(this,arguments)}function ao(I,d){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(I,d,f=!1){const{auth:w}=I,G="reauthenticate";try{const te=yield Yn(I,Hi(w,G,d,I),f);Le(te.idToken,w,"internal-error");const $e=Pn(te.idToken);Le($e,w,"internal-error");const{sub:vt}=$e;return Le(I.uid===vt,w,"user-mismatch"),Br._forOperation(I,G,te)}catch(te){throw"auth/user-not-found"===(null==te?void 0:te.code)&&ge(w,"user-mismatch"),te}})).apply(this,arguments)}function bo(I,d){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(I,d,f=!1){const w="signIn",G=yield Hi(I,w,d),te=yield Br._fromIdTokenResponse(I,w,G);return f||(yield I._updateCurrentUser(te.user)),te})).apply(this,arguments)}function ro(I,d){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,g.Z)(function*(I,d){return bo(lr(I),d)})).apply(this,arguments)}function _a(I,d){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(I,d){const f=(0,Q.m9)(I);return yield Ks(!1,f,d.providerId),ds(f,d)})).apply(this,arguments)}function W(I,d){return z.apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(I,d){return ao((0,Q.m9)(I),d)})).apply(this,arguments)}function E(){return(E=(0,g.Z)(function*(I,d){return Te(I,"POST","/v1/accounts:signInWithCustomToken",tt(I,d))})).apply(this,arguments)}function P(){return P=(0,g.Z)(function*(I,d){const f=lr(I),w=yield function D(I,d){return E.apply(this,arguments)}(f,{token:d,returnSecureToken:!0}),G=yield Br._fromIdTokenResponse(f,"signIn",w);return yield f._updateCurrentUser(G.user),G}),P.apply(this,arguments)}class X{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?ut._fromServerResponse(d,f):"totpInfo"in f?v._fromServerResponse(d,f):ge(d,"internal-error")}}class ut extends X{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new ut(f)}}class v extends X{constructor(d){super("totp",d)}static _fromServerResponse(d,f){return new v(f)}}function L(I,d,f){var w;Le((null===(w=f.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),Le(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Le(f.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(Le(f.android.packageName.length>0,I,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function B(){return B=(0,g.Z)(function*(I,d,f){var w;const G=lr(I),te={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=G._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const $e=yield _i(G,te,"getOobCode",!0);f&&L(G,$e,f),yield st(G,$e)}else f&&L(G,te,f),yield st(G,te).catch(function(){var $e=(0,g.Z)(function*(vt){if("auth/missing-recaptcha-token"!==vt.code)return Promise.reject(vt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Kt=yield _i(G,te,"getOobCode",!0);f&&L(G,Kt,f),yield st(G,Kt)}});return function(vt){return $e.apply(this,arguments)}}())}),B.apply(this,arguments)}function pt(){return(pt=(0,g.Z)(function*(I,d,f){yield mt((0,Q.m9)(I),{oobCode:d,newPassword:f})})).apply(this,arguments)}function an(){return an=(0,g.Z)(function*(I,d){yield function Rt(I,d){return Vt.apply(this,arguments)}((0,Q.m9)(I),{oobCode:d})}),an.apply(this,arguments)}function An(I,d){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,g.Z)(function*(I,d){const f=(0,Q.m9)(I),w=yield mt(f,{oobCode:d}),G=w.requestType;switch(Le(G,f,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Le(w.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Le(w.mfaInfo,f,"internal-error");default:Le(w.email,f,"internal-error")}let te=null;return w.mfaInfo&&(te=X._fromServerResponse(lr(f),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:te},operation:G}})).apply(this,arguments)}function Hr(){return(Hr=(0,g.Z)(function*(I,d){const{data:f}=yield An((0,Q.m9)(I),d);return f.email})).apply(this,arguments)}function hs(){return hs=(0,g.Z)(function*(I,d,f){var w;const G=lr(I),te={returnSecureToken:!0,email:d,password:f,clientType:"CLIENT_TYPE_WEB"};let $e;if(null!==(w=G._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const mn=yield _i(G,te,"signUpPassword");$e=is(G,mn)}else $e=is(G,te).catch(function(){var mn=(0,g.Z)(function*(Ln){if("auth/missing-recaptcha-token"===Ln.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Vn=yield _i(G,te,"signUpPassword");return is(G,Vn)}return Promise.reject(Ln)});return function(Ln){return mn.apply(this,arguments)}}());const vt=yield $e.catch(mn=>Promise.reject(mn)),Kt=yield Br._fromIdTokenResponse(G,"signIn",vt);return yield G._updateCurrentUser(Kt.user),Kt}),hs.apply(this,arguments)}function Fs(){return Fs=(0,g.Z)(function*(I,d,f){var w;const G=lr(I),te={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function $e(vt,Kt){Le(Kt.handleCodeInApp,G,"argument-error"),Kt&&L(G,vt,Kt)}if(null!==(w=G._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const vt=yield _i(G,te,"getOobCode",!0);$e(vt,f),yield Ht(G,vt)}else $e(te,f),yield Ht(G,te).catch(function(){var vt=(0,g.Z)(function*(Kt){if("auth/missing-recaptcha-token"!==Kt.code)return Promise.reject(Kt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const mn=yield _i(G,te,"getOobCode",!0);$e(mn,f),yield Ht(G,mn)}});return function(Kt){return vt.apply(this,arguments)}}())}),Fs.apply(this,arguments)}function fl(){return(fl=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I),G=Vs.credentialWithLink(d,f||ht());return Le(G._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ro(w,G)})).apply(this,arguments)}function la(){return(la=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:createAuthUri",tt(I,d))})).apply(this,arguments)}function xo(){return xo=(0,g.Z)(function*(I,d){const w={identifier:d,continueUri:It()?ht():"http://localhost"},{signinMethods:G}=yield function aa(I,d){return la.apply(this,arguments)}((0,Q.m9)(I),w);return G||[]}),xo.apply(this,arguments)}function ua(){return ua=(0,g.Z)(function*(I,d){const f=(0,Q.m9)(I),G={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};d&&L(f.auth,G,d);const{email:te}=yield function Qe(I,d){return Ye.apply(this,arguments)}(f.auth,G);te!==I.email&&(yield I.reload())}),ua.apply(this,arguments)}function da(){return da=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:d};f&&L(w.auth,te,f);const{email:$e}=yield function kn(I,d){return $n.apply(this,arguments)}(w.auth,te);$e!==I.email&&(yield I.reload())}),da.apply(this,arguments)}function qa(){return(qa=(0,g.Z)(function*(I,d){return Xe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ea(){return Ea=(0,g.Z)(function*(I,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const w=(0,Q.m9)(I),te={idToken:yield w.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},$e=yield Yn(w,function Ia(I,d){return qa.apply(this,arguments)}(w.auth,te));w.displayName=$e.displayName||null,w.photoURL=$e.photoUrl||null;const vt=w.providerData.find(({providerId:Kt})=>"password"===Kt);vt&&(vt.displayName=w.displayName,vt.photoURL=w.photoURL),yield w._updateTokensIfNecessary($e)}),Ea.apply(this,arguments)}function pl(I,d,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(I,d,f){const{auth:w}=I,te={idToken:yield I.getIdToken(),returnSecureToken:!0};d&&(te.email=d),f&&(te.password=f);const $e=yield Yn(I,At(w,te));yield I._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class vs{constructor(d,f,w={}){this.isNewUser=d,this.providerId=f,this.profile=w}}class Zo extends vs{constructor(d,f,w,G){super(d,f,w),this.username=G}}class si extends vs{constructor(d,f){super(d,"facebook.com",f)}}class S extends Zo{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class j extends vs{constructor(d,f){super(d,"google.com",f)}}class De extends Zo{constructor(d,f,w){super(d,"twitter.com",f,w)}}function $(I){const{user:d,_tokenResponse:f}=I;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Ka(I){var d,f;if(!I)return null;const{providerId:w}=I,G=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},te=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&null!=I&&I.idToken){const $e=null===(f=null===(d=Pn(I.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if($e)return new vs(te,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!w)return null;switch(w){case"facebook.com":return new si(te,G);case"github.com":return new S(te,G);case"google.com":return new j(te,G);case"twitter.com":return new De(te,G,I.screenName||null);case"custom":case"anonymous":return new vs(te,null);default:return new vs(te,w,G)}}(f)}class ei{constructor(d,f,w){this.type=d,this.credential=f,this.auth=w}static _fromIdtoken(d,f){return new ei("enroll",d,f)}static _fromMfaPendingCredential(d){return new ei("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,w;if(null!=d&&d.multiFactorSession){if(null!==(f=d.multiFactorSession)&&void 0!==f&&f.pendingCredential)return ei._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(w=d.multiFactorSession)&&void 0!==w&&w.idToken)return ei._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ri{constructor(d,f,w){this.session=d,this.hints=f,this.signInResolver=w}static _fromError(d,f){const w=lr(d),G=f.customData._serverResponse,te=(G.mfaInfo||[]).map(vt=>X._fromServerResponse(w,vt));Le(G.mfaPendingCredential,w,"internal-error");const $e=ei._fromMfaPendingCredential(G.mfaPendingCredential);return new Ri($e,te,function(){var vt=(0,g.Z)(function*(Kt){const mn=yield Kt._process(w,$e);delete G.mfaInfo,delete G.mfaPendingCredential;const Ln=Object.assign(Object.assign({},G),{idToken:mn.idToken,refreshToken:mn.refreshToken});switch(f.operationType){case"signIn":const Vn=yield Br._fromIdTokenResponse(w,f.operationType,Ln);return yield w._updateCurrentUser(Vn.user),Vn;case"reauthenticate":return Le(f.user,w,"internal-error"),Br._forOperation(f.user,f.operationType,Ln);default:ge(w,"internal-error")}});return function(Kt){return vt.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,g.Z)(function*(){return f.signInResolver(d)})()}}class Ms{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(w=>X._fromServerResponse(d.auth,w)))})}static _fromUser(d){return new Ms(d)}getSession(){var d=this;return(0,g.Z)(function*(){return ei._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,f){var w=this;return(0,g.Z)(function*(){const G=d,te=yield w.getSession(),$e=yield Yn(w.user,G._process(w.user.auth,te,f));return yield w.user._updateTokensIfNecessary($e),w.user.reload()})()}unenroll(d){var f=this;return(0,g.Z)(function*(){const w="string"==typeof d?d:d.uid,G=yield f.user.getIdToken();try{const te=yield Yn(f.user,function ha(I,d){return Xe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(I,d))}(f.user.auth,{idToken:G,mfaEnrollmentId:w}));f.enrolledFactors=f.enrolledFactors.filter(({uid:$e})=>$e!==w),yield f.user._updateTokensIfNecessary(te),yield f.user.reload()}catch(te){throw te}})()}}const Za=new WeakMap,ba="__sak";class ur{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const mo=(()=>{class I extends ur{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,w)=>this.onStorageEvent(f,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ca(){const I=(0,Q.z$)();return oe(I)||ln(I)}()&&function Ai(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yi(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const w of Object.keys(this.listeners)){const G=this.storage.getItem(w),te=this.localCache[w];G!==te&&f(w,te,G)}}onStorageEvent(f,w=!1){if(!f.key)return void this.forAllChangedKeys((vt,Kt,mn)=>{this.notifyListeners(vt,mn)});const G=f.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(G);if(f.newValue!==vt)null!==f.newValue?this.storage.setItem(G,f.newValue):this.storage.removeItem(G);else if(this.localCache[G]===f.newValue&&!w)return}const te=()=>{const vt=this.storage.getItem(G);!w&&this.localCache[G]===vt||this.notifyListeners(G,vt)},$e=this.storage.getItem(G);!function fr(){return(0,Q.w1)()&&10===document.documentMode}()||$e===f.newValue||f.newValue===f.oldValue?te():setTimeout(te,10)}notifyListeners(f,w){this.localCache[f]=w;const G=this.listeners[f];if(G)for(const te of Array.from(G))te(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,w,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:w,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,w){var G=()=>super._set,te=this;return(0,g.Z)(function*(){yield G().call(te,f,w),te.localCache[f]=JSON.stringify(w)})()}_get(f){var w=()=>super._get,G=this;return(0,g.Z)(function*(){const te=yield w().call(G,f);return G.localCache[f]=JSON.stringify(te),te})()}_remove(f){var w=()=>super._remove,G=this;return(0,g.Z)(function*(){yield w().call(G,f),delete G.localCache[f]})()}}return I.type="LOCAL",I})(),vo=(()=>{class I extends ur{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,w){}_removeListener(f,w){}}return I.type="SESSION",I})();let Wi=(()=>{class I{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const w=this.receivers.find(te=>te.isListeningto(f));if(w)return w;const G=new I(f);return this.receivers.push(G),G}isListeningto(f){return this.eventTarget===f}handleEvent(f){var w=this;return(0,g.Z)(function*(){const G=f,{eventId:te,eventType:$e,data:vt}=G.data,Kt=w.handlersMap[$e];if(null==Kt||!Kt.size)return;G.ports[0].postMessage({status:"ack",eventId:te,eventType:$e});const mn=Array.from(Kt).map(function(){var Vn=(0,g.Z)(function*(Es){return Es(G.origin,vt)});return function(Es){return Vn.apply(this,arguments)}}()),Ln=yield function rn(I){return Promise.all(I.map(function(){var d=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(w){return{fulfilled:!1,reason:w}}});return function(f){return d.apply(this,arguments)}}()))}(mn);G.ports[0].postMessage({status:"done",eventId:te,eventType:$e,response:Ln})})()}_subscribe(f,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(w)}_unsubscribe(f,w){this.handlersMap[f]&&w&&this.handlersMap[f].delete(w),(!w||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function ts(I="",d=10){let f="";for(let w=0;w<d;w++)f+=Math.floor(10*Math.random());return I+f}class Ec{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,w=50){var G=this;return(0,g.Z)(function*(){const te=typeof MessageChannel<"u"?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let $e,vt;return new Promise((Kt,mn)=>{const Ln=ts("",20);te.port1.start();const Vn=setTimeout(()=>{mn(new Error("unsupported_event"))},w);vt={messageChannel:te,onMessage(Es){const Vo=Es;if(Vo.data.eventId===Ln)switch(Vo.data.status){case"ack":clearTimeout(Vn),$e=setTimeout(()=>{mn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),Kt(Vo.data.response);break;default:clearTimeout(Vn),clearTimeout($e),mn(new Error("invalid_response"))}}},G.handlers.add(vt),te.port1.addEventListener("message",vt.onMessage),G.target.postMessage({eventType:d,eventId:Ln,data:f},[te.port2])}).finally(()=>{vt&&G.removeMessageHandler(vt)})})()}}function pn(){return window}function Xr(){return typeof pn().WorkerGlobalScope<"u"&&"function"==typeof pn().importScripts}function Tt(){return(Tt=(0,g.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ta="firebaseLocalStorageDb",Sa="firebaseLocalStorage",Qa="fbase_key";class ml{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Dc(I,d){return I.transaction([Sa],d?"readwrite":"readonly").objectStore(Sa)}function Us(){const I=indexedDB.open(Ta,1);return new Promise((d,f)=>{I.addEventListener("error",()=>{f(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(Sa,{keyPath:Qa})}catch(G){f(G)}}),I.addEventListener("success",(0,g.Z)(function*(){const w=I.result;w.objectStoreNames.contains(Sa)?d(w):(w.close(),yield function wc(){const I=indexedDB.deleteDatabase(Ta);return new ml(I).toPromise()}(),d(yield Us()))}))})}function Go(I,d,f){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,g.Z)(function*(I,d,f){const w=Dc(I,!0).put({[Qa]:d,value:f});return new ml(w).toPromise()})).apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(I,d){const f=Dc(I,!1).get(d),w=yield new ml(f).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Aa(I,d){const f=Dc(I,!0).delete(d);return new ml(f).toPromise()}const Co=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield Us()),f.db})()}_withRetries(f){var w=this;return(0,g.Z)(function*(){let G=0;for(;;)try{const te=yield w._openDb();return yield f(te)}catch(te){if(G++>3)throw te;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return Xr()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=Wi._getInstance(function zr(){return Xr()?self:null}()),f.receiver._subscribe("keyChanged",function(){var w=(0,g.Z)(function*(G,te){return{keyProcessed:(yield f._poll()).includes(te.key)}});return function(G,te){return w.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var w=(0,g.Z)(function*(G,te){return["keyChanged"]});return function(G,te){return w.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var w,G;if(f.activeServiceWorker=yield function Dn(){return Tt.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Ec(f.activeServiceWorker);const te=yield f.sender._send("ping",{},800);te&&null!==(w=te[0])&&void 0!==w&&w.fulfilled&&null!==(G=te[0])&&void 0!==G&&G.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var w=this;return(0,g.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function kt(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:f},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Us();return yield Go(f,ba,"1"),yield Aa(f,ba),!0}catch{}return!1})()}_withPendingWrite(f){var w=this;return(0,g.Z)(function*(){w.pendingWrites++;try{yield f()}finally{w.pendingWrites--}})()}_set(f,w){var G=this;return(0,g.Z)(function*(){return G._withPendingWrite((0,g.Z)(function*(){return yield G._withRetries(te=>Go(te,f,w)),G.localCache[f]=w,G.notifyServiceWorker(f)}))})()}_get(f){var w=this;return(0,g.Z)(function*(){const G=yield w._withRetries(te=>function Xo(I,d){return rr.apply(this,arguments)}(te,f));return w.localCache[f]=G,G})()}_remove(f){var w=this;return(0,g.Z)(function*(){return w._withPendingWrite((0,g.Z)(function*(){return yield w._withRetries(G=>Aa(G,f)),delete w.localCache[f],w.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const w=yield f._withRetries($e=>{const vt=Dc($e,!1).getAll();return new ml(vt).toPromise()});if(!w)return[];if(0!==f.pendingWrites)return[];const G=[],te=new Set;for(const{fbase_key:$e,value:vt}of w)te.add($e),JSON.stringify(f.localCache[$e])!==JSON.stringify(vt)&&(f.notifyListeners($e,vt),G.push($e));for(const $e of Object.keys(f.localCache))f.localCache[$e]&&!te.has($e)&&(f.notifyListeners($e,null),G.push($e));return G})()}notifyListeners(f,w){this.localCache[f]=w;const G=this.listeners[f];if(G)for(const te of Array.from(G))te(w)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Qo=1e12;class fa{constructor(d){this.auth=d,this.counter=Qo,this._widgets=new Map}render(d,f){const w=this.counter;return this._widgets.set(w,new Kl(d,this.auth.name,f||{})),this.counter++,w}reset(d){var f;const w=d||Qo;null===(f=this._widgets.get(w))||void 0===f||f.delete(),this._widgets.delete(w)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Qo))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,g.Z)(function*(){var w;return null===(w=f._widgets.get(d||Qo))||void 0===w||w.execute(),""})()}}class Kl{constructor(d,f,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof d?document.getElementById(d):d;Le(G,"argument-error",{appName:f}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yl(I){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<I;w++)d.push(f.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const b=$r("rcb"),M=new gt(3e4,6e4);class T{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=pn().grecaptcha)||void 0===d||!d.render)}load(d,f=""){return Le(function F(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(f),d,"argument-error"),this.shouldResolveImmediately(f)&&Xt(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((w,G)=>{const te=pn().setTimeout(()=>{G(me(d,"network-request-failed"))},M.get());pn()[b]=()=>{pn().clearTimeout(te),delete pn()[b];const vt=pn().grecaptcha;if(!vt||!Xt(vt))return void G(me(d,"internal-error"));const Kt=vt.render;vt.render=(mn,Ln)=>{const Vn=Kt(mn,Ln);return this.counter++,Vn},this.hostLanguage=f,w(vt)},Mr(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:b,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(te),G(me(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!(null===(f=pn().grecaptcha)||void 0===f||!f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ne{load(d){return(0,g.Z)(function*(){return new fa(d)})()}clearedOneInstance(){}}const de="recaptcha",dt={theme:"light",type:"image"};class Wt{constructor(d,f=Object.assign({},dt),w){this.parameters=f,this.type=de,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(w),this.isInvisible="invisible"===this.parameters.size,Le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof d?document.getElementById(d):d;Le(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ne:new T,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),w=d.getAssertedRecaptcha();return w.getResponse(f)||new Promise(te=>{const $e=vt=>{vt&&(d.tokenChangeListeners.delete($e),te(vt))};d.tokenChangeListeners.add($e),d.isInvisible&&w.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Le(!this.parameters.sitekey,this.auth,"argument-error"),Le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(w=>w(f)),"function"==typeof d)d(f);else if("string"==typeof d){const w=pn()[d];"function"==typeof w&&w(f)}}}assertNotDestroyed(){Le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const w=document.createElement("div");f.appendChild(w),f=w}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){Le(It()&&!Xr(),d.auth,"internal-error"),yield function wt(){let I=null;return new Promise(d=>{"complete"!==document.readyState?(I=()=>d(),window.addEventListener("load",I)):d()}).catch(d=>{throw I&&window.removeEventListener("load",I),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function rt(I){return Ot.apply(this,arguments)}(d.auth);Le(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return Le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class He{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Rn._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function xr(){return(xr=(0,g.Z)(function*(I,d,f){const w=lr(I),G=yield Ls(w,d,(0,Q.m9)(f));return new He(G,te=>ro(w,te))})).apply(this,arguments)}function Ir(){return(Ir=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I);yield Ks(!1,w,"phone");const G=yield Ls(w.auth,d,(0,Q.m9)(f));return new He(G,te=>_a(w,te))})).apply(this,arguments)}function co(){return(co=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I),G=yield Ls(w.auth,d,(0,Q.m9)(f));return new He(G,te=>W(w,te))})).apply(this,arguments)}function Ls(I,d,f){return Po.apply(this,arguments)}function Po(){return Po=(0,g.Z)(function*(I,d,f){var w;const G=yield f.verify();try{let te;if(Le("string"==typeof G,I,"argument-error"),Le(f.type===de,I,"argument-error"),te="string"==typeof d?{phoneNumber:d}:d,"session"in te){const $e=te.session;if("phoneNumber"in te)return Le("enroll"===$e.type,I,"internal-error"),(yield function Oo(I,d){return Xe(I,"POST","/v2/accounts/mfaEnrollment:start",tt(I,d))}(I,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{Le("signin"===$e.type,I,"internal-error");const vt=(null===(w=te.multiFactorHint)||void 0===w?void 0:w.uid)||te.multiFactorUid;return Le(vt,I,"missing-multi-factor-info"),(yield function Gr(I,d){return Xe(I,"POST","/v2/accounts/mfaSignIn:start",tt(I,d))}(I,{mfaPendingCredential:$e.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield function Kn(I,d){return dr.apply(this,arguments)}(I,{phoneNumber:te.phoneNumber,recaptchaToken:G});return $e}}finally{f._reset()}}),Po.apply(this,arguments)}function Na(){return(Na=(0,g.Z)(function*(I,d){yield ds((0,Q.m9)(I),d)})).apply(this,arguments)}let ko=(()=>{class I{constructor(f){this.providerId=I.PROVIDER_ID,this.auth=lr(f)}verifyPhoneNumber(f,w){return Ls(this.auth,f,(0,Q.m9)(w))}static credential(f,w){return Rn._fromVerification(f,w)}static credentialFromResult(f){return I.credentialFromTaggedObject(f)}static credentialFromError(f){return I.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:w,temporaryProof:G}=f;return w&&G?Rn._fromTokenResponse(w,G):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function js(I,d){return d?vr(d):(Le(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Rs extends Ne{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ls(d,this._buildIdpRequest())}_linkToIdToken(d,f){return ls(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return ls(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function pa(I){return bo(I.auth,new Rs(I),I.bypassAuthState)}function iu(I){const{auth:d,user:f}=I;return Le(f,d,"internal-error"),ao(f,new Rs(I),I.bypassAuthState)}function Qs(I){return _l.apply(this,arguments)}function _l(){return(_l=(0,g.Z)(function*(I){const{auth:d,user:f}=I;return Le(f,d,"internal-error"),ds(f,new Rs(I),I.bypassAuthState)})).apply(this,arguments)}class su{constructor(d,f,w,G,te=!1){this.auth=d,this.resolver=w,this.user=G,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,g.Z)(function*(w,G){d.pendingPromise={resolve:w,reject:G};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(te){d.reject(te)}});return function(w,G){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,g.Z)(function*(){const{urlResponse:w,sessionId:G,postBody:te,tenantId:$e,error:vt,type:Kt}=d;if(vt)return void f.reject(vt);const mn={auth:f.auth,requestUri:w,sessionId:G,tenantId:$e||void 0,postBody:te||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Kt)(mn))}catch(Ln){f.reject(Ln)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return pa;case"linkViaPopup":case"linkViaRedirect":return Qs;case"reauthViaPopup":case"reauthViaRedirect":return iu;default:ge(this.auth,"internal-error")}}resolve(d){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hs=new gt(2e3,1e4);function Cc(){return(Cc=(0,g.Z)(function*(I,d,f){const w=lr(I);ye(I,d,Si);const G=js(w,f);return new el(w,"signInViaPopup",d,G).executeNotNull()})).apply(this,arguments)}function Zl(){return(Zl=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I);ye(w.auth,d,Si);const G=js(w.auth,f);return new el(w.auth,"reauthViaPopup",d,G,w).executeNotNull()})).apply(this,arguments)}function ou(){return(ou=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I);ye(w.auth,d,Si);const G=js(w.auth,f);return new el(w.auth,"linkViaPopup",d,G,w).executeNotNull()})).apply(this,arguments)}let el=(()=>{class I extends su{constructor(f,w,G,te,$e){super(f,w,te,$e),this.provider=G,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const w=yield f.execute();return Le(w,f.auth,"internal-error"),w})()}onExecution(){var f=this;return(0,g.Z)(function*(){ct(1===f.filter.length,"Popup operations only handle one event");const w=ts();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],w),f.authWindow.associatedEvent=w,f.resolver._originValidation(f.auth).catch(G=>{f.reject(G)}),f.resolver._isIframeWebStorageSupported(f.auth,G=>{G||f.reject(me(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const f=()=>{var w,G;this.pollId=null!==(G=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Hs.get())};f()}}return I.currentPopupAction=null,I})();const Xl="pendingRedirect",tl=new Map;class Bp extends su{constructor(d,f,w=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,w),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,g.Z)(function*(){let w=tl.get(f.auth._key());if(!w){try{const te=(yield function Sc(I,d){return au.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;w=()=>Promise.resolve(te)}catch(G){w=()=>Promise.reject(G)}tl.set(f.auth._key(),w)}return f.bypassAuthState||tl.set(f.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,w=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(w,d);if("unknown"!==d.type){if(d.eventId){const G=yield w.auth._redirectUserForId(d.eventId);if(G)return w.user=G,f().call(w,d);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function au(){return(au=(0,g.Z)(function*(I,d){const f=Ac(d),w=lu(I);if(!(yield w._isAvailable()))return!1;const G="true"===(yield w._get(f));return yield w._remove(f),G})).apply(this,arguments)}function Gu(I,d){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(I,d){return lu(I)._set(Ac(d),"true")})).apply(this,arguments)}function Il(I,d){tl.set(I._key(),d)}function lu(I){return vr(I._redirectPersistence)}function Ac(I){return Ve(Xl,I.config.apiKey,I.name)}function El(I,d,f){return function cu(I,d,f){return Mc.apply(this,arguments)}(I,d,f)}function Mc(){return(Mc=(0,g.Z)(function*(I,d,f){const w=lr(I);ye(I,d,Si),yield w._initializationPromise;const G=js(w,f);return yield Gu(G,w),G._openRedirect(w,d,"signInViaRedirect")})).apply(this,arguments)}function uu(I,d,f){return function Wu(I,d,f){return Dl.apply(this,arguments)}(I,d,f)}function Dl(){return(Dl=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I);ye(w.auth,d,Si),yield w.auth._initializationPromise;const G=js(w.auth,f);yield Gu(G,w.auth);const te=yield gi(w);return G._openRedirect(w.auth,d,"reauthViaRedirect",te)})).apply(this,arguments)}function zs(I,d,f){return function Wd(I,d,f){return Fo.apply(this,arguments)}(I,d,f)}function Fo(){return(Fo=(0,g.Z)(function*(I,d,f){const w=(0,Q.m9)(I);ye(w.auth,d,Si),yield w.auth._initializationPromise;const G=js(w.auth,f);yield Ks(!1,w,d.providerId),yield Gu(G,w.auth);const te=yield gi(w);return G._openRedirect(w.auth,d,"linkViaRedirect",te)})).apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(function*(I,d){return yield lr(I)._initializationPromise,Fa(I,d,!1)})).apply(this,arguments)}function Fa(I,d){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,g.Z)(function*(I,d,f=!1){const w=lr(I),G=js(w,d),$e=yield new Bp(w,G,f).execute();return $e&&!f&&(delete $e.user._redirectEventId,yield w._persistUserIfCurrent($e.user),yield w._setRedirectUser(null,d)),$e})).apply(this,arguments)}function gi(I){return wl.apply(this,arguments)}function wl(){return(wl=(0,g.Z)(function*(I){const d=ts(`${I.uid}:::`);return I._redirectEventId=d,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),d})).apply(this,arguments)}class io{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(d,w)&&(f=!0,this.sendToConsumer(d,w),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Os(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cl(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var w;if(d.error&&!Cl(d)){const G=(null===(w=d.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";f.onError(me(this.auth,G))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const w=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&w}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bl(d))}saveEventToCache(d){this.cachedEventUids.add(bl(d)),this.lastProcessedEventTime=Date.now()}}function bl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function Cl({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Yu(I){return ea.apply(this,arguments)}function ea(){return(ea=(0,g.Z)(function*(I,d={}){return Xe(I,"GET","/v1/projects",d)})).apply(this,arguments)}const Ki=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,To=/^https?/;function Wo(){return(Wo=(0,g.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield Yu(I);for(const f of d)try{if(La(f))return}catch{}ge(I,"unauthorized-domain")})).apply(this,arguments)}function La(I){const d=ht(),{protocol:f,hostname:w}=new URL(d);if(I.startsWith("chrome-extension://")){const $e=new URL(I);return""===$e.hostname&&""===w?"chrome-extension:"===f&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&$e.hostname===w}if(!To.test(f))return!1;if(Ki.test(I))return w===I;const G=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(w)}const Tl=new gt(3e4,6e4);function Ba(){const I=pn().___jsl;if(null!=I&&I.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let f=0;f<I.CP.length;f++)I.CP[f]=null}let Sl=null;const xa=new gt(5e3,15e3),du="__/auth/iframe",$a="emulator/auth/iframe",Yd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ta=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qu(I){const d=I.config;Le(d.authDomain,I,"auth-domain-config-required");const f=d.emulator?ue(d,$a):`https://${I.config.authDomain}/${du}`,w={apiKey:d.apiKey,appName:I.name,v:le.SDK_VERSION},G=ta.get(I.config.apiHost);G&&(w.eid=G);const te=I._getFrameworks();return te.length&&(w.fw=te.join(",")),`${f}?${(0,Q.xO)(w).slice(1)}`}function N(){return N=(0,g.Z)(function*(I){const d=yield function Lo(I){return Sl=Sl||function So(I){return new Promise((d,f)=>{var w,G,te;function $e(){Ba(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ba(),f(me(I,"network-request-failed"))},timeout:Tl.get()})}if(null!==(G=null===(w=pn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==G&&G.Iframe)d(gapi.iframes.getContext());else{if(null===(te=pn().gapi)||void 0===te||!te.load){const vt=$r("iframefcb");return pn()[vt]=()=>{gapi.load?$e():f(me(I,"network-request-failed"))},Mr(`https://apis.google.com/js/api.js?onload=${vt}`).catch(Kt=>f(Kt))}$e()}}).catch(d=>{throw Sl=null,d})}(I),Sl}(I),f=pn().gapi;return Le(f,I,"internal-error"),d.open({where:document.body,url:qu(I),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yd,dontclear:!0},w=>new Promise(function(){var G=(0,g.Z)(function*(te,$e){yield w.restyle({setHideOnLeave:!1});const vt=me(I,"network-request-failed"),Kt=pn().setTimeout(()=>{$e(vt)},xa.get());function mn(){pn().clearTimeout(Kt),te(w)}w.ping(mn).then(mn,()=>{$e(vt)})});return function(te,$e){return G.apply(this,arguments)}}()))}),N.apply(this,arguments)}const q={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _n{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Dr="__/auth/handler",wr="emulator/auth/handler",Bo=encodeURIComponent("fac");function oi(I,d,f,w,G,te){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(I,d,f,w,G,te){Le(I.config.authDomain,I,"auth-domain-config-required"),Le(I.config.apiKey,I,"invalid-api-key");const $e={apiKey:I.config.apiKey,appName:I.name,authType:f,redirectUrl:w,v:le.SDK_VERSION,eventId:G};if(d instanceof Si){d.setDefaultLanguage(I.languageCode),$e.providerId=d.providerId||"",(0,Q.xb)(d.getCustomParameters())||($e.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ln,Vn]of Object.entries(te||{}))$e[Ln]=Vn}if(d instanceof pi){const Ln=d.getScopes().filter(Vn=>""!==Vn);Ln.length>0&&($e.scopes=Ln.join(","))}I.tenantId&&($e.tid=I.tenantId);const vt=$e;for(const Ln of Object.keys(vt))void 0===vt[Ln]&&delete vt[Ln];const Kt=yield I._getAppCheckToken(),mn=Kt?`#${Bo}=${encodeURIComponent(Kt)}`:"";return`${function Pi({config:I}){return I.emulator?ue(I,wr):`https://${I.authDomain}/${Dr}`}(I)}?${(0,Q.xO)(vt).slice(1)}${mn}`})).apply(this,arguments)}const Ws="webStorageSupport",ra=class na{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vo,this._completeRedirectFn=Fa,this._overrideRedirectResult=Il}_openPopup(d,f,w,G){var te=this;return(0,g.Z)(function*(){var $e;ct(null===($e=te.eventManagers[d._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const vt=yield oi(d,f,w,ht(),G);return function gn(I,d,f,w=500,G=600){const te=Math.max((window.screen.availHeight-G)/2,0).toString(),$e=Math.max((window.screen.availWidth-w)/2,0).toString();let vt="";const Kt=Object.assign(Object.assign({},q),{width:w.toString(),height:G.toString(),top:te,left:$e}),mn=(0,Q.z$)().toLowerCase();f&&(vt=Ge(mn)?"_blank":f),Pe(mn)&&(d=d||"http://localhost",Kt.scrollbars="yes");const Ln=Object.entries(Kt).reduce((Es,[Vo,ac])=>`${Es}${Vo}=${ac},`,"");if(function br(I=(0,Q.z$)()){var d;return ln(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(mn)&&"_self"!==vt)return function jn(I,d){const f=document.createElement("a");f.href=I,f.target=d;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(w)}(d||"",vt),new _n(null);const Vn=window.open(d||"",vt,Ln);Le(Vn,I,"popup-blocked");try{Vn.focus()}catch{}return new _n(Vn)}(d,vt,ts())})()}_openRedirect(d,f,w,G){var te=this;return(0,g.Z)(function*(){return yield te._originValidation(d),function yt(I){pn().location.href=I}(yield oi(d,f,w,ht(),G)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:G,promise:te}=this.eventManagers[f];return G?Promise.resolve(G):(ct(te,"If manager is not set, promise should be"),te)}const w=this.initAndGetManager(d);return this.eventManagers[f]={promise:w},w.catch(()=>{delete this.eventManagers[f]}),w}initAndGetManager(d){var f=this;return(0,g.Z)(function*(){const w=yield function A(I){return N.apply(this,arguments)}(d),G=new io(d);return w.register("authEvent",te=>(Le(null==te?void 0:te.authEvent,d,"invalid-auth-event"),{status:G.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:G},f.iframes[d._key()]=w,G})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Ws,{type:Ws},G=>{var te;const $e=null===(te=null==G?void 0:G[0])||void 0===te?void 0:te[Ws];void 0!==$e&&f(!!$e),ge(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Ma(I){return Wo.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return yi()||oe()||ln()}};class nl{constructor(d){this.factorId=d}_process(d,f,w){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,w);case"signin":return this._finalizeSignIn(d,f.credential);default:return ze("unexpected MultiFactorSessionType")}}}class qd extends nl{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new qd(d)}_finalizeEnroll(d,f,w){return function go(I,d){return Xe(I,"POST","/v2/accounts/mfaEnrollment:finalize",tt(I,d))}(d,{idToken:f,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function ql(I,d){return Xe(I,"POST","/v2/accounts/mfaSignIn:finalize",tt(I,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ff=(()=>{class I{constructor(){}static assertion(f){return qd._fromCredential(f)}}return I.FACTOR_ID="phone",I})();var Jl="@firebase/auth";class xc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(w=>{d((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);f&&(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ec(){return window}(0,Q.Pz)("authIdTokenMaxAge"),function hu(I){(0,le._registerComponent)(new fe.wA("auth",(d,{options:f})=>{const w=d.getProvider("app").getImmediate(),G=d.getProvider("heartbeat"),te=d.getProvider("app-check-internal"),{apiKey:$e,authDomain:vt}=w.options;Le($e&&!$e.includes(":"),"invalid-api-key",{appName:w.name});const Kt={apiKey:$e,authDomain:vt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bt(I)},mn=new Ti(w,G,te,Kt);return function Qi(I,d){const f=(null==d?void 0:d.persistence)||[],w=(Array.isArray(f)?f:[f]).map(vr);null!=d&&d.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(w,null==d?void 0:d.popupRedirectResolver)}(mn,f),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,w)=>{d.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new fe.wA("auth-internal",d=>{const f=lr(d.getProvider("auth").getImmediate());return new xc(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Jl,"0.23.2",function pf(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,le.registerVersion)(Jl,"0.23.2","esm2017")}("Browser");function tc(){return tc=(0,g.Z)(function*(I,d,f){var w;const{BuildInfo:G}=ec();ct(d.sessionId,"AuthEvent did not contain a session ID");const te=yield function _f(I){return Ju.apply(this,arguments)}(d.sessionId),$e={};return ln()?$e.ibi=G.packageName:Bt()?$e.apn=G.packageName:ge(I,"operation-not-supported-in-this-environment"),G.displayName&&($e.appDisplayName=G.displayName),$e.sessionId=te,oi(I,f,d.type,void 0,null!==(w=d.eventId)&&void 0!==w?w:void 0,$e)}),tc.apply(this,arguments)}function Xu(){return(Xu=(0,g.Z)(function*(I){const{BuildInfo:d}=ec(),f={};ln()?f.iosBundleId=d.packageName:Bt()?f.androidPackageName=d.packageName:ge(I,"operation-not-supported-in-this-environment"),yield Yu(I,f)})).apply(this,arguments)}function pu(){return(pu=(0,g.Z)(function*(I,d,f){const{cordova:w}=ec();let G=()=>{};try{yield new Promise((te,$e)=>{let vt=null;function Kt(){var Vn;te();const Es=null===(Vn=w.plugins.browsertab)||void 0===Vn?void 0:Vn.close;"function"==typeof Es&&Es(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function mn(){vt||(vt=window.setTimeout(()=>{$e(me(I,"redirect-cancelled-by-user"))},2e3))}function Ln(){"visible"===(null==document?void 0:document.visibilityState)&&mn()}d.addPassiveListener(Kt),document.addEventListener("resume",mn,!1),Bt()&&document.addEventListener("visibilitychange",Ln,!1),G=()=>{d.removePassiveListener(Kt),document.removeEventListener("resume",mn,!1),document.removeEventListener("visibilitychange",Ln,!1),vt&&window.clearTimeout(vt)}})}finally{G()}})).apply(this,arguments)}function Ju(){return(Ju=(0,g.Z)(function*(I){const d=function ga(I){if(ct(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const d=new ArrayBuffer(I.length),f=new Uint8Array(d);for(let w=0;w<I.length;w++)f[w]=I.charCodeAt(w);return f}(I),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Oc extends io{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function Pc(I){return ed.apply(this,arguments)}function ed(){return(ed=(0,g.Z)(function*(I){const d=yield rc()._get(gu(I));return d&&(yield rc()._remove(gu(I))),d})).apply(this,arguments)}function $o(){const I=[];for(let f=0;f<20;f++){const w=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return I.join("")}function rc(){return vr(mo)}function gu(I){return Ve("authEvent",I.config.apiKey,I.name)}function mu(I){if(null==I||!I.includes("?"))return{};const[d,...f]=I.split("?");return(0,Q.zd)(f.join("?"))}const Up=class Vp{constructor(){this._redirectPersistence=vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fa,this._overrideRedirectResult=Il}_initialize(d){var f=this;return(0,g.Z)(function*(){const w=d._key();let G=f.eventManagers.get(w);return G||(G=new Oc(d),f.eventManagers.set(w,G),f.attachCallbackListeners(d,G)),G})()}_openPopup(d){ge(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,w,G){var te=this;return(0,g.Z)(function*(){!function Qu(I){var d,f,w,G,te,$e,vt,Kt,mn,Ln;const Vn=ec();Le("function"==typeof(null===(d=null==Vn?void 0:Vn.universalLinks)||void 0===d?void 0:d.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Le(typeof(null===(f=null==Vn?void 0:Vn.BuildInfo)||void 0===f?void 0:f.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Le("function"==typeof(null===(te=null===(G=null===(w=null==Vn?void 0:Vn.cordova)||void 0===w?void 0:w.plugins)||void 0===G?void 0:G.browsertab)||void 0===te?void 0:te.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Le("function"==typeof(null===(Kt=null===(vt=null===($e=null==Vn?void 0:Vn.cordova)||void 0===$e?void 0:$e.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===Kt?void 0:Kt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Le("function"==typeof(null===(Ln=null===(mn=null==Vn?void 0:Vn.cordova)||void 0===mn?void 0:mn.InAppBrowser)||void 0===Ln?void 0:Ln.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const $e=yield te._initialize(d);yield $e.initialized(),$e.resetRedirect(),function hf(){tl.clear()}(),yield te._originValidation(d);const vt=function Xd(I,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:$o(),postBody:null,tenantId:I.tenantId,error:me(I,"no-auth-event")}}(d,w,G);yield function If(I,d){return rc()._set(gu(I),d)}(d,vt);const Kt=yield function Rc(I,d,f){return tc.apply(this,arguments)}(d,vt,f),mn=yield function Ml(I){const{cordova:d}=ec();return new Promise(f=>{d.plugins.browsertab.isAvailable(w=>{let G=null;w?d.plugins.browsertab.openUrl(I):G=d.InAppBrowser.open(I,function Fn(I=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),f(G)})})}(Kt);return function fu(I,d,f){return pu.apply(this,arguments)}(d,$e,mn)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function $p(I){return Xu.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:w,handleOpenURL:G,BuildInfo:te}=ec(),$e=setTimeout((0,g.Z)(function*(){yield Pc(d),f.onEvent(jp())}),500),vt=function(){var Ln=(0,g.Z)(function*(Vn){clearTimeout($e);const Es=yield Pc(d);let Vo=null;Es&&null!=Vn&&Vn.url&&(Vo=function nc(I,d){var f,w;const G=function nd(I){const d=mu(I),f=d.link?decodeURIComponent(d.link):void 0,w=mu(f).link,G=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return mu(G).link||G||w||f||I}(d);if(G.includes("/__/auth/callback")){const te=mu(G),$e=te.firebaseError?function td(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(te.firebaseError)):null,vt=null===(w=null===(f=null==$e?void 0:$e.code)||void 0===f?void 0:f.split("auth/"))||void 0===w?void 0:w[1],Kt=vt?me(vt):null;return Kt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:G,postBody:null}}return null}(Es,Vn.url)),f.onEvent(Vo||jp())});return function(Es){return Ln.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,vt);const Kt=G,mn=`${te.packageName.toLowerCase()}://`;ec().handleOpenURL=function(){var Ln=(0,g.Z)(function*(Vn){if(Vn.toLowerCase().startsWith(mn)&&vt({url:Vn}),"function"==typeof Kt)try{Kt(Vn)}catch(Es){console.error(Es)}});return function(Vn){return Ln.apply(this,arguments)}}()}};function jp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function Va(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function Ao(I=(0,Q.z$)()){return!("file:"!==Va()&&"ionic:"!==Va()&&"capacitor:"!==Va()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){try{const I=self.localStorage,d=ts();if(I)return I.setItem(d,"1"),I.removeItem(d),!function od(I=(0,Q.z$)()){return function Nc(){return(0,Q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function sd(I=(0,Q.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,Q.hl)()}catch{return th()&&(0,Q.hl)()}return!1}function th(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vu(){return(function Jd(){return"http:"===Va()||"https:"===Va()}()||(0,Q.ru)()||Ao())&&!function eh(){return(0,Q.b$)()||(0,Q.UG)()}()&&Sr()&&!th()}function nh(){return Ao()&&typeof document<"u"}function kc(){return(kc=(0,g.Z)(function*(){return!!nh()&&new Promise(I=>{const d=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),I(!0)})})})).apply(this,arguments)}const ia={LOCAL:"local",NONE:"none",SESSION:"session"},yu=Le,ld="persistence";function il(I){return _o.apply(this,arguments)}function _o(){return(_o=(0,g.Z)(function*(I){yield I._initializationPromise;const d=cd(),f=Ve(ld,I.config.apiKey,I.name);d&&d.setItem(f,I._getPersistence())})).apply(this,arguments)}function cd(){var I;try{return(null===(I=function ad(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const xl=Le;class Is{constructor(){this.browserResolver=vr(ra),this.cordovaResolver=vr(Up),this.underlyingResolver=null,this._redirectPersistence=vo,this._completeRedirectFn=Fa,this._overrideRedirectResult=Il}_initialize(d){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,w,G){var te=this;return(0,g.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openPopup(d,f,w,G)})()}_openRedirect(d,f,w,G){var te=this;return(0,g.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openRedirect(d,f,w,G)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return nh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const f=yield function rh(){return kc.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function ic(I){return I.unwrap()}function Ef(I){return os(I)}function os(I){const{_tokenResponse:d}=I instanceof Q.ZR?I.customData:I;if(!d)return null;if(!(I instanceof Q.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ko.credentialFromResult(I);const f=d.providerId;if(!f||f===Ue.PASSWORD)return null;let w;switch(f){case Ue.GOOGLE:w=Ts;break;case Ue.FACEBOOK:w=wo;break;case Ue.GITHUB:w=es;break;case Ue.TWITTER:w=ks;break;default:const{oauthIdToken:G,oauthAccessToken:te,oauthTokenSecret:$e,pendingToken:vt,nonce:Kt}=d;return te||$e||G||vt?vt?f.startsWith("saml.")?Ss._create(f,vt):tn._fromParams({providerId:f,signInMethod:f,pendingToken:vt,idToken:G,accessToken:te}):new us(f).credential({idToken:G,accessToken:te,rawNonce:Kt}):null}return I instanceof Q.ZR?w.credentialFromError(I):w.credentialFromResult(I)}function Io(I,d){return d.catch(f=>{throw f instanceof Q.ZR&&function Hp(I,d){var f;const w=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null==d?void 0:d.code))d.resolver=new Df(I,function ps(I,d){var f;const w=(0,Q.m9)(I),G=d;return Le(d.customData.operationType,w,"argument-error"),Le(null===(f=G.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,w,"argument-error"),Ri._fromError(w,G)}(I,d));else if(w){const G=os(d),te=d;G&&(te.credential=G,te.tenantId=w.tenantId||void 0,te.email=w.email||void 0,te.phoneNumber=w.phoneNumber||void 0)}}(I,f),f}).then(f=>{const G=f.user;return{operationType:f.operationType,credential:Ef(f),additionalUserInfo:$(f),user:sa.getOrCreate(G)}})}function sc(I,d){return ud.apply(this,arguments)}function ud(){return(ud=(0,g.Z)(function*(I,d){const f=yield d;return{verificationId:f.verificationId,confirm:w=>Io(I,f.confirm(w))}})).apply(this,arguments)}class Df{constructor(d,f){this.resolver=f,this.auth=function Lc(I){return I.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Io(ic(this.auth),this.resolver.resolveSignIn(d))}}class sa{constructor(d){this._delegate=d,this.multiFactor=function wa(I){const d=(0,Q.m9)(I);return Za.has(d)||Za.set(d,Ms._fromUser(d)),Za.get(d)}(d)}static getOrCreate(d){return sa.USER_MAP.has(d)||sa.USER_MAP.set(d,new sa(d)),sa.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,g.Z)(function*(){return Io(f.auth,_a(f._delegate,d))})()}linkWithPhoneNumber(d,f){var w=this;return(0,g.Z)(function*(){return sc(w.auth,function xs(I,d,f){return Ir.apply(this,arguments)}(w._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,g.Z)(function*(){return Io(f.auth,function Tc(I,d,f){return ou.apply(this,arguments)}(f._delegate,d,Is))})()}linkWithRedirect(d){var f=this;return(0,g.Z)(function*(){return yield il(lr(f.auth)),zs(f._delegate,d,Is)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,g.Z)(function*(){return Io(f.auth,W(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return sc(this.auth,function $i(I,d,f){return co.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return Io(this.auth,function Gd(I,d,f){return Zl.apply(this,arguments)}(this._delegate,d,Is))}reauthenticateWithRedirect(d){var f=this;return(0,g.Z)(function*(){return yield il(lr(f.auth)),uu(f._delegate,d,Is)})()}sendEmailVerification(d){return function Ya(I,d){return ua.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,g.Z)(function*(){return yield function oo(I,d){return xi.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function Xs(I,d){return pl((0,Q.m9)(I),d,null)}(this._delegate,d)}updatePassword(d){return function Da(I,d){return pl((0,Q.m9)(I),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function No(I,d){return Na.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Gl(I,d){return Ea.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function po(I,d,f){return da.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sa.USER_MAP=new WeakMap;const _u=Le;let Iu=(()=>{class I{constructor(f,w){if(this.app=f,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=f.options;_u(G,"invalid-api-key",{appName:f.name}),_u(G,"invalid-api-key",{appName:f.name});const te=typeof window<"u"?Is:void 0;this._delegate=w.initialize({options:{persistence:al(G,f.name),popupRedirectResolver:te}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,w){!function Ui(I,d,f){const w=lr(I);Le(w._canInitEmulator,w,"emulator-config-failed"),Le(/^https?:\/\//.test(d),w,"invalid-emulator-scheme");const G=!(null==f||!f.disableWarnings),te=Cr(d),{host:$e,port:vt}=function ee(I){const d=Cr(I),f=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!f)return{host:"",port:null};const w=f[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(w);if(G){const te=G[1];return{host:te,port:K(w.substr(te.length+1))}}{const[te,$e]=w.split(":");return{host:te,port:K($e)}}}(d);w.config.emulator={url:`${te}//${$e}${null===vt?"":`:${vt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$e,port:vt,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function Ee(){function I(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,f,w)}applyActionCode(f){return function Gt(I,d){return an.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return An(this._delegate,f)}confirmPasswordReset(f,w){return function ie(I,d,f){return pt.apply(this,arguments)}(this._delegate,f,w)}createUserWithEmailAndPassword(f,w){var G=this;return(0,g.Z)(function*(){return Io(G._delegate,function Vr(I,d,f){return hs.apply(this,arguments)}(G._delegate,f,w))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function ca(I,d){return xo.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Ei(I,d){const f=gs.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,g.Z)(function*(){_u(vu(),f._delegate,"operation-not-supported-in-this-environment");const w=yield function ka(I,d){return Oi.apply(this,arguments)}(f._delegate,Is);return w?Io(f._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function rl(I,d){lr(I)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,w,G){const{next:te,error:$e,complete:vt}=ol(f,w,G);return this._delegate.onAuthStateChanged(te,$e,vt)}onIdTokenChanged(f,w,G){const{next:te,error:$e,complete:vt}=ol(f,w,G);return this._delegate.onIdTokenChanged(te,$e,vt)}sendSignInLinkToEmail(f,w){return function Bi(I,d,f){return Fs.apply(this,arguments)}(this._delegate,f,w)}sendPasswordResetEmail(f,w){return function _(I,d,f){return B.apply(this,arguments)}(this._delegate,f,w||void 0)}setPersistence(f){var w=this;return(0,g.Z)(function*(){let G;switch(function Fc(I,d){yu(Object.values(ia).includes(d),I,"invalid-persistence-type"),(0,Q.b$)()?yu(d!==ia.SESSION,I,"unsupported-persistence-type"):(0,Q.UG)()?yu(d===ia.NONE,I,"unsupported-persistence-type"):th()?yu(d===ia.NONE||d===ia.LOCAL&&(0,Q.hl)(),I,"unsupported-persistence-type"):yu(d===ia.NONE||Sr(),I,"unsupported-persistence-type")}(w._delegate,f),f){case ia.SESSION:G=vo;break;case ia.LOCAL:G=(yield vr(Co)._isAvailable())?Co:mo;break;case ia.NONE:G=qn;break;default:return ge("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Io(this._delegate,function to(I){return Mi.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Io(this._delegate,ro(this._delegate,f))}signInWithCustomToken(f){return Io(this._delegate,function V(I,d){return P.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,w){return Io(this._delegate,function Gi(I,d,f){return ro((0,Q.m9)(I),Vs.credential(d,f))}(this._delegate,f,w))}signInWithEmailLink(f,w){return Io(this._delegate,function fs(I,d,f){return fl.apply(this,arguments)}(this._delegate,f,w))}signInWithPhoneNumber(f,w){return sc(this._delegate,function tr(I,d,f){return xr.apply(this,arguments)}(this._delegate,f,w))}signInWithPopup(f){var w=this;return(0,g.Z)(function*(){return _u(vu(),w._delegate,"operation-not-supported-in-this-environment"),Io(w._delegate,function bc(I,d,f){return Cc.apply(this,arguments)}(w._delegate,f,Is))})()}signInWithRedirect(f){var w=this;return(0,g.Z)(function*(){return _u(vu(),w._delegate,"operation-not-supported-in-this-environment"),yield il(w._delegate),El(w._delegate,f,Is)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Jr(I,d){return Hr.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=ia,I})();function ol(I,d,f){let w=I;"function"!=typeof I&&({next:w,error:d,complete:f}=I);const G=w;return{next:$e=>G($e&&sa.getOrCreate($e)),error:d,complete:f}}function al(I,d){const f=function sl(I,d){const f=cd();if(!f)return[];const w=Ve(ld,I,d);switch(f.getItem(w)){case ia.NONE:return[qn];case ia.LOCAL:return[Co,vo];case ia.SESSION:return[vo];default:return[]}}(I,d);if(typeof self<"u"&&!f.includes(Co)&&f.push(Co),typeof window<"u")for(const w of[mo,vo])f.includes(w)||f.push(w);return f.includes(qn)||f.push(qn),f}class Rl{constructor(){this.providerId="phone",this._delegate=new ko(ic(p.Z.auth()))}static credential(d,f){return ko.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}Rl.PHONE_SIGN_IN_METHOD=ko.PHONE_SIGN_IN_METHOD,Rl.PROVIDER_ID=ko.PROVIDER_ID;const wf=Le;class bf{constructor(d,f,w=p.Z.app()){var G;wf(null===(G=w.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Wt(d,f,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dd(I){I.INTERNAL.registerComponent(new fe.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),w=d.getProvider("auth");return new Iu(f,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vs,FacebookAuthProvider:wo,GithubAuthProvider:es,GoogleAuthProvider:Ts,OAuthProvider:us,SAMLAuthProvider:ms,PhoneAuthProvider:Rl,PhoneMultiFactorGenerator:ff,RecaptchaVerifier:bf,TwitterAuthProvider:ks,Auth:Iu,AuthCredential:Ne,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.2")}(p.Z)},5861:(en,nt,O)=>{"use strict";function g(Q,le,we,Ce,fe,qe,Ue){try{var _e=Q[qe](Ue),se=_e.value}catch(Oe){return void we(Oe)}_e.done?le(se):Promise.resolve(se).then(Ce,fe)}function p(Q){return function(){var le=this,we=arguments;return new Promise(function(Ce,fe){var qe=Q.apply(le,we);function Ue(se){g(qe,Ce,fe,Ue,_e,"next",se)}function _e(se){g(qe,Ce,fe,Ue,_e,"throw",se)}Ue(void 0)})}}O.d(nt,{Z:()=>p})},7582:(en,nt,O)=>{"use strict";function le(ue,Ie){var Fe={};for(var Ze in ue)Object.prototype.hasOwnProperty.call(ue,Ze)&&Ie.indexOf(Ze)<0&&(Fe[Ze]=ue[Ze]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Ze=Object.getOwnPropertySymbols(ue);tt<Ze.length;tt++)Ie.indexOf(Ze[tt])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ze[tt])&&(Fe[Ze[tt]]=ue[Ze[tt]])}return Fe}function we(ue,Ie,Fe,Ze){var $t,tt=arguments.length,Xe=tt<3?Ie:null===Ze?Ze=Object.getOwnPropertyDescriptor(Ie,Fe):Ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(ue,Ie,Fe,Ze);else for(var Yt=ue.length-1;Yt>=0;Yt--)($t=ue[Yt])&&(Xe=(tt<3?$t(Xe):tt>3?$t(Ie,Fe,Xe):$t(Ie,Fe))||Xe);return tt>3&&Xe&&Object.defineProperty(Ie,Fe,Xe),Xe}function Oe(ue,Ie,Fe,Ze){return new(Fe||(Fe=Promise))(function(Xe,$t){function Yt(at){try{Te(Ze.next(at))}catch(St){$t(St)}}function ft(at){try{Te(Ze.throw(at))}catch(St){$t(St)}}function Te(at){at.done?Xe(at.value):function tt(Xe){return Xe instanceof Fe?Xe:new Fe(function($t){$t(Xe)})}(at.value).then(Yt,ft)}Te((Ze=Ze.apply(ue,Ie||[])).next())})}function ve(ue){return this instanceof ve?(this.v=ue,this):new ve(ue)}function ge(ue,Ie,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Ze=Fe.apply(ue,Ie||[]),Xe=[];return tt={},$t("next"),$t("throw"),$t("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function $t(Ct){Ze[Ct]&&(tt[Ct]=function(qt){return new Promise(function(In,cn){Xe.push([Ct,qt,In,cn])>1||Yt(Ct,qt)})})}function Yt(Ct,qt){try{!function ft(Ct){Ct.value instanceof ve?Promise.resolve(Ct.value.v).then(Te,at):St(Xe[0][2],Ct)}(Ze[Ct](qt))}catch(In){St(Xe[0][3],In)}}function Te(Ct){Yt("next",Ct)}function at(Ct){Yt("throw",Ct)}function St(Ct,qt){Ct(qt),Xe.shift(),Xe.length&&Yt(Xe[0][0],Xe[0][1])}}function Se(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Ie=ue[Symbol.asyncIterator];return Ie?Ie.call(ue):(ue=function lt(ue){var Ie="function"==typeof Symbol&&Symbol.iterator,Fe=Ie&&ue[Ie],Ze=0;if(Fe)return Fe.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ze>=ue.length&&(ue=void 0),{value:ue&&ue[Ze++],done:!ue}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Fe={},Ze("next"),Ze("throw"),Ze("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function Ze(Xe){Fe[Xe]=ue[Xe]&&function($t){return new Promise(function(Yt,ft){!function tt(Xe,$t,Yt,ft){Promise.resolve(ft).then(function(Te){Xe({value:Te,done:Yt})},$t)}(Yt,ft,($t=ue[Xe]($t)).done,$t.value)})}}}O.d(nt,{FC:()=>ge,KL:()=>Se,_T:()=>le,gn:()=>we,mG:()=>Oe,qq:()=>ve}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=6162)}]);