"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3244],{3244:(Z,m,s)=>{s.r(m),s.d(m,{DepartamentosPageModule:()=>P});var p=s(6814),g=s(95),e=s(7027),d=s(2891),u=s(5861),t=s(5879),h=s(7523);function f(a,i){if(1&a){const r=t.EpF();t.TgZ(0,"ion-col")(1,"ion-card",8),t.NdJ("click",function(){const c=t.CHM(r).$implicit,l=t.oxw();return t.KtG(l.presentActionSheet(c))}),t.TgZ(2,"ion-card-header")(3,"ion-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"ion-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-card-content")(8,"ion-list")(9,"ion-item")(10,"ion-label"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-label"),t._uU(14),t.qZA()()()()()()}if(2&a){const r=i.$implicit;t.xp6(4),t.Oqu(r.nombre),t.xp6(2),t.Oqu(r.sucursal),t.xp6(5),t.hij("Creado Por: ",r.autor,""),t.xp6(3),t.hij("Fecha Creaci\xf3n: ",r.fecha_creacion,"")}}const D=function(){return["/agregar-departamento"]},v=[{path:"",component:(()=>{var a;class i{constructor(o,n,c,l){this.actionSheetCtrl=o,this.router=n,this.alertController=c,this.db=l,this.departamentos=[]}presentActionSheet(o){var n=this;return(0,u.Z)(function*(){yield(yield n.actionSheetCtrl.create({header:"Opciones De Departamento",backdropDismiss:!1,buttons:[{text:"Eliminar",role:"destructive",data:{action:"delete"},handler:()=>{n.eliminacion(o)}},{text:"Ver Empleados",data:{action:"actualizarDatos"},handler:()=>{n.verEmpleados()}},{text:"Cerrar",role:"cancel",data:{action:"cancel"}}]})).present()})()}eliminacion(o){var n=this;return(0,u.Z)(function*(){yield(yield n.alertController.create({header:"\xa1Advertencia!",message:"\xbfRealmente desea eliminar este departamento?",buttons:[{text:"S\xed",handler:()=>{n.db.list("DEPARTAMENTOS").remove(o.key).then(()=>{console.log("Departamento eliminado con \xe9xito")}).catch(l=>{console.error("Error al eliminar el departamento: ",l)})}},"No"]})).present()})()}verEmpleados(){this.router.navigate(["/empleados"])}ngOnInit(){this.cargarDepartamentos()}cargarDepartamentos(){this.db.list("DEPARTAMENTOS").snapshotChanges().subscribe(o=>{this.departamentos=o.map(n=>{const c=n.payload.val();return{key:n.payload.key,...c}})})}}return(a=i).\u0275fac=function(o){return new(o||a)(t.Y36(e.BX),t.Y36(d.F0),t.Y36(e.Br),t.Y36(h.KQ))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-departamentos"]],decls:13,vars:4,consts:[[3,"translucent"],["color","primary"],["slot","start","color","secondary"],["slot","start"],["slot","fixed","vertical","bottom","horizontal","end"],["color","secondary",3,"routerLink"],["name","add"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3,"Departamentos"),t.qZA(),t._UZ(4,"ion-back-button",2)(5,"ion-menu-button",3),t.qZA()(),t.TgZ(6,"ion-content")(7,"ion-fab",4)(8,"ion-fab-button",5),t._UZ(9,"ion-icon",6),t.qZA()(),t.TgZ(10,"ion-grid")(11,"ion-row"),t.YNc(12,f,15,4,"ion-col",7),t.qZA()()()),2&o&&(t.Q6J("translucent",!0),t.xp6(8),t.Q6J("routerLink",t.DdM(3,D)),t.xp6(4),t.Q6J("ngForOf",n.departamentos))},dependencies:[p.sg,e.oU,e.PM,e.FN,e.Zi,e.tO,e.Dq,e.wI,e.W2,e.IJ,e.W4,e.jY,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.fG,e.Nd,e.wd,e.sr,e.cs,e.YI,d.rH],styles:["ion-item[_ngcontent-%COMP%]{--padding-start: 0}ion-fab[_ngcontent-%COMP%]{margin-bottom:20px}"]}),i})()}];let y=(()=>{var a;class i{}return(a=i).\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.Bz.forChild(v),d.Bz]}),i})(),P=(()=>{var a;class i{}return(a=i).\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.ez,g.u5,e.Pc,y]}),i})()}}]);